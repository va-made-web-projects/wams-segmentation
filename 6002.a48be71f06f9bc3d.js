(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6002],{4735:function(){(function(){"use strict";var vt;function L(u){var _=0;return function(){return _<u.length?{done:!1,value:u[_++]}:{done:!0}}}var t="function"==typeof Object.defineProperties?Object.defineProperty:function(u,_,T){return u==Array.prototype||u==Object.prototype||(u[_]=T.value),u},B=function b(u){u=["object"==typeof globalThis&&globalThis,u,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var _=0;_<u.length;++_){var T=u[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}(this);function h(u,_){if(_)t:{var T=B;u=u.split(".");for(var rt=0;rt<u.length-1;rt++){var It=u[rt];if(!(It in T))break t;T=T[It]}(_=_(rt=T[u=u[u.length-1]]))!=rt&&null!=_&&t(T,u,{configurable:!0,writable:!0,value:_})}}function M(u){return(u={next:u})[Symbol.iterator]=function(){return this},u}function O(u){var _=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return _?_.call(u):{next:L(u)}}function E(u){if(!(u instanceof Array)){u=O(u);for(var _,T=[];!(_=u.next()).done;)T.push(_.value);u=T}return u}h("Symbol",function(u){function T(Ft,wt){this.g=Ft,t(this,"description",{configurable:!0,writable:!0,value:wt})}if(u)return u;T.prototype.toString=function(){return this.g};var rt="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",It=0;return function _(Ft){if(this instanceof _)throw new TypeError("Symbol is not a constructor");return new T(rt+(Ft||"")+"_"+It++,Ft)}}),h("Symbol.iterator",function(u){if(u)return u;u=Symbol("Symbol.iterator");for(var _="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),T=0;T<_.length;T++){var rt=B[_[T]];"function"==typeof rt&&"function"!=typeof rt.prototype[u]&&t(rt.prototype,u,{configurable:!0,writable:!0,value:function(){return M(L(this))}})}return u});var f,v="function"==typeof Object.create?Object.create:function(u){function _(){}return _.prototype=u,new _};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{var s;t:{var m={};try{m.__proto__={a:!0},s=m.a;break t}catch{}s=!1}f=s?function(u,_){if(u.__proto__=_,u.__proto__!==_)throw new TypeError(u+" is not extensible");return u}:null}var g=f;function S(u,_){if(u.prototype=v(_.prototype),u.prototype.constructor=u,g)g(u,_);else for(var T in _)if("prototype"!=T)if(Object.defineProperties){var rt=Object.getOwnPropertyDescriptor(_,T);rt&&Object.defineProperty(u,T,rt)}else u[T]=_[T];u.ea=_.prototype}function j(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function $(u){if(u.l)throw new TypeError("Generator is already running");u.l=!0}function Y(u,_){u.j={U:_,V:!0},u.g=u.m||u.s}function Q(u,_,T){return u.g=T,{value:_}}function dt(u){this.g=new j,this.h=u}function Wt(u,_,T,rt){try{var It=_.call(u.g.i,T);if(!(It instanceof Object))throw new TypeError("Iterator result "+It+" is not an object");if(!It.done)return u.g.l=!1,It;var Ft=It.value}catch(wt){return u.g.i=null,Y(u.g,wt),G(u)}return u.g.i=null,rt.call(u.g,Ft),G(u)}function G(u){for(;u.g.g;)try{var _=u.h(u.g);if(_)return u.g.l=!1,{value:_.value,done:!1}}catch(T){u.g.h=void 0,Y(u.g,T)}if(u.g.l=!1,u.g.j){if(_=u.g.j,u.g.j=null,_.V)throw _.U;return{value:_.return,done:!0}}return{value:void 0,done:!0}}function et(u){this.next=function(_){return $(u.g),u.g.i?_=Wt(u,u.g.i.next,_,u.g.o):(u.g.o(_),_=G(u)),_},this.throw=function(_){return $(u.g),u.g.i?_=Wt(u,u.g.i.throw,_,u.g.o):(Y(u.g,_),_=G(u)),_},this.return=function(_){return function ht(u,_){$(u.g);var T=u.g.i;return T?Wt(u,"return"in T?T.return:function(rt){return{value:rt,done:!0}},_,u.g.return):(u.g.return(_),G(u))}(u,_)},this[Symbol.iterator]=function(){return this}}function nt(u,_){return _=new et(new dt(_)),g&&u.prototype&&g(_,u.prototype),_}j.prototype.o=function(u){this.h=u},j.prototype.return=function(u){this.j={return:u},this.g=this.s};var N="function"==typeof Object.assign?Object.assign:function(u,_){for(var T=1;T<arguments.length;T++){var rt=arguments[T];if(rt)for(var It in rt)Object.prototype.hasOwnProperty.call(rt,It)&&(u[It]=rt[It])}return u};h("Object.assign",function(u){return u||N}),h("Promise",function(u){function _(wt){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Vt=this.j();try{wt(Vt.resolve,Vt.reject)}catch(re){Vt.reject(re)}}function T(){this.g=null}function rt(wt){return wt instanceof _?wt:new _(function(Vt){Vt(wt)})}if(u)return u;T.prototype.h=function(wt){if(null==this.g){this.g=[];var Vt=this;this.i(function(){Vt.l()})}this.g.push(wt)};var It=B.setTimeout;T.prototype.i=function(wt){It(wt,0)},T.prototype.l=function(){for(;this.g&&this.g.length;){var wt=this.g;this.g=[];for(var Vt=0;Vt<wt.length;++Vt){var re=wt[Vt];wt[Vt]=null;try{re()}catch(se){this.j(se)}}}this.g=null},T.prototype.j=function(wt){this.i(function(){throw wt})},_.prototype.j=function(){function wt(se){return function(we){re||(re=!0,se.call(Vt,we))}}var Vt=this,re=!1;return{resolve:wt(this.C),reject:wt(this.l)}},_.prototype.C=function(wt){if(wt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(wt instanceof _)this.F(wt);else{t:switch(typeof wt){case"object":var Vt=null!=wt;break t;case"function":Vt=!0;break t;default:Vt=!1}Vt?this.u(wt):this.m(wt)}},_.prototype.u=function(wt){var Vt=void 0;try{Vt=wt.then}catch(re){return void this.l(re)}"function"==typeof Vt?this.G(Vt,wt):this.m(wt)},_.prototype.l=function(wt){this.s(2,wt)},_.prototype.m=function(wt){this.s(1,wt)},_.prototype.s=function(wt,Vt){if(0!=this.h)throw Error("Cannot settle("+wt+", "+Vt+"): Promise already settled in state"+this.h);this.h=wt,this.i=Vt,2===this.h&&this.D(),this.A()},_.prototype.D=function(){var wt=this;It(function(){if(wt.B()){var Vt=B.console;typeof Vt<"u"&&Vt.error(wt.i)}},1)},_.prototype.B=function(){if(this.o)return!1;var wt=B.CustomEvent,Vt=B.Event,re=B.dispatchEvent;return typeof re>"u"||("function"==typeof wt?wt=new wt("unhandledrejection",{cancelable:!0}):"function"==typeof Vt?wt=new Vt("unhandledrejection",{cancelable:!0}):(wt=B.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,wt),wt.promise=this,wt.reason=this.i,re(wt))},_.prototype.A=function(){if(null!=this.g){for(var wt=0;wt<this.g.length;++wt)Ft.h(this.g[wt]);this.g=null}};var Ft=new T;return _.prototype.F=function(wt){var Vt=this.j();wt.J(Vt.resolve,Vt.reject)},_.prototype.G=function(wt,Vt){var re=this.j();try{wt.call(Vt,re.resolve,re.reject)}catch(se){re.reject(se)}},_.prototype.then=function(wt,Vt){function re(Qe,$e){return"function"==typeof Qe?function(_e){try{se(Qe(_e))}catch(Re){we(Re)}}:$e}var se,we,an=new _(function(Qe,$e){se=Qe,we=$e});return this.J(re(wt,se),re(Vt,we)),an},_.prototype.catch=function(wt){return this.then(void 0,wt)},_.prototype.J=function(wt,Vt){function re(){switch(se.h){case 1:wt(se.i);break;case 2:Vt(se.i);break;default:throw Error("Unexpected state: "+se.h)}}var se=this;null==this.g?Ft.h(re):this.g.push(re),this.o=!0},_.resolve=rt,_.reject=function(wt){return new _(function(Vt,re){re(wt)})},_.race=function(wt){return new _(function(Vt,re){for(var se=O(wt),we=se.next();!we.done;we=se.next())rt(we.value).J(Vt,re)})},_.all=function(wt){var Vt=O(wt),re=Vt.next();return re.done?rt([]):new _(function(se,we){function an(_e){return function(Re){Qe[_e]=Re,0==--$e&&se(Qe)}}var Qe=[],$e=0;do{Qe.push(void 0),$e++,rt(re.value).J(an(Qe.length-1),we),re=Vt.next()}while(!re.done)})},_}),h("Object.is",function(u){return u||function(_,T){return _===T?0!==_||1/_==1/T:_!=_&&T!=T}}),h("Array.prototype.includes",function(u){return u||function(_,T){var rt=this;rt instanceof String&&(rt=String(rt));var It=rt.length;for(0>(T=T||0)&&(T=Math.max(T+It,0));T<It;T++){var Ft=rt[T];if(Ft===_||Object.is(Ft,_))return!0}return!1}}),h("String.prototype.includes",function(u){return u||function(_,T){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(_ instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(_,T||0)}}),h("Array.prototype.keys",function(u){return u||function(){return function x(u,_){u instanceof String&&(u+="");var T=0,rt=!1,It={next:function(){if(!rt&&T<u.length){var Ft=T++;return{value:_(Ft,u[Ft]),done:!1}}return rt=!0,{done:!0,value:void 0}}};return It[Symbol.iterator]=function(){return It},It}(this,function(_){return _})}});var c=this||self;function R(u,_){u=u.split(".");var rt,T=c;u[0]in T||typeof T.execScript>"u"||T.execScript("var "+u[0]);for(;u.length&&(rt=u.shift());)u.length||void 0===_?T=T[rt]&&T[rt]!==Object.prototype[rt]?T[rt]:T[rt]={}:T[rt]=_}function H(u,_){return _=String.fromCharCode.apply(null,_),null==u?_:u+_}var ut,bt,a=typeof TextDecoder<"u",q=typeof TextEncoder<"u";function it(u){if(q)u=(bt||(bt=new TextEncoder)).encode(u);else{var _=void 0;_=void 0!==_&&_;for(var T=0,rt=new Uint8Array(3*u.length),It=0;It<u.length;It++){var Ft=u.charCodeAt(It);if(128>Ft)rt[T++]=Ft;else{if(2048>Ft)rt[T++]=Ft>>6|192;else{if(55296<=Ft&&57343>=Ft){if(56319>=Ft&&It<u.length){var wt=u.charCodeAt(++It);if(56320<=wt&&57343>=wt){rt[T++]=(Ft=1024*(Ft-55296)+wt-56320+65536)>>18|240,rt[T++]=Ft>>12&63|128,rt[T++]=Ft>>6&63|128,rt[T++]=63&Ft|128;continue}It--}if(_)throw Error("Found an unpaired surrogate");Ft=65533}rt[T++]=Ft>>12|224,rt[T++]=Ft>>6&63|128}rt[T++]=63&Ft|128}}u=rt.subarray(0,T)}return u}var Dt={},At=null;function kt(u,_){void 0===_&&(_=0),ie(),_=Dt[_];for(var T=Array(Math.floor(u.length/3)),rt=_[64]||"",It=0,Ft=0;It<u.length-2;It+=3){var wt=u[It],Vt=u[It+1],re=u[It+2],se=_[wt>>2];T[Ft++]=se+(wt=_[(3&wt)<<4|Vt>>4])+(Vt=_[(15&Vt)<<2|re>>6])+(re=_[63&re])}switch(se=0,re=rt,u.length-It){case 2:re=_[(15&(se=u[It+1]))<<2]||rt;case 1:T[Ft]=_[(u=u[It])>>2]+_[(3&u)<<4|se>>4]+re+rt}return T.join("")}function ie(){if(!At){At={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),_=["+/=","+/","-_=","-_.","-_"],T=0;5>T;T++){var rt=u.concat(_[T].split(""));Dt[T]=rt;for(var It=0;It<rt.length;It++){var Ft=rt[It];void 0===At[Ft]&&(At[Ft]=It)}}}}var ae,Pe="function"==typeof Uint8Array.prototype.slice;function ke(u,_,T){return _===T?ae||(ae=new Uint8Array(0)):Pe?u.slice(_,T):new Uint8Array(u.subarray(_,T))}var Se=0;function _n(u,_){_=void 0!==(_=void 0===_?{}:_).v&&_.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=_,u&&vn(this,u)}function vn(u,_){_=_.constructor===Uint8Array?_:_.constructor===ArrayBuffer||_.constructor===Array?new Uint8Array(_):_.constructor===String?function Qt(u){var _=u.length,T=3*_/4;T%3?T=Math.floor(T):-1!="=.".indexOf(u[_-1])&&(T=-1!="=.".indexOf(u[_-2])?T-2:T-1);var rt=new Uint8Array(T),It=0;return function ce(u,_){function T(re){for(;rt<u.length;){var se=u.charAt(rt++),we=At[se];if(null!=we)return we;if(!/^[\s\xa0]*$/.test(se))throw Error("Unknown base64 encoding at char: "+se)}return re}ie();for(var rt=0;;){var It=T(-1),Ft=T(0),wt=T(64),Vt=T(64);if(64===Vt&&-1===It)break;_(It<<2|Ft>>4),64!=wt&&(_(Ft<<4&240|wt>>2),64!=Vt&&_(wt<<6&192|Vt))}}(u,function(Ft){rt[It++]=Ft}),rt.subarray(0,It)}(_):_ instanceof Uint8Array?new Uint8Array(_.buffer,_.byteOffset,_.byteLength):new Uint8Array(0),u.h=_,u.l=0,u.j=u.h.length,u.g=u.l}function An(u){for(var _=128,T=0,rt=0,It=0;4>It&&128<=_;It++)T|=(127&(_=u.h[u.g++]))<<7*It;if(128<=_&&(T|=(127&(_=u.h[u.g++]))<<28,rt|=(127&_)>>4),128<=_)for(It=0;5>It&&128<=_;It++)rt|=(127&(_=u.h[u.g++]))<<7*It+3;if(128>_)return u=T>>>0,(rt=2147483648&(_=rt>>>0))&&(_=~_>>>0,0==(u=1+~u>>>0)&&(_=_+1>>>0)),u=4294967296*_+(u>>>0),rt?-u:u;u.m=!0}_n.prototype.reset=function(){this.g=this.l},_n.prototype.i=function(){var u=this.h,_=u[this.g],T=127&_;return 128>_?(this.g+=1,T):(T|=(127&(_=u[this.g+1]))<<7,128>_?(this.g+=2,T):(T|=(127&(_=u[this.g+2]))<<14,128>_?(this.g+=3,T):(T|=(127&(_=u[this.g+3]))<<21,128>_?(this.g+=4,T):(T|=(15&(_=u[this.g+4]))<<28,128>_?(this.g+=5,T>>>0):(this.g+=5,128<=u[this.g++]&&128<=u[this.g++]&&128<=u[this.g++]&&128<=u[this.g++]&&this.g++,T)))))},_n.prototype.o=function(){var u=this.h[this.g],_=this.h[this.g+1],T=this.h[this.g+2],rt=this.h[this.g+3];return this.g+=4,u=2*((T=(u<<0|_<<8|T<<16|rt<<24)>>>0)>>31)+1,_=T>>>23&255,T&=8388607,255==_?T?NaN:1/0*u:0==_?u*Math.pow(2,-149)*T:u*Math.pow(2,_-150)*(T+Math.pow(2,23))};var Je=[];function ct(){this.g=new Uint8Array(64),this.h=0}function Bt(u,_){for(;127<_;)u.push(127&_|128),_>>>=7;u.push(_)}function zt(u){var _={},T=void 0!==_.N&&_.N;this.o={v:void 0!==_.v&&_.v},this.N=T,_=this.o,Je.length?(T=Je.pop(),_&&(T.v=_.v),u&&vn(T,u),u=T):u=new _n(u,_),this.g=u,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function de(u){var _=u.g;if((_=_.g==_.j)||(_=u.j)||(_=(_=u.g).m||0>_.g||_.g>_.j),_)return!1;u.m=u.g.g;var T=7&(_=u.g.i());return 0!=T&&5!=T&&1!=T&&2!=T&&3!=T&&4!=T?(u.j=!0,!1):(u.i=_,u.l=_>>>3,u.h=T,!0)}function Ve(u){switch(u.h){case 0:if(0!=u.h)Ve(u);else{for(u=u.g;128&u.h[u.g];)u.g++;u.g++}break;case 1:1!=u.h?Ve(u):(u=u.g).g+=8;break;case 2:if(2!=u.h)Ve(u);else{var _=u.g.i();(u=u.g).g+=_}break;case 5:5!=u.h?Ve(u):(u=u.g).g+=4;break;case 3:for(_=u.l;;){if(!de(u)){u.j=!0;break}if(4==u.h){u.l!=_&&(u.j=!0);break}Ve(u)}break;default:u.j=!0}}function rn(u,_,T){var rt=u.g.j,It=u.g.i(),Ft=u.g.g+It;if(u.g.j=Ft,T(_,u),0!=(T=Ft-u.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+It+" bytes, instead read "+(It-T)+" bytes, either the data ended unexpectedly or the message misreported its own length");return u.g.g=Ft,u.g.j=rt,_}function qe(u){return u.g.o()}function un(u){var rt,_=u.g.i(),T=(u=u.g).g;if(u.g+=_,u=u.h,a)(rt=ut)||(rt=ut=new TextDecoder("utf-8",{fatal:!1})),rt=rt.decode(u.subarray(T,T+_));else{_=T+_;for(var wt,Vt,re,It=[],Ft=null;T<_;)128>(wt=u[T++])?It.push(wt):224>wt?T>=_?It.push(65533):(Vt=u[T++],194>wt||128!=(192&Vt)?(T--,It.push(65533)):It.push((31&wt)<<6|63&Vt)):240>wt?T>=_-1?It.push(65533):128!=(192&(Vt=u[T++]))||224===wt&&160>Vt||237===wt&&160<=Vt||128!=(192&(rt=u[T++]))?(T--,It.push(65533)):It.push((15&wt)<<12|(63&Vt)<<6|63&rt):244>=wt?T>=_-2?It.push(65533):128!=(192&(Vt=u[T++]))||Vt-144+(wt<<28)>>30||128!=(192&(rt=u[T++]))||128!=(192&(re=u[T++]))?(T--,It.push(65533)):(wt=(7&wt)<<18|(63&Vt)<<12|(63&rt)<<6|63&re,It.push(55296+((wt-=65536)>>10&1023),56320+(1023&wt))):It.push(65533),8192<=It.length&&(Ft=H(Ft,It),It.length=0);rt=H(Ft,It)}return rt}function Kn(u,_,T){var rt=u.g.i();for(rt=u.g.g+rt;u.g.g<rt;)T.push(_.call(u.g))}function tr(u,_){2==u.h?Kn(u,_n.prototype.o,_):_.push(qe(u))}function hr(){this.h=[],this.i=0,this.g=new ct}function zn(u,_){0!==_.length&&(u.h.push(_),u.i+=_.length)}function jn(u){var _=u.i+u.g.length();if(0===_)return new Uint8Array(0);_=new Uint8Array(_);for(var T=u.h,rt=T.length,It=0,Ft=0;Ft<rt;Ft++){var wt=T[Ft];0!==wt.length&&(_.set(wt,It),It+=wt.length)}return 0!==(rt=(T=u.g).h)&&(_.set(T.g.subarray(0,rt),It),T.h=0),u.h=[_],_}function xn(u,_,T){if(null!=T){Bt(u.g,8*_+5),u=u.g;var rt=T;0===(rt=(T=0>rt?1:0)?-rt:rt)?Se=0<1/rt?0:2147483648:isNaN(rt)?Se=2147483647:34028234663852886e22<rt?Se=(T<<31|2139095040)>>>0:11754943508222875e-54>rt?(rt=Math.round(rt/Math.pow(2,-149)),Se=(T<<31|rt)>>>0):(_=Math.floor(Math.log(rt)/Math.LN2),rt*=Math.pow(2,-_),16777216<=(rt=Math.round(8388608*rt))&&++_,Se=(T<<31|_+127<<23|8388607&rt)>>>0),u.push((T=Se)>>>0&255),u.push(T>>>8&255),u.push(T>>>16&255),u.push(T>>>24&255)}}ct.prototype.push=function(u){if(!(this.h+1<this.g.length)){var _=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(_)}this.g[this.h++]=u},ct.prototype.length=function(){return this.h},ct.prototype.end=function(){var u=this.g,_=this.h;return this.h=0,ke(u,0,_)},zt.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var Nr="function"==typeof Uint8Array;function Br(u,_,T){if(null!=u)return"object"==typeof u?Nr&&u instanceof Uint8Array?T(u):xr(u,_,T):_(u)}function xr(u,_,T){if(Array.isArray(u)){for(var rt=Array(u.length),It=0;It<u.length;It++)rt[It]=Br(u[It],_,T);return Array.isArray(u)&&u.W&&Yn(rt),rt}for(It in rt={},u)rt[It]=Br(u[It],_,T);return rt}function Pn(u){return"number"==typeof u?isFinite(u)?u:String(u):u}var fr,Gn={W:{value:!0,configurable:!0}};function Yn(u){return Array.isArray(u)&&!Object.isFrozen(u)&&Object.defineProperties(u,Gn),u}function On(u,_,T){var rt=fr;if(fr=null,u||(u=rt),rt=this.constructor.ca,u||(u=rt?[rt]:[]),this.j=rt?0:-1,this.m=this.g=null,this.h=u,u=(rt=this.h.length)-1,!rt||null===(rt=this.h[u])||"object"!=typeof rt||Array.isArray(rt)||Nr&&rt instanceof Uint8Array?void 0!==_&&-1<_?(this.l=Math.max(_,u+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=u-this.j,this.i=rt),T)for(_=0;_<T.length;_++)(u=T[_])<this.l?(rt=this.h[u+=this.j])?Yn(rt):this.h[u]=dr:(Ar(this),(rt=this.i[u])?Yn(rt):this.i[u]=dr)}var dr=Object.freeze(Yn([]));function Ar(u){var _=u.l+u.j;u.h[_]||(u.i=u.h[_]={})}function fn(u,_,T){return-1===_?null:void 0!==T&&T||_>=u.l?u.i?u.i[_]:void 0:u.h[_+u.j]}function pr(u,_){var T=void 0!==T&&T,rt=fn(u,_,T);return null==rt&&(rt=dr),rt===dr&&Ye(u,_,rt=Yn([]),T),rt}function pt(u){var _=pr(u,3);if(u.m||(u.m={}),!u.m[3]){for(var T=0;T<_.length;T++)_[T]=+_[T];u.m[3]=!0}return _}function er(u,_,T){return null==(u=fn(u,_))?T:u}function Qn(u,_,T){return null==(u=null==(u=fn(u,_))?u:+u)?void 0===T?0:T:u}function Ye(u,_,T,rt){void 0!==rt&&rt||_>=u.l?(Ar(u),u.i[_]=T):u.h[_+u.j]=T}function $r(u,_,T){if(-1===T)return null;if(u.g||(u.g={}),!u.g[T]){var rt=fn(u,T,!1);rt&&(u.g[T]=new _(rt))}return u.g[T]}function bn(u,_){u.g||(u.g={});var T=u.g[1];if(!T){var rt=pr(u,1);T=[];for(var It=0;It<rt.length;It++)T[It]=new _(rt[It]);u.g[1]=T}return T}function Ur(u,_,T){var rt=void 0!==rt&&rt;u.g||(u.g={});var It=T&&tn(T,!1);u.g[_]=T,Ye(u,_,It,rt)}function Mn(u,_,T,rt){var It=bn(u,T);_=_||new T,u=pr(u,1),null!=rt?(It.splice(rt,0,_),u.splice(rt,0,tn(_,!1))):(It.push(_),u.push(tn(_,!1)))}function tn(u,_){if(u.g)for(var T in u.g){var rt=u.g[T];if(Array.isArray(rt))for(var It=0;It<rt.length;It++)rt[It]&&tn(rt[It],_);else rt&&tn(rt,_)}return u.h}function mr(u,_){if(u=u.o){zn(_,_.g.end());for(var T=0;T<u.length;T++)zn(_,u[T])}}function Sn(u,_){if(4==_.h)return!1;var T=_.m;return Ve(_),_.N||(_=ke(_.g.h,T,_.g.g),(T=u.o)?T.push(_):u.o=[_]),!0}function nr(u){On.call(this,u,-1,Wr)}function gr(u,_){for(;de(_);)switch(_.i){case 8:var T=_.g.i();Ye(u,1,T);break;case 16:Ye(u,2,T=_.g.i());break;case 29:case 26:tr(_,u.getPackedDataList());break;case 32:Ye(u,4,T=An(_.g));break;default:if(!Sn(u,_))return u}return u}On.prototype.toJSON=function(){return xr(tn(this,!1),Pn,kt)},On.prototype.toString=function(){return tn(this,!1).toString()},S(nr,On),nr.prototype.getRows=function(){return fn(this,1)},nr.prototype.getCols=function(){return fn(this,2)},nr.prototype.getPackedDataList=function(){return pt(this)},nr.prototype.getLayout=function(){return er(this,4,0)};var Wr=[3];function tt(u,_){var T=void 0;return new(T||(T=Promise))(function(rt,It){function Ft(re){try{Vt(_.next(re))}catch(se){It(se)}}function wt(re){try{Vt(_.throw(re))}catch(se){It(se)}}function Vt(re){re.done?rt(re.value):new T(function(se){se(re.value)}).then(Ft,wt)}Vt((_=_.apply(u,void 0)).next())})}function yt(u){On.call(this,u)}function Et(u,_){for(;de(_);)switch(_.i){case 8:var T=_.g.i();Ye(u,1,T);break;case 21:Ye(u,2,T=qe(_));break;case 26:Ye(u,3,T=un(_));break;case 34:Ye(u,4,T=un(_));break;default:if(!Sn(u,_))return u}return u}function gt(u){On.call(this,u,-1,_t)}S(yt,On),S(gt,On),gt.prototype.addClassification=function(u,_){return Mn(this,u,yt,_),this};var _t=[1];function Nt(u){On.call(this,u)}function Mt(u,_){for(;de(_);)switch(_.i){case 13:var T=qe(_);Ye(u,1,T);break;case 21:Ye(u,2,T=qe(_));break;case 29:Ye(u,3,T=qe(_));break;case 37:Ye(u,4,T=qe(_));break;case 45:Ye(u,5,T=qe(_));break;default:if(!Sn(u,_))return u}return u}function $t(u){On.call(this,u,-1,jt)}function Ht(u){t:{var _=new $t;for(u=new zt(u);de(u);)if(10===u.i)Mn(_,rn(u,new Nt,Mt),Nt,void 0);else if(!Sn(_,u))break t}return _}S(Nt,On),S($t,On);var jt=[1];function xt(u){On.call(this,u)}function Yt(u){On.call(this,u,-1,oe)}function qt(u,_){for(;de(_);)switch(_.i){case 8:var T=An(_.g);Ye(u,1,T);break;case 16:Ye(u,2,T=An(_.g));break;case 29:case 26:tr(_,u.getVertexBufferList());break;case 32:case 34:T=_;var rt=u.getIndexBufferList();2==T.h?Kn(T,_n.prototype.i,rt):rt.push(T.g.i());break;default:if(!Sn(u,_))return u}return u}S(xt,On),S(Yt,On),Yt.prototype.getVertexType=function(){return er(this,1,0)},Yt.prototype.getPrimitiveType=function(){return er(this,2,0)},Yt.prototype.getVertexBufferList=function(){return pt(this)},Yt.prototype.getIndexBufferList=function(){return pr(this,4)};var oe=[3,4];function me(u){On.call(this,u)}function xe(u,_,T){if(T=u.createShader(0===T?u.VERTEX_SHADER:u.FRAGMENT_SHADER),u.shaderSource(T,_),u.compileShader(T),!u.getShaderParameter(T,u.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+u.getShaderInfoLog(T));return T}function Ee(u){return bn(u,yt).map(function(_){return{index:er(_,1,0),Y:Qn(_,2),label:null!=fn(_,3)?er(_,3,""):void 0,displayName:null!=fn(_,4)?er(_,4,""):void 0}})}function Ne(u){return{x:Qn(u,1),y:Qn(u,2),z:Qn(u,3),visibility:null!=fn(u,4)?Qn(u,4):void 0}}function Ue(u,_){this.h=u,this.g=_,this.l=0}function te(u,_,T){return function ge(u,_){var T=u.g;if(void 0===u.m){var rt=xe(T,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),It=xe(T,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),Ft=T.createProgram();if(T.attachShader(Ft,rt),T.attachShader(Ft,It),T.linkProgram(Ft),!T.getProgramParameter(Ft,T.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+T.getProgramInfoLog(Ft));rt=u.m=Ft,T.useProgram(rt),It=T.getUniformLocation(rt,"sampler0"),u.j={I:T.getAttribLocation(rt,"aVertex"),H:T.getAttribLocation(rt,"aTex"),da:It},u.s=T.createBuffer(),T.bindBuffer(T.ARRAY_BUFFER,u.s),T.enableVertexAttribArray(u.j.I),T.vertexAttribPointer(u.j.I,2,T.FLOAT,!1,0,0),T.bufferData(T.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),T.STATIC_DRAW),T.bindBuffer(T.ARRAY_BUFFER,null),u.o=T.createBuffer(),T.bindBuffer(T.ARRAY_BUFFER,u.o),T.enableVertexAttribArray(u.j.H),T.vertexAttribPointer(u.j.H,2,T.FLOAT,!1,0,0),T.bufferData(T.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),T.STATIC_DRAW),T.bindBuffer(T.ARRAY_BUFFER,null),T.uniform1i(It,0)}rt=u.j,T.useProgram(u.m),T.canvas.width=_.width,T.canvas.height=_.height,T.viewport(0,0,_.width,_.height),T.activeTexture(T.TEXTURE0),u.h.bindTexture2d(_.glName),T.enableVertexAttribArray(rt.I),T.bindBuffer(T.ARRAY_BUFFER,u.s),T.vertexAttribPointer(rt.I,2,T.FLOAT,!1,0,0),T.enableVertexAttribArray(rt.H),T.bindBuffer(T.ARRAY_BUFFER,u.o),T.vertexAttribPointer(rt.H,2,T.FLOAT,!1,0,0),T.bindFramebuffer(T.DRAW_FRAMEBUFFER?T.DRAW_FRAMEBUFFER:T.FRAMEBUFFER,null),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.colorMask(!0,!0,!0,!0),T.drawArrays(T.TRIANGLE_FAN,0,4),T.disableVertexAttribArray(rt.I),T.disableVertexAttribArray(rt.H),T.bindBuffer(T.ARRAY_BUFFER,null),u.h.bindTexture2d(0)}(u,_),"function"==typeof u.g.canvas.transferToImageBitmap?Promise.resolve(u.g.canvas.transferToImageBitmap()):T?Promise.resolve(u.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(u.g.canvas):(void 0===u.i&&(u.i=document.createElement("canvas")),new Promise(function(rt){u.i.height=u.g.canvas.height,u.i.width=u.g.canvas.width,u.i.getContext("2d",{}).drawImage(u.g.canvas,0,0,u.g.canvas.width,u.g.canvas.height),rt(u.i)}))}function Ae(u){this.g=u}S(me,On),me.prototype.getMesh=function(){return $r(this,Yt,1)},me.prototype.getPoseTransformMatrix=function(){return $r(this,nr,2)};var Me=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function yn(u,_){return _+u}function We(u,_){window[u]=_}function wn(u){if(this.g=u,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=u&&u.locateFile||yn,"object"==typeof window)var _=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(!(typeof location<"u"))throw Error("solutions can only be loaded on a web page or in a web worker");_=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=_,u.options)for(var T=(_=O(Object.keys(u.options))).next();!T.done;T=_.next()){var rt=u.options[T=T.value].default;void 0!==rt&&(this.j[T]="function"==typeof rt?rt():rt)}}function sr(u,_){return tt(u,function T(){var It,Ft,rt=this;return nt(T,function(wt){return _ in rt.F?wt.return(rt.F[_]):(It=rt.locateFile(_,""),Ft=fetch(It).then(function(Vt){return Vt.arrayBuffer()}),rt.F[_]=Ft,wt.return(Ft))})})}function kr(u,_){for(var T=_.name||"$",rt=[].concat(E(_.wants)),It=new u.h.StringList,Ft=O(_.wants),wt=Ft.next();!wt.done;wt=Ft.next())It.push_back(wt.value);Ft=u.h.PacketListener.implement({onResults:function(Vt){for(var re={},se=0;se<_.wants.length;++se)re[rt[se]]=Vt.get(se);var we=u.listeners[T];we&&(u.C=function Jr(u,_,T){return tt(u,function rt(){var It,Ft,wt,Vt,se,an,Qe,$e,_e,Re,en,r,we=this;return nt(rt,function(e){switch(e.g){case 1:if(!T)return e.return(_);for(It={},Ft=0,wt=O(Object.keys(T)),Vt=wt.next();!Vt.done;Vt=wt.next())"string"!=typeof(se=T[Vt.value])&&"texture"===se.type&&void 0!==_[se.stream]&&++Ft;1<Ft&&(we.G=!1),an=O(Object.keys(T)),Vt=an.next();case 2:if(Vt.done){e.g=4;break}if("string"==typeof($e=T[Qe=Vt.value]))return en=It,r=Qe,Q(e,function $n(u,_,T){return tt(u,function rt(){var Ft,It=this;return nt(rt,function(wt){return"number"==typeof T||T instanceof Uint8Array||T instanceof It.h.Uint8BlobList?wt.return(T):T instanceof It.h.Texture2dDataOut?((Ft=It.s[_])||(Ft=new Ue(It.h,It.D),It.s[_]=Ft),wt.return(te(Ft,T,It.G))):wt.return(void 0)})})}(we,Qe,_[$e]),14);if(_e=_[$e.stream],"detection_list"===$e.type){if(_e){for(var n=_e.getRectList(),o=_e.getLandmarksList(),D=_e.getClassificationsList(),P=[],F=0;F<n.size();++F){var K=n.get(F);t:{var ot=new xt;for(K=new zt(K);de(K);)switch(K.i){case 13:var Lt=qe(K);Ye(ot,1,Lt);break;case 21:Ye(ot,2,Lt=qe(K));break;case 29:Ye(ot,3,Lt=qe(K));break;case 37:Ye(ot,4,Lt=qe(K));break;case 45:Ye(ot,5,Lt=qe(K));break;case 48:Ye(ot,6,Lt=An(K.g));break;default:if(!Sn(ot,K))break t}}ot={Z:Qn(ot,1),$:Qn(ot,2),height:Qn(ot,3),width:Qn(ot,4),rotation:Qn(ot,5,0),X:er(ot,6,0)},K=bn(Ht(o.get(F)),Nt).map(Ne);var Zt=D.get(F);t:for(Lt=new gt,Zt=new zt(Zt);de(Zt);)if(10===Zt.i)Lt.addClassification(rn(Zt,new yt,Et));else if(!Sn(Lt,Zt))break t;ot={T:ot,O:K,M:Ee(Lt)},P.push(ot)}n=P}else n=[];It[Qe]=n,e.g=7;break}if("proto_list"===$e.type){if(_e){for(n=Array(_e.size()),o=0;o<_e.size();o++)n[o]=_e.get(o);_e.delete()}else n=[];It[Qe]=n,e.g=7;break}if(void 0===_e){e.g=3;break}if("float_list"===$e.type){It[Qe]=_e,e.g=7;break}if("proto"===$e.type){It[Qe]=_e,e.g=7;break}if("texture"!==$e.type)throw Error("Unknown output config type: '"+$e.type+"'");return(Re=we.s[Qe])||(Re=new Ue(we.h,we.D),we.s[Qe]=Re),Q(e,te(Re,_e,we.G),13);case 13:It[Qe]=e.h;case 7:$e.transform&&It[Qe]&&(It[Qe]=$e.transform(It[Qe])),e.g=3;break;case 14:en[r]=e.h;case 3:Vt=an.next(),e.g=2;break;case 4:return e.return(It)}})})}(u,re,_.outs).then(function(an){an=we(an);for(var Qe=0;Qe<_.wants.length;++Qe){var $e=re[rt[Qe]];"object"==typeof $e&&$e.hasOwnProperty&&$e.hasOwnProperty("delete")&&$e.delete()}an&&(u.C=an)}))}}),u.i.attachMultiListener(It,Ft),It.delete()}function yr(u){u=function De(u){t:{var _=new me;for(u=new zt(u);de(u);)switch(u.i){case 10:var T=rn(u,new Yt,qt);Ur(_,1,T);break;case 18:Ur(_,2,T=rn(u,new nr,gr));break;default:if(!Sn(_,u))break t}}return _}(u);var _=u.getMesh();if(!_)return u;var T=new Float32Array(_.getVertexBufferList());_.getVertexBufferList=function(){return T};var rt=new Uint32Array(_.getIndexBufferList());return _.getIndexBufferList=function(){return rt},u}(vt=wn.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},vt.reset=function(){return tt(this,function u(){var _=this;return nt(u,function(T){_.i&&(_.i.reset(),_.m={},_.s={}),T.g=0})})},vt.setOptions=function(u,_){var T=this;if(_=_||this.g.options){for(var rt=[],It=[],Ft={},wt=O(Object.keys(u)),Vt=wt.next();!Vt.done;Ft={K:Ft.K,L:Ft.L},Vt=wt.next()){var re=Vt.value;re in this.j&&this.j[re]===u[re]||(this.j[re]=u[re],void 0!==(Vt=_[re])&&(Vt.onChange&&(Ft.K=Vt.onChange,Ft.L=u[re],rt.push(function(se){return function(){return tt(T,function we(){var Qe=this;return nt(we,function($e){if(1==$e.g)return Q($e,se.K(se.L),2);!0===$e.h&&(Qe.o=!0),$e.g=0})})}}(Ft))),Vt.graphOptionXref&&(re={valueNumber:1===Vt.type?u[re]:0,valueBoolean:0===Vt.type&&u[re],valueString:2===Vt.type?u[re]:""},Vt=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Vt.graphOptionXref),re),It.push(Vt))))}(0!==rt.length||0!==It.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(It),this.u=(void 0===this.u?[]:this.u).concat(rt))}},vt.initialize=function(){return tt(this,function u(){var _=this;return nt(u,function(T){return 1==T.g?Q(T,function Kr(u){return tt(u,function _(){var rt,It,Ft,wt,Vt,re,se,we,an,Qe,$e,T=this;return nt(_,function(_e){switch(_e.g){case 1:return rt=T,T.R?(It=function ir(u,_){return void 0===u.g.files?[]:"function"==typeof u.g.files?u.g.files(_):u.g.files}(T,T.j),Q(_e,function Nn(){return tt(this,function u(){return nt(u,function(_){switch(_.g){case 1:return _.m=2,Q(_,WebAssembly.instantiate(Me),4);case 4:_.g=3,_.m=0;break;case 2:return _.m=0,_.j=null,_.return(!1);case 3:return _.return(!0)}})})}(),2)):_e.return();case 2:if(Ft=_e.h,"object"==typeof window)return We("createMediapipeSolutionsWasm",{locateFile:T.locateFile}),We("createMediapipeSolutionsPackedAssets",{locateFile:T.locateFile}),re=It.filter(function(Re){return void 0!==Re.data}),se=It.filter(function(Re){return void 0===Re.data}),we=Promise.all(re.map(function(Re){var Ce=sr(rt,Re.url);if(void 0!==Re.path){var en=Re.path;Ce=Ce.then(function(r){return rt.overrideFile(en,r),Promise.resolve(r)})}return Ce})),an=Promise.all(se.map(function(Re){return void 0===Re.simd||Re.simd&&Ft||!Re.simd&&!Ft?function Le(u){var _=document.createElement("script");return _.setAttribute("src",u),_.setAttribute("crossorigin","anonymous"),new Promise(function(T){_.addEventListener("load",function(){T()},!1),_.addEventListener("error",function(){T()},!1),document.body.appendChild(_)})}(rt.locateFile(Re.url,rt.S)):Promise.resolve()})).then(function(){return tt(rt,function Re(){var Ce,en,r=this;return nt(Re,function(e){if(1==e.g)return Ce=window.createMediapipeSolutionsWasm,en=window.createMediapipeSolutionsPackedAssets,Q(e,Ce(en),2);r.h=e.h,e.g=0})})}),Qe=tt(rt,function Re(){var Ce=this;return nt(Re,function(en){return Ce.g.graph&&Ce.g.graph.url?en=Q(en,sr(Ce,Ce.g.graph.url),0):(en.g=0,en=void 0),en})}),Q(_e,Promise.all([an,we,Qe]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return wt=It.filter(function(Re){return void 0===Re.simd||Re.simd&&Ft||!Re.simd&&!Ft}).map(function(Re){return rt.locateFile(Re.url,rt.S)}),importScripts.apply(null,E(wt)),Q(_e,createMediapipeSolutionsWasm(Module),6);case 6:T.h=_e.h,T.l=new OffscreenCanvas(1,1),T.h.canvas=T.l,Vt=T.h.GL.createContext(T.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),T.h.GL.makeContextCurrent(Vt),_e.g=4;break;case 7:if(T.l=document.createElement("canvas"),!($e=T.l.getContext("webgl2",{}))&&!($e=T.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),_e.return();T.D=$e,T.h.canvas=T.l,T.h.createContext(T.l,!0,!0,{});case 4:T.i=new T.h.SolutionWasm,T.R=!1,_e.g=0}})})}(_),2):3!=T.g?Q(T,function Fr(u){return tt(u,function _(){var It,Ft,wt,Vt,re,we,T=this;return nt(_,function(an){if(1==an.g)return T.g.graph&&T.g.graph.url&&T.P===T.g.graph.url?an.return():(T.o=!0,T.g.graph&&T.g.graph.url?(T.P=T.g.graph.url,Q(an,sr(T,T.g.graph.url),3)):void(an.g=2));for(2!=an.g&&T.i.loadGraph(an.h),It=O(Object.keys(T.B)),Ft=It.next();!Ft.done;Ft=It.next())T.i.overrideFile(wt=Ft.value,T.B[wt]);if(T.B={},T.g.listeners)for(Vt=O(T.g.listeners),re=Vt.next();!re.done;re=Vt.next())kr(T,re.value);we=T.j,T.j={},T.setOptions(we),an.g=0})})}(_),3):Q(T,function rr(u){return tt(u,function _(){var rt,It,wt,Vt,re,T=this;return nt(_,function(we){switch(we.g){case 1:if(!T.o)return we.return();if(!T.u){we.g=2;break}rt=O(T.u),It=rt.next();case 3:if(It.done){we.g=5;break}return Q(we,(0,It.value)(),4);case 4:It=rt.next(),we.g=3;break;case 5:T.u=void 0;case 2:if(T.A){for(wt=new T.h.GraphOptionChangeRequestList,Vt=O(T.A),re=Vt.next();!re.done;re=Vt.next())wt.push_back(re.value);T.i.changeOptions(wt),wt.delete(),T.A=void 0}T.o=!1,we.g=0}})})}(_),0)})})},vt.overrideFile=function(u,_){this.i?this.i.overrideFile(u,_):this.B[u]=_},vt.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},vt.send=function(u,_){return tt(this,function T(){var It,Ft,wt,Vt,re,se,we,an,Qe,rt=this;return nt(T,function($e){switch($e.g){case 1:return rt.g.inputs?(It=1e3*(null==_?performance.now():_),Q($e,rt.C,2)):$e.return();case 2:return Q($e,rt.initialize(),3);case 3:for(Ft=new rt.h.PacketDataList,wt=O(Object.keys(u)),Vt=wt.next();!Vt.done;Vt=wt.next())if(se=rt.g.inputs[re=Vt.value]){t:{var _e=rt,Re=u[re];switch(se.type){case"video":var Ce=_e.m[se.stream];if(Ce||(Ce=new Ue(_e.h,_e.D),_e.m[se.stream]=Ce),0===(_e=Ce).l&&(_e.l=_e.h.createTexture()),typeof HTMLVideoElement<"u"&&Re instanceof HTMLVideoElement){var en=Re.videoWidth;Ce=Re.videoHeight}else typeof HTMLImageElement<"u"&&Re instanceof HTMLImageElement?(en=Re.naturalWidth,Ce=Re.naturalHeight):(en=Re.width,Ce=Re.height);Ce={glName:_e.l,width:en,height:Ce},(en=_e.g).canvas.width=Ce.width,en.canvas.height=Ce.height,en.activeTexture(en.TEXTURE0),_e.h.bindTexture2d(_e.l),en.texImage2D(en.TEXTURE_2D,0,en.RGBA,en.RGBA,en.UNSIGNED_BYTE,Re),_e.h.bindTexture2d(0),_e=Ce;break t;case"detections":for((Ce=_e.m[se.stream])||(Ce=new Ae(_e.h),_e.m[se.stream]=Ce),(_e=Ce).data||(_e.data=new _e.g.DetectionListData),_e.data.reset(Re.length),Ce=0;Ce<Re.length;++Ce){var r=_e.data,e=r.setBoundingBox,n=Ce,o=(en=Re[Ce]).T,D=new xt;Ye(D,1,o.Z),Ye(D,2,o.$),Ye(D,3,o.height),Ye(D,4,o.width),Ye(D,5,o.rotation),Ye(D,6,o.X);var P=o=new hr;xn(P,1,fn(D,1)),xn(P,2,fn(D,2)),xn(P,3,fn(D,3)),xn(P,4,fn(D,4)),xn(P,5,fn(D,5));var F=fn(D,6);if(null!=F&&null!=F){Bt(P.g,48);var K=P.g,ot=F;F=0>ot;var Lt=(ot=Math.abs(ot))>>>0;for(ot=Math.floor((ot-Lt)/4294967296),ot>>>=0,F&&(ot=~ot>>>0,4294967295<(Lt=1+(~Lt>>>0))&&(Lt=0,4294967295<++ot&&(ot=0))),F=Se=Lt,Lt=ot;0<Lt||127<F;)K.push(127&F|128),F=(F>>>7|Lt<<25)>>>0,Lt>>>=7;K.push(F)}if(mr(D,P),o=jn(o),e.call(r,n,o),en.O)for(r=0;r<en.O.length;++r)P=!!(D=en.O[r]).visibility,n=(e=_e.data).addNormalizedLandmark,o=Ce,D=Object.assign(Object.assign({},D),{visibility:P?D.visibility:0}),Ye(P=new Nt,1,D.x),Ye(P,2,D.y),Ye(P,3,D.z),D.visibility&&Ye(P,4,D.visibility),xn(K=D=new hr,1,fn(P,1)),xn(K,2,fn(P,2)),xn(K,3,fn(P,3)),xn(K,4,fn(P,4)),xn(K,5,fn(P,5)),mr(P,K),D=jn(D),n.call(e,o,D);if(en.M)for(r=0;r<en.M.length;++r){if(n=(e=_e.data).addClassification,o=Ce,D=en.M[r],Ye(P=new yt,2,D.Y),D.index&&Ye(P,1,D.index),D.label&&Ye(P,3,D.label),D.displayName&&Ye(P,4,D.displayName),K=D=new hr,null!=(Lt=fn(P,1))&&null!=Lt)if(Bt(K.g,8),F=K.g,0<=Lt)Bt(F,Lt);else{for(ot=0;9>ot;ot++)F.push(127&Lt|128),Lt>>=7;F.push(1)}xn(K,2,fn(P,2)),null!=(F=fn(P,3))&&(F=it(F),Bt(K.g,26),Bt(K.g,F.length),zn(K,K.g.end()),zn(K,F)),null!=(F=fn(P,4))&&(F=it(F),Bt(K.g,34),Bt(K.g,F.length),zn(K,K.g.end()),zn(K,F)),mr(P,K),D=jn(D),n.call(e,o,D)}}_e=_e.data;break t;default:_e={}}}switch(we=_e,an=se.stream,se.type){case"video":Ft.pushTexture2d(Object.assign(Object.assign({},we),{stream:an,timestamp:It}));break;case"detections":(Qe=we).stream=an,Qe.timestamp=It,Ft.pushDetectionList(Qe);break;default:throw Error("Unknown input config type: '"+se.type+"'")}}return rt.i.send(Ft),Q($e,rt.C,4);case 4:Ft.delete(),$e.g=0}})})},vt.onResults=function(u,_){this.listeners[_||"$"]=u},R("Solution",wn),R("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var Vr={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(u){return u.map(yr)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(u){return u.map(function(_){return bn(Ht(_),Nt).map(Ne)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},Mr=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ur=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Ir=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Hn=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],wr=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Er=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],br=[].concat(E(Mr),E(ur),E(Ir),E(Hn),E(wr),E(Er));function Un(u){u=u||{},u=Object.assign(Object.assign({},Vr),u),this.g=new wn(u)}(vt=Un.prototype).close=function(){return this.g.close(),Promise.resolve()},vt.onResults=function(u){this.g.onResults(u)},vt.initialize=function(){return tt(this,function u(){var _=this;return nt(u,function(T){return Q(T,_.g.initialize(),0)})})},vt.reset=function(){this.g.reset()},vt.send=function(u){return tt(this,function _(){var T=this;return nt(_,function(rt){return Q(rt,T.g.send(u),0)})})},vt.setOptions=function(u){this.g.setOptions(u)},R("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),R("FaceMesh",Un),R("FACEMESH_LIPS",Mr),R("FACEMESH_LEFT_EYE",ur),R("FACEMESH_LEFT_EYEBROW",Ir),R("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),R("FACEMESH_RIGHT_EYE",Hn),R("FACEMESH_RIGHT_EYEBROW",wr),R("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),R("FACEMESH_FACE_OVAL",Er),R("FACEMESH_CONTOURS",br),R("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),R("matrixDataToMatrix",function(u){for(var _=u.getCols(),T=u.getRows(),rt=u.getPackedDataList(),It=[],Ft=0;Ft<T;Ft++)It.push(Array(_));for(Ft=0;Ft<T;Ft++)for(var wt=0;wt<_;wt++){var Vt=1===u.getLayout()?Ft*_+wt:wt*T+Ft;It[Ft][wt]=rt[Vt]}return It}),R("VERSION","0.4.1633559619")}).call(this)},6002:(vt,L,t)=>{"use strict";t.d(L,{N:()=>Wr});var b=t(5861),B=t(4735),h=t(9075),M=t(7926),O=function(){return O=Object.assign||function(tt){for(var yt,Et=1,gt=arguments.length;Et<gt;Et++)for(var _t in yt=arguments[Et])Object.prototype.hasOwnProperty.call(yt,_t)&&(tt[_t]=yt[_t]);return tt},O.apply(this,arguments)};function E(tt,yt,Et,gt){return new(Et||(Et=Promise))(function(_t,Nt){function Mt(jt){try{Ht(gt.next(jt))}catch(xt){Nt(xt)}}function $t(jt){try{Ht(gt.throw(jt))}catch(xt){Nt(xt)}}function Ht(jt){var xt;jt.done?_t(jt.value):(xt=jt.value,xt instanceof Et?xt:new Et(function(Yt){Yt(xt)})).then(Mt,$t)}Ht((gt=gt.apply(tt,yt||[])).next())})}function v(tt,yt){var Et,gt,_t,Nt,Mt={label:0,sent:function(){if(1&_t[0])throw _t[1];return _t[1]},trys:[],ops:[]};return Nt={next:$t(0),throw:$t(1),return:$t(2)},"function"==typeof Symbol&&(Nt[Symbol.iterator]=function(){return this}),Nt;function $t(Ht){return function(jt){return function(xt){if(Et)throw new TypeError("Generator is already executing.");for(;Mt;)try{if(Et=1,gt&&(_t=2&xt[0]?gt.return:xt[0]?gt.throw||((_t=gt.return)&&_t.call(gt),0):gt.next)&&!(_t=_t.call(gt,xt[1])).done)return _t;switch(gt=0,_t&&(xt=[2&xt[0],_t.value]),xt[0]){case 0:case 1:_t=xt;break;case 4:return Mt.label++,{value:xt[1],done:!1};case 5:Mt.label++,gt=xt[1],xt=[0];continue;case 7:xt=Mt.ops.pop(),Mt.trys.pop();continue;default:if(!((_t=(_t=Mt.trys).length>0&&_t[_t.length-1])||6!==xt[0]&&2!==xt[0])){Mt=0;continue}if(3===xt[0]&&(!_t||xt[1]>_t[0]&&xt[1]<_t[3])){Mt.label=xt[1];break}if(6===xt[0]&&Mt.label<_t[1]){Mt.label=_t[1],_t=xt;break}if(_t&&Mt.label<_t[2]){Mt.label=_t[2],Mt.ops.push(xt);break}_t[2]&&Mt.ops.pop(),Mt.trys.pop();continue}xt=yt.call(tt,Mt)}catch(Yt){xt=[6,Yt],gt=0}finally{Et=_t=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([Ht,jt])}}}function f(tt){var yt=tt.map(function(Et){return Et[0]});return yt.push(tt[tt.length-1][1]),yt}var s={lips:f([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:f([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:f([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:f([[474,475],[475,476],[476,477],[477,474]]),rightEye:f([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:f([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:f([[469,470],[470,471],[471,472],[472,469]]),faceOval:f([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},d=[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]],m=Object.entries(s).map(function(tt){var yt=tt[0];return tt[1].map(function(Et){return[Et,yt]})}).flat(),g=new Map(m);function S(tt){for(var yt={locationData:{relativeKeypoints:[]}},Et=Number.MAX_SAFE_INTEGER,gt=Number.MIN_SAFE_INTEGER,_t=Number.MAX_SAFE_INTEGER,Nt=Number.MIN_SAFE_INTEGER,Mt=0;Mt<tt.length;++Mt){var $t=tt[Mt];Et=Math.min(Et,$t.x),gt=Math.max(gt,$t.x),_t=Math.min(_t,$t.y),Nt=Math.max(Nt,$t.y),yt.locationData.relativeKeypoints.push({x:$t.x,y:$t.y})}return yt.locationData.relativeBoundingBox={xMin:Et,yMin:_t,xMax:gt,yMax:Nt,width:gt-Et,height:Nt-_t},yt}var j={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},$=function(){function tt(yt){var Et=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new B.FaceMesh({locateFile:function(gt,_t){return yt.solutionPath?yt.solutionPath.replace(/\/+$/,"")+"/"+gt:_t+"/"+gt}}),this.faceMeshSolution.setOptions({refineLandmarks:yt.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:yt.maxFaces}),this.faceMeshSolution.onResults(function(gt){if(Et.height=gt.image.height,Et.width=gt.image.width,Et.faces=[],null!==gt.multiFaceLandmarks)for(var _t=gt.multiFaceLandmarks,Nt=0;Nt<_t.length;Nt++){var Mt=Et.translateOutput(_t[Nt]);Et.faces.push({keypoints:Mt,box:S(Mt).locationData.relativeBoundingBox})}})}return tt.prototype.translateOutput=function(yt){var Et=this;return yt.map(function(gt,_t){var Nt={x:gt.x*Et.width,y:gt.y*Et.height,z:gt.z*Et.width},Mt=g.get(_t);return null!=Mt&&(Nt.name=Mt),Nt})},tt.prototype.estimateFaces=function(yt,Et){return E(this,void 0,void 0,function(){var gt,_t;return v(this,function(Nt){switch(Nt.label){case 0:return Et&&Et.flipHorizontal&&Et.flipHorizontal!==this.selfieMode&&(this.selfieMode=Et.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),yt instanceof h.Tensor?(_t=ImageData.bind,[4,h.browser.toPixels(yt)]):[3,2];case 1:return gt=new(_t.apply(ImageData,[void 0,Nt.sent(),yt.shape[1],yt.shape[0]])),[3,3];case 2:gt=yt,Nt.label=3;case 3:return[4,this.faceMeshSolution.send({image:yt=gt})];case 4:return Nt.sent(),[2,this.faces]}})})},tt.prototype.dispose=function(){this.faceMeshSolution.close()},tt.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},tt.prototype.initialize=function(){return this.faceMeshSolution.initialize()},tt}();function Y(tt){return E(this,void 0,void 0,function(){var yt,Et;return v(this,function(gt){switch(gt.label){case 0:return yt=function(_t){if(null==_t)return O({},j);var Nt=O({},_t);return Nt.runtime="mediapipe",null==Nt.maxFaces&&(Nt.maxFaces=j.maxFaces),null==Nt.refineLandmarks&&(Nt.refineLandmarks=j.refineLandmarks),Nt}(tt),[4,(Et=new $(yt)).initialize()];case 1:return gt.sent(),[2,Et]}})})}var Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt={};(function(){var tt;function yt(i){var I=0;return function(){return I<i.length?{done:!1,value:i[I++]}:{done:!0}}}var Et="function"==typeof Object.defineProperties?Object.defineProperty:function(i,I,W){return i==Array.prototype||i==Object.prototype||(i[I]=W.value),i},gt=function(i){i=["object"==typeof globalThis&&globalThis,i,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Q&&Q];for(var I=0;I<i.length;++I){var W=i[I];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}(this);function _t(i,I){if(I)t:{var W=gt;i=i.split(".");for(var X=0;X<i.length-1;X++){var ft=i[X];if(!(ft in W))break t;W=W[ft]}(I=I(X=W[i=i[i.length-1]]))!=X&&null!=I&&Et(W,i,{configurable:!0,writable:!0,value:I})}}function Nt(i){return(i={next:i})[Symbol.iterator]=function(){return this},i}function Mt(i){var I=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return I?I.call(i):{next:yt(i)}}function $t(i){if(!(i instanceof Array)){i=Mt(i);for(var I,W=[];!(I=i.next()).done;)W.push(I.value);i=W}return i}_t("Symbol",function(i){function I(ft,at){this.g=ft,Et(this,"description",{configurable:!0,writable:!0,value:at})}if(i)return i;I.prototype.toString=function(){return this.g};var W="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",X=0;return function ft(at){if(this instanceof ft)throw new TypeError("Symbol is not a constructor");return new I(W+(at||"")+"_"+X++,at)}}),_t("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var I="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),W=0;W<I.length;W++){var X=gt[I[W]];"function"==typeof X&&"function"!=typeof X.prototype[i]&&Et(X.prototype,i,{configurable:!0,writable:!0,value:function(){return Nt(yt(this))}})}return i});var Ht,jt="function"==typeof Object.create?Object.create:function(i){function I(){}return I.prototype=i,new I};if("function"==typeof Object.setPrototypeOf)Ht=Object.setPrototypeOf;else{var xt;t:{var Yt={};try{Yt.__proto__={a:!0},xt=Yt.a;break t}catch{}xt=!1}Ht=xt?function(i,I){if(i.__proto__=I,i.__proto__!==I)throw new TypeError(i+" is not extensible");return i}:null}var qt=Ht;function oe(i,I){if(i.prototype=jt(I.prototype),i.prototype.constructor=i,qt)qt(i,I);else for(var W in I)if("prototype"!=W)if(Object.defineProperties){var X=Object.getOwnPropertyDescriptor(I,W);X&&Object.defineProperty(i,W,X)}else i[W]=I[W];i.na=I.prototype}function me(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function De(i){if(i.l)throw new TypeError("Generator is already running");i.l=!0}function xe(i,I){i.j={da:I,ea:!0},i.g=i.o||i.u}function Ee(i,I,W){return i.g=W,{value:I}}function Ne(i){this.g=new me,this.h=i}function Ue(i,I,W,X){try{var ft=I.call(i.g.i,W);if(!(ft instanceof Object))throw new TypeError("Iterator result "+ft+" is not an object");if(!ft.done)return i.g.l=!1,ft;var at=ft.value}catch(lt){return i.g.i=null,xe(i.g,lt),te(i)}return i.g.i=null,X.call(i.g,at),te(i)}function te(i){for(;i.g.g;)try{var I=i.h(i.g);if(I)return i.g.l=!1,{value:I.value,done:!1}}catch(W){i.g.h=void 0,xe(i.g,W)}if(i.g.l=!1,i.g.j){if(I=i.g.j,i.g.j=null,I.ea)throw I.da;return{value:I.return,done:!0}}return{value:void 0,done:!0}}function ge(i){this.next=function(I){return De(i.g),i.g.i?I=Ue(i,i.g.i.next,I,i.g.s):(i.g.s(I),I=te(i)),I},this.throw=function(I){return De(i.g),i.g.i?I=Ue(i,i.g.i.throw,I,i.g.s):(xe(i.g,I),I=te(i)),I},this.return=function(I){return function(W,X){De(W.g);var ft=W.g.i;return ft?Ue(W,"return"in ft?ft.return:function(at){return{value:at,done:!0}},X,W.g.return):(W.g.return(X),te(W))}(i,I)},this[Symbol.iterator]=function(){return this}}function Ae(i){return function(I){function W(ft){return I.next(ft)}function X(ft){return I.throw(ft)}return new Promise(function(ft,at){!function lt(St){St.done?ft(St.value):Promise.resolve(St.value).then(W,X).then(lt,at)}(I.next())})}(new ge(new Ne(i)))}me.prototype.s=function(i){this.h=i},me.prototype.return=function(i){this.j={return:i},this.g=this.u},_t("Promise",function(i){function I(lt){this.h=0,this.i=void 0,this.g=[],this.s=!1;var St=this.j();try{lt(St.resolve,St.reject)}catch(Xt){St.reject(Xt)}}function W(){this.g=null}function X(lt){return lt instanceof I?lt:new I(function(St){St(lt)})}if(i)return i;W.prototype.h=function(lt){if(null==this.g){this.g=[];var St=this;this.i(function(){St.l()})}this.g.push(lt)};var ft=gt.setTimeout;W.prototype.i=function(lt){ft(lt,0)},W.prototype.l=function(){for(;this.g&&this.g.length;){var lt=this.g;this.g=[];for(var St=0;St<lt.length;++St){var Xt=lt[St];lt[St]=null;try{Xt()}catch(he){this.j(he)}}}this.g=null},W.prototype.j=function(lt){this.i(function(){throw lt})},I.prototype.j=function(){function lt(he){return function(pe){Xt||(Xt=!0,he.call(St,pe))}}var St=this,Xt=!1;return{resolve:lt(this.D),reject:lt(this.l)}},I.prototype.D=function(lt){if(lt===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(lt instanceof I)this.H(lt);else{t:switch(typeof lt){case"object":var St=null!=lt;break t;case"function":St=!0;break t;default:St=!1}St?this.A(lt):this.o(lt)}},I.prototype.A=function(lt){var St=void 0;try{St=lt.then}catch(Xt){return void this.l(Xt)}"function"==typeof St?this.I(St,lt):this.o(lt)},I.prototype.l=function(lt){this.u(2,lt)},I.prototype.o=function(lt){this.u(1,lt)},I.prototype.u=function(lt,St){if(0!=this.h)throw Error("Cannot settle("+lt+", "+St+"): Promise already settled in state"+this.h);this.h=lt,this.i=St,2===this.h&&this.G(),this.B()},I.prototype.G=function(){var lt=this;ft(function(){if(lt.C()){var St=gt.console;void 0!==St&&St.error(lt.i)}},1)},I.prototype.C=function(){if(this.s)return!1;var lt=gt.CustomEvent,St=gt.Event,Xt=gt.dispatchEvent;return void 0===Xt||("function"==typeof lt?lt=new lt("unhandledrejection",{cancelable:!0}):"function"==typeof St?lt=new St("unhandledrejection",{cancelable:!0}):(lt=gt.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,lt),lt.promise=this,lt.reason=this.i,Xt(lt))},I.prototype.B=function(){if(null!=this.g){for(var lt=0;lt<this.g.length;++lt)at.h(this.g[lt]);this.g=null}};var at=new W;return I.prototype.H=function(lt){var St=this.j();lt.M(St.resolve,St.reject)},I.prototype.I=function(lt,St){var Xt=this.j();try{lt.call(St,Xt.resolve,Xt.reject)}catch(he){Xt.reject(he)}},I.prototype.then=function(lt,St){function Xt(Ke,Oe){return"function"==typeof Ke?function(He){try{he(Ke(He))}catch(sn){pe(sn)}}:Oe}var he,pe,Be=new I(function(Ke,Oe){he=Ke,pe=Oe});return this.M(Xt(lt,he),Xt(St,pe)),Be},I.prototype.catch=function(lt){return this.then(void 0,lt)},I.prototype.M=function(lt,St){function Xt(){switch(he.h){case 1:lt(he.i);break;case 2:St(he.i);break;default:throw Error("Unexpected state: "+he.h)}}var he=this;null==this.g?at.h(Xt):this.g.push(Xt),this.s=!0},I.resolve=X,I.reject=function(lt){return new I(function(St,Xt){Xt(lt)})},I.race=function(lt){return new I(function(St,Xt){for(var he=Mt(lt),pe=he.next();!pe.done;pe=he.next())X(pe.value).M(St,Xt)})},I.all=function(lt){var St=Mt(lt),Xt=St.next();return Xt.done?X([]):new I(function(he,pe){function Be(He){return function(sn){Ke[He]=sn,0==--Oe&&he(Ke)}}var Ke=[],Oe=0;do{Ke.push(void 0),Oe++,X(Xt.value).M(Be(Ke.length-1),pe),Xt=St.next()}while(!Xt.done)})},I});var Me="function"==typeof Object.assign?Object.assign:function(i,I){for(var W=1;W<arguments.length;W++){var X=arguments[W];if(X)for(var ft in X)Object.prototype.hasOwnProperty.call(X,ft)&&(i[ft]=X[ft])}return i};_t("Object.assign",function(i){return i||Me}),_t("Object.is",function(i){return i||function(I,W){return I===W?0!==I||1/I==1/W:I!=I&&W!=W}}),_t("Array.prototype.includes",function(i){return i||function(I,W){var X=this;X instanceof String&&(X=String(X));var ft=X.length;for(0>(W=W||0)&&(W=Math.max(W+ft,0));W<ft;W++){var at=X[W];if(at===I||Object.is(at,I))return!0}return!1}}),_t("String.prototype.includes",function(i){return i||function(I,W){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(I instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(I,W||0)}}),_t("Array.prototype.keys",function(i){return i||function(){return function(I,W){I instanceof String&&(I+="");var X=0,ft=!1,at={next:function(){return!ft&&X<I.length?{value:X++,done:!1}:(ft=!0,{done:!0,value:void 0})}};return at[Symbol.iterator]=function(){return at},at}(this)}});var yn=this||self;function We(i,I){i=i.split(".");var W,X=yn;for((i[0]in X||void 0===X.execScript||X.execScript("var "+i[0]));i.length&&(W=i.shift());)i.length||void 0===I?X=X[W]&&X[W]!==Object.prototype[W]?X[W]:X[W]={}:X[W]=I}function Le(){throw Error("Invalid UTF8")}function Nn(i,I){return I=String.fromCharCode.apply(null,I),null==i?I:i+I}var wn,ir,Kr=typeof TextDecoder<"u",Fr=typeof TextEncoder<"u",rr={},sr=null;function Jr(i){var I;void 0===I&&(I=0),kr(),I=rr[I];for(var W=Array(Math.floor(i.length/3)),X=I[64]||"",ft=0,at=0;ft<i.length-2;ft+=3){var lt=i[ft],St=i[ft+1],Xt=i[ft+2],he=I[lt>>2];W[at++]=he+(lt=I[(3&lt)<<4|St>>4])+(St=I[(15&St)<<2|Xt>>6])+(Xt=I[63&Xt])}switch(he=0,Xt=X,i.length-ft){case 2:Xt=I[(15&(he=i[ft+1]))<<2]||X;case 1:W[at]=I[(i=i[ft])>>2]+I[(3&i)<<4|he>>4]+Xt+X}return W.join("")}function $n(i){var I=i.length,W=3*I/4;W%3?W=Math.floor(W):-1!="=.".indexOf(i[I-1])&&(W=-1!="=.".indexOf(i[I-2])?W-2:W-1);var X=new Uint8Array(W),ft=0;return function(at,lt){function St(Oe){for(;Xt<at.length;){var He=at.charAt(Xt++),sn=sr[He];if(null!=sn)return sn;if(!/^[\s\xa0]*$/.test(He))throw Error("Unknown base64 encoding at char: "+He)}return Oe}kr();for(var Xt=0;;){var he=St(-1),pe=St(0),Be=St(64),Ke=St(64);if(64===Ke&&-1===he)break;lt(he<<2|pe>>4),64!=Be&&(lt(pe<<4&240|Be>>2),64!=Ke&&lt(Be<<6&192|Ke))}}(i,function(at){X[ft++]=at}),ft!==W?X.subarray(0,ft):X}function kr(){if(!sr){sr={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),I=["+/=","+/","-_=","-_.","-_"],W=0;5>W;W++){var X=i.concat(I[W].split(""));rr[W]=X;for(var ft=0;ft<X.length;ft++){var at=X[ft];void 0===sr[at]&&(sr[at]=ft)}}}}var yr,Vr="function"==typeof Uint8Array;function Mr(i){return Vr&&null!=i&&i instanceof Uint8Array}function ur(i){if(this.L=i,null!==i&&0===i.length)throw Error("ByteString should be constructed with non-empty values")}var Ir="function"==typeof Uint8Array.prototype.slice,Hn=0;function wr(i,I){return Error("Invalid wire type: "+i+" (at position "+I+")")}function Er(){return Error("Failed to read varint, encoding is invalid.")}function br(i,I){I=void 0!==(I=void 0===I?{}:I).v&&I.v,this.h=null,this.g=this.i=this.j=0,this.v=I,i&&Un(this,i)}function Un(i,I){i.h=function(W,X){if(W.constructor===Uint8Array)return W;if(W.constructor===ArrayBuffer)return new Uint8Array(W);if(W.constructor===Array)return new Uint8Array(W);if(W.constructor===String)return $n(W);if(W.constructor===ur)return!X&&(X=W.L)&&X.constructor===Uint8Array?X:(X=null==(X=W.L)||Mr(X)?X:"string"==typeof X?$n(X):null,(W=W.L=X)?new Uint8Array(W):yr||(yr=new Uint8Array(0)));if(W instanceof Uint8Array)return new Uint8Array(W.buffer,W.byteOffset,W.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(I,i.v),i.j=0,i.i=i.h.length,i.g=i.j}function u(i){if(i.g>i.i)throw Error("Tried to read past the end of the data "+i.g+" > "+i.i)}function _(i){var I=i.h,W=I[i.g],X=127&W;if(128>W)return i.g+=1,u(i),X;if(X|=(127&(W=I[i.g+1]))<<7,128>W)return i.g+=2,u(i),X;if(X|=(127&(W=I[i.g+2]))<<14,128>W)return i.g+=3,u(i),X;if(X|=(127&(W=I[i.g+3]))<<21,128>W)return i.g+=4,u(i),X;if(W=I[i.g+4],i.g+=5,X|=(15&W)<<28,128>W)return u(i),X;if(128<=I[i.g++]&&128<=I[i.g++]&&128<=I[i.g++]&&128<=I[i.g++]&&128<=I[i.g++])throw Er();return u(i),X}br.prototype.reset=function(){this.g=this.j};var T=[];function rt(){this.g=[]}function It(i,I){for(;127<I;)i.g.push(127&I|128),I>>>=7;i.g.push(I)}function Ft(i){var I={},W=void 0!==I.W&&I.W;this.l={v:void 0!==I.v&&I.v},this.W=W,I=this.l,T.length?(W=T.pop(),I&&(W.v=I.v),i&&Un(W,i),i=W):i=new br(i,I),this.g=i,this.j=this.g.g,this.h=this.i=-1}function wt(i){var I=i.g;if(I.g==I.i)return!1;i.j=i.g.g;var W=_(i.g)>>>0;if(I=W>>>3,!(0<=(W&=7)&&5>=W))throw wr(W,i.j);if(1>I)throw Error("Invalid field number: "+I+" (at position "+i.j+")");return i.i=I,i.h=W,!0}function Vt(i){switch(i.h){case 0:if(0!=i.h)Vt(i);else t:{for(var I=(i=i.g).g,W=I+10;I<W;)if(!(128&i.h[I++])){i.g=I,u(i);break t}throw Er()}break;case 1:(i=i.g).g+=8,u(i);break;case 2:2!=i.h?Vt(i):(I=_(i.g)>>>0,(i=i.g).g+=I,u(i));break;case 5:(i=i.g).g+=4,u(i);break;case 3:for(I=i.i;;){if(!wt(i))throw Error("Unmatched start-group tag: stream EOF");if(4==i.h){if(i.i!=I)throw Error("Unmatched end-group tag");break}Vt(i)}break;default:throw wr(i.h,i.j)}}rt.prototype.length=function(){return this.g.length},rt.prototype.end=function(){var i=this.g;return this.g=[],i},Ft.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var re=[];function se(){this.i=[],this.h=0,this.g=new rt}function we(i,I){0!==I.length&&(i.i.push(I),i.h+=I.length)}var an="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol(void 0):void 0;function Qe(i,I){Object.isFrozen(i)||(an?i[an]|=I:void 0!==i.N?i.N|=I:Object.defineProperties(i,{N:{value:I,configurable:!0,writable:!0,enumerable:!1}}))}function $e(i){var I;return null==(I=an?i[an]:i.N)?0:I}function _e(i){return Qe(i,1),i}function Re(i){return!!Array.isArray(i)&&!!(2&$e(i))}function Ce(i){if(!Array.isArray(i))throw Error("cannot mark non-array as immutable");Qe(i,2)}function en(i){return null!==i&&"object"==typeof i&&!Array.isArray(i)&&i.constructor===Object}var r=Object.freeze(_e([]));function e(i){if(Re(i.m))throw Error("Cannot mutate an immutable Message")}var n,o=typeof Symbol<"u"&&void 0!==Symbol.hasInstance;function D(i){return{value:i,configurable:!1,writable:!1,enumerable:!1}}function P(i,I,W){return-1===I?null:I>=i.i?i.g?i.g[I]:void 0:void 0!==W&&W&&i.g&&null!=(W=i.g[I])?W:i.m[I+i.h]}function F(i,I,W,X){X=void 0!==X&&X,e(i),I<i.i&&!X?i.m[I+i.h]=W:(i.g||(i.g=i.m[i.i+i.h]={}))[I]=W}function K(i,I,W,X){W=void 0===W||W;var ft=P(i,I,X=void 0!==X&&X);return null==ft&&(ft=r),Re(i.m)?W&&(Ce(ft),Object.freeze(ft)):(ft===r||Re(ft))&&F(i,I,ft=_e(ft.slice()),X),ft}function ot(i,I,W){return null==(i=null==(i=P(i,I))?i:+i)?void 0===W?0:W:i}function Lt(i,I,W,X){i.j||(i.j={});var ft=Re(i.m),at=i.j[W];if(!at){X=K(i,W,!0,void 0!==X&&X),at=[],ft=ft||Re(X);for(var lt=0;lt<X.length;lt++)at[lt]=new I(X[lt]),ft&&Ce(at[lt].m);ft&&(Ce(at),Object.freeze(at)),i.j[W]=at}return at}function Zt(i,I,W,X,ft){var at=void 0!==at&&at;return e(i),at=Lt(i,W,I,at),W=X||new W,i=K(i,I),null!=ft?(at.splice(ft,0,W),i.splice(ft,0,W.m)):(at.push(W),i.push(W.m)),W}function ue(i,I){return null==(i=P(i,I))?0:i}function fe(i,I){return null==(i=P(i,I))?"":i}function be(i){return Ge(i,void 0===ve?nn:ve)}function ze(i,I){if(null!=i){if(Array.isArray(i))i=Ge(i,I);else if(en(i)){var W,X={};for(W in i)X[W]=ze(i[W],I);i=X}else i=I(i);return i}}function Ge(i,I){for(var W=i.slice(),X=0;X<W.length;X++)W[X]=ze(W[X],I);return Array.isArray(i)&&1&$e(i)&&_e(W),W}function ve(i){return i&&"object"==typeof i&&i.toJSON?i.toJSON():(i=function(I){switch(typeof I){case"number":return isFinite(I)?I:String(I);case"object":if(I&&!Array.isArray(I)){if(Mr(I))return Jr(I);if(I instanceof ur){var W=I.L;return W=null==W||"string"==typeof W?W:Vr&&W instanceof Uint8Array?Jr(W):null,(I.L=W)||""}}}return I}(i),Array.isArray(i)?be(i):i)}function nn(i){return Mr(i)?new Uint8Array(i):i}function Dn(i,I,W){i||(i=n),n=null;var X=this.constructor.h;if(i||(i=X?[X]:[]),this.h=(X?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=i,i=(X=this.m.length)-1,X&&en(X=this.m[i])?(this.i=i-this.h,this.g=X):void 0!==I&&-1<I?(this.i=Math.max(I,i+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,W)for(I=0;I<W.length;I++)if((i=W[I])<this.i)(X=this.m[i+=this.h])?Array.isArray(X)&&_e(X):this.m[i]=r;else{var ft=(X=this.g||(this.g=this.m[this.i+this.h]={}))[i];ft?Array.isArray(ft)&&_e(ft):X[i]=r}}function Jn(){Dn.apply(this,arguments)}if(Dn.prototype.toJSON=function(){return be(this.m)},Dn.prototype.toString=function(){return this.m.toString()},oe(Jn,Dn),o){var lr={};Object.defineProperties(Jn,(lr[Symbol.hasInstance]=D(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),lr))}function pn(i,I,W){if(W){var X,ft={};for(X in W){var at=W[X],lt=at.ha;lt||(ft.F=at.la||at.fa.P,at.aa?(ft.U=_s(at.aa),lt=function(St){return function(Xt,he,pe){return St.F(Xt,he,pe,St.U)}}(ft)):at.ca?(ft.T=Ls(at.X.g,at.ca),lt=function(St){return function(Xt,he,pe){return St.F(Xt,he,pe,St.T)}}(ft)):lt=ft.F,at.ha=lt),lt(I,i,at.X),ft={F:ft.F,U:ft.U,T:ft.T}}}!function(St,Xt){if(Xt=Xt.ba){we(St,St.g.end());for(var he=0;he<Xt.length;he++)we(St,Xt[he])}}(I,i)}var ar=Symbol();function Pt(i,I,W){return i[ar]||(i[ar]=function(X,ft){return I(X,ft,W)})}function Xn(i){var I=i[ar];if(!I){var W=Ps(i);i[ar]=I=function(X,ft){return as(X,ft,W)}}return I}function Es(i){var ft,at,I=(at=(ft=i).aa)?Xn(at):(at=ft.ka)?Pt(ft.X.g,at,ft.ca):void 0,W=i.X,X=i.fa.O;return I?function(ft,at){return X(ft,at,W,I)}:function(ft,at){return X(ft,at,W)}}function _r(i,I,W,X,ft,at){var lt=0;for((i=i()).length&&"number"!=typeof i[0]&&(W(I,i[0]),lt++);lt<i.length;){W=i[lt++];for(var St=lt+1;St<i.length&&"number"!=typeof i[St];)St++;var Xt=i[lt++];switch(St-=lt){case 0:X(I,W,Xt);break;case 1:X(I,W,Xt,i[lt++]);break;case 2:ft(I,W,Xt,i[lt++],i[lt++]);break;case 3:St=i[lt++];var he=i[lt++],pe=i[lt++];Array.isArray(pe)?ft(I,W,Xt,St,he,pe):at(I,W,Xt,St,he,pe);break;case 4:at(I,W,Xt,i[lt++],i[lt++],i[lt++],i[lt++]);break;default:throw Error("unexpected number of binary field arguments: "+St)}}return I}var qr=Symbol();function _s(i){var I=i[qr];if(!I){var W=Ts(i);i[qr]=I=function(X,ft){return Ws(X,ft,W)}}return I}function Ls(i,I){var W=i[qr];return W||(i[qr]=W=function(X,ft){return pn(X,ft,I)}),W}var ea=Symbol();function ga(i,I){i.push(I)}function vs(i,I,W){i.push(I,W.P)}function na(i,I,W,X,ft){var at=_s(ft),lt=W.P;i.push(I,function(St,Xt,he){return lt(St,Xt,he,X,at)})}function Os(i,I,W,X,ft,at){var lt=Ls(X,at),St=W.P;i.push(I,function(Xt,he,pe){return St(Xt,he,pe,X,lt)})}function Ts(i){return i[ea]||_r(i,i[ea]=[],ga,vs,na,Os)}var $s=Symbol();function ra(i,I){i[0]=I}function Ds(i,I,W,X){var ft=W.O;i[I]=X?function(at,lt,St){return ft(at,lt,St,X)}:ft}function Us(i,I,W,X,ft,at){var lt=W.O,St=Xn(ft);i[I]=function(Xt,he,pe){return lt(Xt,he,pe,X,St,at)}}function sa(i,I,W,X,ft,at,lt){var St=W.O,Xt=Pt(X,ft,at);i[I]=function(he,pe,Be){return St(he,pe,Be,X,Xt,lt)}}function Ps(i){return i[$s]||_r(i,i[$s]={},ra,Ds,Us,sa)}function as(i,I,W){for(;wt(I)&&4!=I.h;){var X=I.i,ft=W[X];if(!ft){var at=W[0];at&&(at=at[X])&&(ft=W[X]=Es(at))}if(!(ft&&ft(I,i,X)||(ft=I,X=i,at=ft.j,Vt(ft),ft.W))){var lt=ft.g.h;ft=at===(ft=ft.g.g)?yr||(yr=new Uint8Array(0)):Ir?lt.slice(at,ft):new Uint8Array(lt.subarray(at,ft)),(at=X.ba)?at.push(ft):X.ba=[ft]}}return i}function ts(i,I,W){if(re.length){var X=re.pop();i&&(Un(X.g,i),X.i=-1,X.h=-1),i=X}else i=new Ft(i);try{return as(new I,i,Ps(W))}finally{(I=i.g).h=null,I.j=0,I.i=0,I.g=0,I.v=!1,i.i=-1,i.h=-1,100>re.length&&re.push(i)}}function Ws(i,I,W){for(var X=W.length,ft=X%2==1,at=ft?1:0;at<X;at+=2)(0,W[at+1])(I,i,W[at]);pn(i,I,ft?W[0]:void 0)}function As(i,I){var W=new se;Ws(i,W,Ts(I)),we(W,W.g.end()),i=new Uint8Array(W.h);for(var X=(I=W.i).length,ft=0,at=0;at<X;at++){var lt=I[at];i.set(lt,ft),ft+=lt.length}return W.i=[i],i}function Rr(i,I){return{O:i,P:I}}var Sr=Rr(function(i,I,W){if(5!==i.h)return!1;var X=(i=i.g).h[i.g],ft=i.h[i.g+1],at=i.h[i.g+2],lt=i.h[i.g+3];return i.g+=4,u(i),i=2*((ft=(X<<0|ft<<8|at<<16|lt<<24)>>>0)>>31)+1,X=ft>>>23&255,ft&=8388607,F(I,W,255==X?ft?NaN:1/0*i:0==X?i*Math.pow(2,-149)*ft:i*Math.pow(2,X-150)*(ft+Math.pow(2,23))),!0},function(i,I,W){if(null!=(I=P(I,W))){It(i.g,8*W+5),i=i.g;var X=I;0===(X=(W=0>X?1:0)?-X:X)?Hn=0<1/X?0:2147483648:isNaN(X)?Hn=2147483647:34028234663852886e22<X?Hn=(W<<31|2139095040)>>>0:11754943508222875e-54>X?(X=Math.round(X/Math.pow(2,-149)),Hn=(W<<31|X)>>>0):(I=Math.floor(Math.log(X)/Math.LN2),X*=Math.pow(2,-I),16777216<=(X=Math.round(8388608*X))&&++I,Hn=(W<<31|I+127<<23|8388607&X)>>>0),i.g.push((W=Hn)>>>0&255),i.g.push(W>>>8&255),i.g.push(W>>>16&255),i.g.push(W>>>24&255)}}),Ms=Rr(function(i,I,W){if(0!==i.h)return!1;for(var X=i.g,ft=128,at=0,lt=i=0;4>lt&&128<=ft;lt++)ft=X.h[X.g++],u(X),at|=(127&ft)<<7*lt;if(128<=ft&&(ft=X.h[X.g++],u(X),at|=(127&ft)<<28,i|=(127&ft)>>4),128<=ft)for(lt=0;5>lt&&128<=ft;lt++)ft=X.h[X.g++],u(X),i|=(127&ft)<<7*lt+3;if(!(128>ft))throw Er();return X=at>>>0,(i=2147483648&(ft=i>>>0))&&(ft=~ft>>>0,0==(X=1+~X>>>0)&&(ft=ft+1>>>0)),X=4294967296*ft+(X>>>0),F(I,W,i?-X:X),!0},function(i,I,W){if(null!=(I=P(I,W))&&null!=I){It(i.g,8*W),i=i.g;var X=I;for(W=0>X,I=(X=Math.abs(X))>>>0,X=Math.floor((X-I)/4294967296),X>>>=0,W&&(X=~X>>>0,4294967295<(I=1+(~I>>>0))&&(I=0,4294967295<++X&&(X=0))),W=Hn=I,I=X;0<I||127<W;)i.g.push(127&W|128),W=(W>>>7|I<<25)>>>0,I>>>=7;i.g.push(W)}}),os=Rr(function(i,I,W){return 0===i.h&&(F(I,W,_(i.g)),!0)},function(i,I,W){if(null!=(I=P(I,W))&&null!=I)if(It(i.g,8*W),i=i.g,0<=(W=I))It(i,W);else{for(I=0;9>I;I++)i.g.push(127&W|128),W>>=7;i.g.push(1)}}),Ks=Rr(function(i,I,W){if(2!==i.h)return!1;var X,ft=_(i.g)>>>0,at=(i=i.g).g;if(i.g+=ft,u(i),i=i.h,Kr)(X=wn)||(X=wn=new TextDecoder("utf-8",{fatal:!0})),X=X.decode(i.subarray(at,at+ft));else{ft=at+ft;for(var lt,St,Xt,he=[],pe=null;at<ft;)128>(lt=i[at++])?he.push(lt):224>lt?at>=ft?Le():(St=i[at++],194>lt||128!=(192&St)?(at--,Le()):he.push((31&lt)<<6|63&St)):240>lt?at>=ft-1?Le():128!=(192&(St=i[at++]))||224===lt&&160>St||237===lt&&160<=St||128!=(192&(X=i[at++]))?(at--,Le()):he.push((15&lt)<<12|(63&St)<<6|63&X):244>=lt?at>=ft-2?Le():128!=(192&(St=i[at++]))||St-144+(lt<<28)>>30||128!=(192&(X=i[at++]))||128!=(192&(Xt=i[at++]))?(at--,Le()):(lt=(7&lt)<<18|(63&St)<<12|(63&X)<<6|63&Xt,he.push(55296+((lt-=65536)>>10&1023),56320+(1023&lt))):Le(),8192<=he.length&&(pe=Nn(pe,he),he.length=0);X=Nn(pe,he)}return F(I,W,X),!0},function(i,I,W){if(null!=(I=P(I,W))){var X=!1;if(X=void 0!==X&&X,Fr){if(X&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(I))throw Error("Found an unpaired surrogate");I=(ir||(ir=new TextEncoder)).encode(I)}else{for(var ft=0,at=new Uint8Array(3*I.length),lt=0;lt<I.length;lt++){var St=I.charCodeAt(lt);if(128>St)at[ft++]=St;else{if(2048>St)at[ft++]=St>>6|192;else{if(55296<=St&&57343>=St){if(56319>=St&&lt<I.length){var Xt=I.charCodeAt(++lt);if(56320<=Xt&&57343>=Xt){at[ft++]=(St=1024*(St-55296)+Xt-56320+65536)>>18|240,at[ft++]=St>>12&63|128,at[ft++]=St>>6&63|128,at[ft++]=63&St|128;continue}lt--}if(X)throw Error("Found an unpaired surrogate");St=65533}at[ft++]=St>>12|224,at[ft++]=St>>6&63|128}at[ft++]=63&St|128}}I=at.subarray(0,ft)}It(i.g,8*W+2),It(i.g,I.length),we(i,i.g.end()),we(i,I)}}),es=Rr(function(i,I,W,X,ft){if(2!==i.h)return!1;I=Zt(I,W,X),W=i.g.i,X=_(i.g)>>>0;var at=i.g.g+X,lt=at-W;if(0>=lt&&(i.g.i=at,ft(I,i),lt=at-i.g.g),lt)throw Error("Message parsing ended unexpectedly. Expected to read "+X+" bytes, instead read "+(X-lt)+" bytes, either the data ended unexpectedly or the message misreported its own length");return i.g.g=at,i.g.i=W,!0},function(i,I,W,X,ft){if(null!=(I=Lt(I,X,W)))for(X=0;X<I.length;X++){var at=i;It(at.g,8*W+2);var lt=at.g.end();we(at,lt),lt.push(at.h),at=lt,ft(I[X],i),lt=i;var St=at.pop();for(St=lt.h+lt.g.length()-St;127<St;)at.push(127&St|128),St>>>=7,lt.h++;at.push(St),lt.h++}});function vr(){Jn.apply(this,arguments)}if(oe(vr,Jn),o){var hs={};Object.defineProperties(vr,(hs[Symbol.hasInstance]=D(Object[Symbol.hasInstance]),hs))}function is(i){vr.call(this,i)}function Fs(){return[1,os,2,Sr,3,Ks,4,Ks]}function fs(i){vr.call(this,i,-1,oa)}function aa(){return[1,es,is,Fs]}oe(is,vr),oe(fs,vr),fs.prototype.addClassification=function(i,I){return Zt(this,1,is,i,I),this};var oa=[1];function ns(i){vr.call(this,i)}function Is(){return[1,Sr,2,Sr,3,Sr,4,Sr,5,Sr]}function bs(i){vr.call(this,i,-1,Ot)}function In(){return[1,es,ns,Is]}oe(ns,vr),oe(bs,vr);var Ot=[1];function Ss(i){vr.call(this,i)}function Xr(){return[1,Sr,2,Sr,3,Sr,4,Sr,5,Sr,6,Ms]}oe(Ss,vr);var ks=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ds=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],zr=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Vs=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],zs=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Or=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],ps=[].concat($t(ks),$t(ds),$t(zr),$t(Vs),$t(zs),$t(Or));function Cr(i,I,W){if(W=i.createShader(0===W?i.VERTEX_SHADER:i.FRAGMENT_SHADER),i.shaderSource(W,I),i.compileShader(W),!i.getShaderParameter(W,i.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+i.getShaderInfoLog(W));return W}function ia(i){return Lt(i,is,1).map(function(I){return{index:ue(I,1),ga:ot(I,2),label:null!=P(I,3)?fe(I,3):void 0,displayName:null!=P(I,4)?fe(I,4):void 0}})}function ua(i){return{x:ot(i,1),y:ot(i,2),z:ot(i,3),visibility:null!=P(i,4)?ot(i,4):void 0}}function Ns(i,I){this.h=i,this.g=I,this.l=0}function js(i,I,W){return function(X,ft){var at=X.g;if(void 0===X.o){var lt=Cr(at,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),St=Cr(at,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),Xt=at.createProgram();if(at.attachShader(Xt,lt),at.attachShader(Xt,St),at.linkProgram(Xt),!at.getProgramParameter(Xt,at.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+at.getProgramInfoLog(Xt));lt=X.o=Xt,at.useProgram(lt),St=at.getUniformLocation(lt,"sampler0"),X.j={K:at.getAttribLocation(lt,"aVertex"),J:at.getAttribLocation(lt,"aTex"),ma:St},X.u=at.createBuffer(),at.bindBuffer(at.ARRAY_BUFFER,X.u),at.enableVertexAttribArray(X.j.K),at.vertexAttribPointer(X.j.K,2,at.FLOAT,!1,0,0),at.bufferData(at.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),at.STATIC_DRAW),at.bindBuffer(at.ARRAY_BUFFER,null),X.s=at.createBuffer(),at.bindBuffer(at.ARRAY_BUFFER,X.s),at.enableVertexAttribArray(X.j.J),at.vertexAttribPointer(X.j.J,2,at.FLOAT,!1,0,0),at.bufferData(at.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),at.STATIC_DRAW),at.bindBuffer(at.ARRAY_BUFFER,null),at.uniform1i(St,0)}lt=X.j,at.useProgram(X.o),at.canvas.width=ft.width,at.canvas.height=ft.height,at.viewport(0,0,ft.width,ft.height),at.activeTexture(at.TEXTURE0),X.h.bindTexture2d(ft.glName),at.enableVertexAttribArray(lt.K),at.bindBuffer(at.ARRAY_BUFFER,X.u),at.vertexAttribPointer(lt.K,2,at.FLOAT,!1,0,0),at.enableVertexAttribArray(lt.J),at.bindBuffer(at.ARRAY_BUFFER,X.s),at.vertexAttribPointer(lt.J,2,at.FLOAT,!1,0,0),at.bindFramebuffer(at.DRAW_FRAMEBUFFER?at.DRAW_FRAMEBUFFER:at.FRAMEBUFFER,null),at.clearColor(0,0,0,0),at.clear(at.COLOR_BUFFER_BIT),at.colorMask(!0,!0,!0,!0),at.drawArrays(at.TRIANGLE_FAN,0,4),at.disableVertexAttribArray(lt.K),at.disableVertexAttribArray(lt.J),at.bindBuffer(at.ARRAY_BUFFER,null),X.h.bindTexture2d(0)}(i,I),"function"==typeof i.g.canvas.transferToImageBitmap?Promise.resolve(i.g.canvas.transferToImageBitmap()):W?Promise.resolve(i.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(i.g.canvas):(void 0===i.i&&(i.i=document.createElement("canvas")),new Promise(function(X){i.i.height=i.g.canvas.height,i.i.width=i.g.canvas.width,i.i.getContext("2d",{}).drawImage(i.g.canvas,0,0,i.g.canvas.width,i.g.canvas.height),X(i.i)}))}function Bs(i){this.g=i}var la=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ca(i,I){return I+i}function Gs(i,I){window[i]=I}function xs(i){if(this.g=i,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=i&&i.locateFile||ca,"object"==typeof window)var I=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(typeof location>"u")throw Error("solutions can only be loaded on a web page or in a web worker");I=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=I,i.options)for(var W=(I=Mt(Object.keys(i.options))).next();!W.done;W=I.next()){var X=i.options[W=W.value].default;void 0!==X&&(this.j[W]="function"==typeof X?X():X)}}function us(i,I){var W,X;return Ae(function(ft){return I in i.H?ft.return(i.H[I]):(W=i.locateFile(I,""),X=fetch(W).then(function(at){return at.arrayBuffer()}),i.H[I]=X,ft.return(X))})}function ms(i,I){for(var W=I.name||"$",X=[].concat($t(I.wants)),ft=new i.h.StringList,at=Mt(I.wants),lt=at.next();!lt.done;lt=at.next())ft.push_back(lt.value);at=i.h.PacketListener.implement({onResults:function(St){for(var Xt={},he=0;he<I.wants.length;++he)Xt[X[he]]=St.get(he);var pe=i.listeners[W];pe&&(i.D=function Xs(i,I,W){var X,ft,at,lt,Xt,he,pe,Be,Ke,Oe,sn,mn;return Ae(function(Tn){switch(Tn.g){case 1:if(!W)return Tn.return(I);for(X={},ft=0,at=Mt(Object.keys(W)),lt=at.next();!lt.done;lt=at.next())"string"!=typeof(Xt=W[lt.value])&&"texture"===Xt.type&&void 0!==I[Xt.stream]&&++ft;1<ft&&(i.I=!1),he=Mt(Object.keys(W)),lt=he.next();case 2:if(lt.done){Tn.g=4;break}if("string"==typeof(Be=W[pe=lt.value]))return sn=X,mn=pe,Ee(Tn,(jr=i,Zs=pe,rs=I[Be],Ae(function(ws){return"number"==typeof rs||rs instanceof Uint8Array||rs instanceof jr.h.Uint8BlobList?ws.return(rs):rs instanceof jr.h.Texture2dDataOut?((Lr=jr.u[Zs])||(Lr=new Ns(jr.h,jr.G),jr.u[Zs]=Lr),ws.return(js(Lr,rs,jr.I))):ws.return(void 0)})),14);if(Ke=I[Be.stream],"detection_list"===Be.type){if(Ke){for(var qn=Ke.getRectList(),Tr=Ke.getLandmarksList(),or=Ke.getClassificationsList(),dn=[],Fn=0;Fn<qn.size();++Fn){var Zr=ts(qn.get(Fn),Ss,Xr);Zr={boundingBox:{xCenter:ot(Zr,1),yCenter:ot(Zr,2),height:ot(Zr,3),width:ot(Zr,4),rotation:ot(Zr,5,0),rectId:ue(Zr,6)},landmarks:Lt(ts(Tr.get(Fn),bs,In),ns,1).map(ua),V:ia(ts(or.get(Fn),fs,aa))},dn.push(Zr)}qn=dn}else qn=[];X[pe]=qn,Tn.g=7;break}if("proto_list"===Be.type){if(Ke){for(qn=Array(Ke.size()),Tr=0;Tr<Ke.size();Tr++)qn[Tr]=Ke.get(Tr);Ke.delete()}else qn=[];X[pe]=qn,Tn.g=7;break}if(void 0===Ke){Tn.g=3;break}if("float_list"===Be.type){X[pe]=Ke,Tn.g=7;break}if("proto"===Be.type){X[pe]=Ke,Tn.g=7;break}if("texture"!==Be.type)throw Error("Unknown output config type: '"+Be.type+"'");return(Oe=i.u[pe])||(Oe=new Ns(i.h,i.G),i.u[pe]=Oe),Ee(Tn,js(Oe,Ke,i.I),13);case 13:X[pe]=Tn.h;case 7:Be.transform&&X[pe]&&(X[pe]=Be.transform(X[pe])),Tn.g=3;break;case 14:sn[mn]=Tn.h;case 3:lt=he.next(),Tn.g=2;break;case 4:return Tn.return(X)}var jr,Zs,rs,Lr})}(i,Xt,I.outs).then(function(Be){Be=pe(Be);for(var Ke=0;Ke<I.wants.length;++Ke){var Oe=Xt[X[Ke]];"object"==typeof Oe&&Oe.hasOwnProperty&&Oe.hasOwnProperty("delete")&&Oe.delete()}Be&&(i.D=Be)}))}}),i.i.attachMultiListener(ft,at),ft.delete()}function gs(i){var I=this,W={url:"face_detection_short.binarypb"},X={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new xs({locateFile:(i=i||{}).locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:W,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(ft){var at,lt,St,Xt;return Ae(function(pe){switch(pe.g){case 1:at=Mt("short"===ft?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),lt=at.next();case 2:if(lt.done){pe.g=4;break}return Xt="third_party/mediapipe/modules/face_detection/"+(St=lt.value),Ee(pe,us(I.g,St),5);case 5:I.g.overrideFile(Xt,pe.h),lt=at.next(),pe.g=2;break;case 4:return W.url="short"===ft?"face_detection_short.binarypb":"face_detection_full.binarypb",X.graphOptionXref.calculatorName="short"===ft?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",pe.return(!0)}})}},minDetectionConfidence:X}})}(tt=xs.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},tt.reset=function(){var i=this;return Ae(function(I){i.i&&(i.i.reset(),i.o={},i.u={}),I.g=0})},tt.setOptions=function(i,I){var W=this;if(I=I||this.g.options){for(var X=[],ft=[],at={},lt=Mt(Object.keys(i)),St=lt.next();!St.done;at={R:at.R,S:at.S},St=lt.next()){var Xt=St.value;Xt in this.j&&this.j[Xt]===i[Xt]||(this.j[Xt]=i[Xt],void 0!==(St=I[Xt])&&(St.onChange&&(at.R=St.onChange,at.S=i[Xt],X.push(function(he){return function(){return Ae(function(pe){if(1==pe.g)return Ee(pe,he.R(he.S),2);!0===pe.h&&(W.s=!0),pe.g=0})}}(at))),St.graphOptionXref&&(Xt={valueNumber:1===St.type?i[Xt]:0,valueBoolean:0===St.type&&i[Xt],valueString:2===St.type?i[Xt]:""},St=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),St.graphOptionXref),Xt),ft.push(St))))}0===X.length&&0===ft.length||(this.s=!0,this.B=(void 0===this.B?[]:this.B).concat(ft),this.A=(void 0===this.A?[]:this.A).concat(X))}},tt.initialize=function(){var i=this;return Ae(function(I){return 1==I.g?Ee(I,function Hs(i){var I,W,X,ft,at,lt,St,Xt,he,pe,Be;return Ae(function(Ke){switch(Ke.g){case 1:return i.Z?(I=void 0===i.g.files?[]:"function"==typeof i.g.files?i.g.files(i.j):i.g.files,Ee(Ke,Ae(function(Oe){switch(Oe.g){case 1:return Oe.o=2,Ee(Oe,WebAssembly.instantiate(la),4);case 4:Oe.g=3,Oe.o=0;break;case 2:return Oe.o=0,Oe.j=null,Oe.return(!1);case 3:return Oe.return(!0)}}),2)):Ke.return();case 2:if(W=Ke.h,"object"==typeof window)return Gs("createMediapipeSolutionsWasm",{locateFile:i.locateFile}),Gs("createMediapipeSolutionsPackedAssets",{locateFile:i.locateFile}),lt=I.filter(function(Oe){return void 0!==Oe.data}),St=I.filter(function(Oe){return void 0===Oe.data}),Xt=Promise.all(lt.map(function(Oe){var He=us(i,Oe.url);if(void 0!==Oe.path){var sn=Oe.path;He=He.then(function(mn){return i.overrideFile(sn,mn),Promise.resolve(mn)})}return He})),he=Promise.all(St.map(function(Oe){return void 0===Oe.simd||Oe.simd&&W||!Oe.simd&&!W?(He=i.locateFile(Oe.url,i.$),(sn=document.createElement("script")).setAttribute("src",He),sn.setAttribute("crossorigin","anonymous"),new Promise(function(mn){sn.addEventListener("load",function(){mn()},!1),sn.addEventListener("error",function(){mn()},!1),document.body.appendChild(sn)})):Promise.resolve();var He,sn})).then(function(){var Oe,He,sn;return Ae(function(mn){if(1==mn.g)return Oe=window.createMediapipeSolutionsWasm,He=window.createMediapipeSolutionsPackedAssets,sn=i,Ee(mn,Oe(He),2);sn.h=mn.h,mn.g=0})}),pe=Ae(function(Oe){return i.g.graph&&i.g.graph.url?Oe=Ee(Oe,us(i,i.g.graph.url),0):(Oe.g=0,Oe=void 0),Oe}),Ee(Ke,Promise.all([he,Xt,pe]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return X=I.filter(function(Oe){return void 0===Oe.simd||Oe.simd&&W||!Oe.simd&&!W}).map(function(Oe){return i.locateFile(Oe.url,i.$)}),importScripts.apply(null,$t(X)),ft=i,Ee(Ke,createMediapipeSolutionsWasm(Module),6);case 6:ft.h=Ke.h,i.l=new OffscreenCanvas(1,1),i.h.canvas=i.l,at=i.h.GL.createContext(i.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),i.h.GL.makeContextCurrent(at),Ke.g=4;break;case 7:if(i.l=document.createElement("canvas"),!(Be=i.l.getContext("webgl2",{}))&&!(Be=i.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),Ke.return();i.G=Be,i.h.canvas=i.l,i.h.createContext(i.l,!0,!0,{});case 4:i.i=new i.h.SolutionWasm,i.Z=!1,Ke.g=0}})}(i),2):3!=I.g?Ee(I,(W=i,Ae(function(Be){if(1==Be.g)return W.g.graph&&W.g.graph.url&&W.Y===W.g.graph.url?Be.return():(W.s=!0,W.g.graph&&W.g.graph.url?(W.Y=W.g.graph.url,Ee(Be,us(W,W.g.graph.url),3)):void(Be.g=2));for(2!=Be.g&&W.i.loadGraph(Be.h),ft=Mt(Object.keys(W.C)),at=ft.next();!at.done;at=ft.next())W.i.overrideFile(lt=at.value,W.C[lt]);if(W.C={},W.g.listeners)for(St=Mt(W.g.listeners),Xt=St.next();!Xt.done;Xt=St.next())ms(W,Xt.value);pe=W.j,W.j={},W.setOptions(pe),Be.g=0})),3):Ee(I,function(W){var X,ft,at,lt,St;return Ae(function(he){switch(he.g){case 1:if(!W.s)return he.return();if(!W.A){he.g=2;break}X=Mt(W.A),ft=X.next();case 3:if(ft.done){he.g=5;break}return Ee(he,(0,ft.value)(),4);case 4:ft=X.next(),he.g=3;break;case 5:W.A=void 0;case 2:if(W.B){for(at=new W.h.GraphOptionChangeRequestList,lt=Mt(W.B),St=lt.next();!St.done;St=lt.next())at.push_back(St.value);W.i.changeOptions(at),at.delete(),W.B=void 0}W.s=!1,he.g=0}})}(i),0);var W,ft,at,lt,St,Xt,pe})},tt.overrideFile=function(i,I){this.i?this.i.overrideFile(i,I):this.C[i]=I},tt.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},tt.send=function(i,I){var W,X,ft,at,lt,St,Xt,he,pe,Be=this;return Ae(function(Ke){switch(Ke.g){case 1:return Be.g.inputs?(W=1e3*(null==I?performance.now():I),Ee(Ke,Be.D,2)):Ke.return();case 2:return Ee(Ke,Be.initialize(),3);case 3:for(X=new Be.h.PacketDataList,ft=Mt(Object.keys(i)),at=ft.next();!at.done;at=ft.next())if(St=Be.g.inputs[lt=at.value]){t:{var Oe=i[lt];switch(St.type){case"video":var He=Be.o[St.stream];if(He||(He=new Ns(Be.h,Be.G),Be.o[St.stream]=He),0===He.l&&(He.l=He.h.createTexture()),typeof HTMLVideoElement<"u"&&Oe instanceof HTMLVideoElement)var sn=Oe.videoWidth,mn=Oe.videoHeight;else typeof HTMLImageElement<"u"&&Oe instanceof HTMLImageElement?(sn=Oe.naturalWidth,mn=Oe.naturalHeight):(sn=Oe.width,mn=Oe.height);mn={glName:He.l,width:sn,height:mn},(sn=He.g).canvas.width=mn.width,sn.canvas.height=mn.height,sn.activeTexture(sn.TEXTURE0),He.h.bindTexture2d(He.l),sn.texImage2D(sn.TEXTURE_2D,0,sn.RGBA,sn.RGBA,sn.UNSIGNED_BYTE,Oe),He.h.bindTexture2d(0),He=mn;break t;case"detections":for((He=Be.o[St.stream])||(He=new Bs(Be.h),Be.o[St.stream]=He),He.data||(He.data=new He.g.DetectionListData),He.data.reset(Oe.length),mn=0;mn<Oe.length;++mn){var Tn=He.data,qn=Tn.setBoundingBox,Tr=mn,or=(sn=Oe[mn]).boundingBox,dn=new Ss;if(F(dn,1,or.xCenter),F(dn,2,or.yCenter),F(dn,3,or.height),F(dn,4,or.width),F(dn,5,or.rotation),F(dn,6,or.rectId),or=As(dn,Xr),qn.call(Tn,Tr,or),sn.landmarks)for(Tn=0;Tn<sn.landmarks.length;++Tn){var Fn=!!(dn=sn.landmarks[Tn]).visibility;Tr=(qn=He.data).addNormalizedLandmark,or=mn,dn=Object.assign(Object.assign({},dn),{visibility:Fn?dn.visibility:0}),F(Fn=new ns,1,dn.x),F(Fn,2,dn.y),F(Fn,3,dn.z),dn.visibility&&F(Fn,4,dn.visibility),dn=As(Fn,Is),Tr.call(qn,or,dn)}if(sn.V)for(Tn=0;Tn<sn.V.length;++Tn)Tr=(qn=He.data).addClassification,or=mn,dn=sn.V[Tn],F(Fn=new is,2,dn.ga),dn.index&&F(Fn,1,dn.index),dn.label&&F(Fn,3,dn.label),dn.displayName&&F(Fn,4,dn.displayName),dn=As(Fn,Fs),Tr.call(qn,or,dn)}He=He.data;break t;default:He={}}}switch(Xt=He,he=St.stream,St.type){case"video":X.pushTexture2d(Object.assign(Object.assign({},Xt),{stream:he,timestamp:W}));break;case"detections":(pe=Xt).stream=he,pe.timestamp=W,X.pushDetectionList(pe);break;default:throw Error("Unknown input config type: '"+St.type+"'")}}return Be.i.send(X),Ee(Ke,Be.D,4);case 4:X.delete(),Ke.g=0}})},tt.onResults=function(i,I){this.listeners[I||"$"]=i},We("Solution",xs),We("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(tt=gs.prototype).close=function(){return this.g.close(),Promise.resolve()},tt.onResults=function(i){this.g.onResults(i)},tt.initialize=function(){var i=this;return Ae(function(I){return Ee(I,i.g.initialize(),0)})},tt.reset=function(){this.g.reset()},tt.send=function(i){var I=this;return Ae(function(W){return Ee(W,I.g.send(i),0)})},tt.setOptions=function(i){this.g.setOptions(i)},We("FaceDetection",gs),We("FACEDETECTION_LIPS",ks),We("FACEDETECTION_LEFT_EYE",ds),We("FACEDETECTION_LEFT_EYEBROW",zr),We("FACEDETECTION_RIGHT_EYE",Vs),We("FACEDETECTION_RIGHT_EYEBROW",zs),We("FACEDETECTION_FACE_OVAL",Or),We("FACEDETECTION_CONTOURS",ps),We("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),We("VERSION","0.4.1646425229")}).call(Q);var ht=function(){return ht=Object.assign||function(tt){for(var yt,Et=1,gt=arguments.length;Et<gt;Et++)for(var _t in yt=arguments[Et])Object.prototype.hasOwnProperty.call(yt,_t)&&(tt[_t]=yt[_t]);return tt},ht.apply(this,arguments)};function Wt(tt,yt,Et,gt){return new(Et||(Et=Promise))(function(_t,Nt){function Mt(jt){try{Ht(gt.next(jt))}catch(xt){Nt(xt)}}function $t(jt){try{Ht(gt.throw(jt))}catch(xt){Nt(xt)}}function Ht(jt){var xt;jt.done?_t(jt.value):(xt=jt.value,xt instanceof Et?xt:new Et(function(Yt){Yt(xt)})).then(Mt,$t)}Ht((gt=gt.apply(tt,yt||[])).next())})}function G(tt,yt){var Et,gt,_t,Nt,Mt={label:0,sent:function(){if(1&_t[0])throw _t[1];return _t[1]},trys:[],ops:[]};return Nt={next:$t(0),throw:$t(1),return:$t(2)},"function"==typeof Symbol&&(Nt[Symbol.iterator]=function(){return this}),Nt;function $t(Ht){return function(jt){return function(xt){if(Et)throw new TypeError("Generator is already executing.");for(;Mt;)try{if(Et=1,gt&&(_t=2&xt[0]?gt.return:xt[0]?gt.throw||((_t=gt.return)&&_t.call(gt),0):gt.next)&&!(_t=_t.call(gt,xt[1])).done)return _t;switch(gt=0,_t&&(xt=[2&xt[0],_t.value]),xt[0]){case 0:case 1:_t=xt;break;case 4:return Mt.label++,{value:xt[1],done:!1};case 5:Mt.label++,gt=xt[1],xt=[0];continue;case 7:xt=Mt.ops.pop(),Mt.trys.pop();continue;default:if(!((_t=(_t=Mt.trys).length>0&&_t[_t.length-1])||6!==xt[0]&&2!==xt[0])){Mt=0;continue}if(3===xt[0]&&(!_t||xt[1]>_t[0]&&xt[1]<_t[3])){Mt.label=xt[1];break}if(6===xt[0]&&Mt.label<_t[1]){Mt.label=_t[1],_t=xt;break}if(_t&&Mt.label<_t[2]){Mt.label=_t[2],Mt.ops.push(xt);break}_t[2]&&Mt.ops.pop(),Mt.trys.pop();continue}xt=yt.call(tt,Mt)}catch(Yt){xt=[6,Yt],gt=0}finally{Et=_t=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([Ht,jt])}}}var et=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],nt={modelType:"short",runtime:"mediapipe",maxFaces:1},x=function(){function tt(yt){var Et=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new dt.FaceDetection({locateFile:function(gt,_t){return yt.solutionPath?yt.solutionPath.replace(/\/+$/,"")+"/"+gt:_t+"/"+gt}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:yt.modelType}),this.faceDetectorSolution.onResults(function(gt){if(Et.height=gt.image.height,Et.width=gt.image.width,Et.faces=[],null!==gt.detections)for(var _t=0,Nt=gt.detections;_t<Nt.length;_t++){var Mt=Nt[_t];Et.faces.push(Et.normalizedToAbsolute(Mt.landmarks,{xMin:Ht=($t=Mt.boundingBox).xCenter-$t.width/2,xMax:Ht+$t.width,yMin:jt=$t.yCenter-$t.height/2,yMax:jt+$t.height,width:$t.width,height:$t.height}))}var $t,Ht,jt})}return tt.prototype.normalizedToAbsolute=function(yt,Et){var gt=this;return{keypoints:yt.map(function(_t,Nt){return{x:_t.x*gt.width,y:_t.y*gt.height,name:et[Nt]}}),box:{xMin:Et.xMin*this.width,yMin:Et.yMin*this.height,xMax:Et.xMax*this.width,yMax:Et.yMax*this.height,width:Et.width*this.width,height:Et.height*this.height}}},tt.prototype.estimateFaces=function(yt,Et){return Wt(this,void 0,void 0,function(){var gt,_t;return G(this,function(Nt){switch(Nt.label){case 0:return Et&&Et.flipHorizontal&&Et.flipHorizontal!==this.selfieMode&&(this.selfieMode=Et.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),yt instanceof h.Tensor?(_t=ImageData.bind,[4,h.browser.toPixels(yt)]):[3,2];case 1:return gt=new(_t.apply(ImageData,[void 0,Nt.sent(),yt.shape[1],yt.shape[0]])),[3,3];case 2:gt=yt,Nt.label=3;case 3:return[4,this.faceDetectorSolution.send({image:yt=gt})];case 4:return Nt.sent(),[2,this.faces]}})})},tt.prototype.dispose=function(){this.faceDetectorSolution.close()},tt.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},tt.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},tt}();function N(tt){return Wt(this,void 0,void 0,function(){var yt,Et;return G(this,function(gt){switch(gt.label){case 0:return yt=function(_t){if(null==_t)return ht({},nt);var Nt=ht({},_t);return Nt.runtime="mediapipe",null==Nt.modelType&&(Nt.modelType=nt.modelType),null==Nt.maxFaces&&(Nt.maxFaces=nt.maxFaces),Nt}(tt),[4,(Et=new x(yt)).initialize()];case 1:return gt.sent(),[2,Et]}})})}function c(tt){return tt instanceof h.Tensor?{height:tt.shape[0],width:tt.shape[1]}:{height:tt.height,width:tt.width}}function R(tt){return tt instanceof h.Tensor?tt:h.browser.fromPixels(tt)}function H(tt,yt){h.util.assert(0!==tt.width,function(){return yt+" width cannot be 0."}),h.util.assert(0!==tt.height,function(){return yt+" height cannot be 0."})}function a(tt){null==tt.reduceBoxesInLowestLayer&&(tt.reduceBoxesInLowestLayer=!1),null==tt.interpolatedScaleAspectRatio&&(tt.interpolatedScaleAspectRatio=1),null==tt.fixedAnchorSize&&(tt.fixedAnchorSize=!1);for(var yt=[],Et=0;Et<tt.numLayers;){for(var gt=[],_t=[],Nt=[],Mt=[],$t=Et;$t<tt.strides.length&&tt.strides[$t]===tt.strides[Et];){var Ht=bt(tt.minScale,tt.maxScale,$t,tt.strides.length);if(0===$t&&tt.reduceBoxesInLowestLayer)Nt.push(1),Nt.push(2),Nt.push(.5),Mt.push(.1),Mt.push(Ht),Mt.push(Ht);else{for(var jt=0;jt<tt.aspectRatios.length;++jt)Nt.push(tt.aspectRatios[jt]),Mt.push(Ht);if(tt.interpolatedScaleAspectRatio>0){var xt=$t===tt.strides.length-1?1:bt(tt.minScale,tt.maxScale,$t+1,tt.strides.length);Mt.push(Math.sqrt(Ht*xt)),Nt.push(tt.interpolatedScaleAspectRatio)}}$t++}for(var Yt=0;Yt<Nt.length;++Yt){var qt=Math.sqrt(Nt[Yt]);gt.push(Mt[Yt]/qt),_t.push(Mt[Yt]*qt)}var oe=0,me=0;if(tt.featureMapHeight.length>0)oe=tt.featureMapHeight[Et],me=tt.featureMapWidth[Et];else{var De=tt.strides[Et];oe=Math.ceil(tt.inputSizeHeight/De),me=Math.ceil(tt.inputSizeWidth/De)}for(var xe=0;xe<oe;++xe)for(var Ee=0;Ee<me;++Ee)for(var Ne=0;Ne<gt.length;++Ne){var Ue={xCenter:(Ee+tt.anchorOffsetX)/me,yCenter:(xe+tt.anchorOffsetY)/oe,width:0,height:0};tt.fixedAnchorSize?(Ue.width=1,Ue.height=1):(Ue.width=_t[Ne],Ue.height=gt[Ne]),yt.push(Ue)}Et=$t}return yt}function bt(tt,yt,Et,gt){return 1===gt?.5*(tt+yt):tt+(yt-tt)*Et/(gt-1)}function q(tt,yt){var Et=yt[0],gt=yt[1];return[Et*tt[0]+gt*tt[1]+tt[3],Et*tt[4]+gt*tt[5]+tt[7]]}function it(tt,yt,Et,gt){return Wt(this,void 0,void 0,function(){var _t,Nt,Mt,$t,Ht;return G(this,function(jt){switch(jt.label){case 0:return tt.sort(function(xt,Yt){return Math.max.apply(Math,Yt.score)-Math.max.apply(Math,xt.score)}),_t=(0,h.tensor2d)(tt.map(function(xt){return[xt.locationData.relativeBoundingBox.yMin,xt.locationData.relativeBoundingBox.xMin,xt.locationData.relativeBoundingBox.yMax,xt.locationData.relativeBoundingBox.xMax]})),Nt=(0,h.tensor1d)(tt.map(function(xt){return xt.score[0]})),[4,h.image.nonMaxSuppressionAsync(_t,Nt,yt,Et)];case 1:return[4,(Mt=jt.sent()).array()];case 2:return $t=jt.sent(),Ht=tt.filter(function(xt,Yt){return $t.indexOf(Yt)>-1}),(0,h.dispose)([_t,Nt,Mt]),[2,Ht]}})})}function Dt(tt,yt,Et){return Wt(this,void 0,void 0,function(){var gt,Nt,Mt,$t;return G(this,function(Ht){switch(Ht.label){case 0:return gt=tt[0],jt=tt[1],xt=yt,Yt=Et,Nt=(0,h.tidy)(function(){var qt,oe,me,De;Yt.reverseOutputOrder?(oe=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+0],[-1,1])),qt=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+1],[-1,1])),De=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+2],[-1,1])),me=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+3],[-1,1]))):(qt=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+0],[-1,1])),oe=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+1],[-1,1])),me=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+2],[-1,1])),De=(0,h.squeeze)((0,h.slice)(jt,[0,Yt.boxCoordOffset+3],[-1,1]))),oe=(0,h.add)((0,h.mul)((0,h.div)(oe,Yt.xScale),xt.w),xt.x),qt=(0,h.add)((0,h.mul)((0,h.div)(qt,Yt.yScale),xt.h),xt.y),Yt.applyExponentialOnBoxSize?(me=(0,h.mul)((0,h.exp)((0,h.div)(me,Yt.hScale)),xt.h),De=(0,h.mul)((0,h.exp)((0,h.div)(De,Yt.wScale)),xt.w)):(me=(0,h.mul)((0,h.div)(me,Yt.hScale),xt.h),De=(0,h.mul)((0,h.div)(De,Yt.wScale),xt.h));var xe=(0,h.sub)(qt,(0,h.div)(me,2)),Ee=(0,h.sub)(oe,(0,h.div)(De,2)),Ne=(0,h.add)(qt,(0,h.div)(me,2)),Ue=(0,h.add)(oe,(0,h.div)(De,2)),te=(0,h.concat)([(0,h.reshape)(xe,[Yt.numBoxes,1]),(0,h.reshape)(Ee,[Yt.numBoxes,1]),(0,h.reshape)(Ne,[Yt.numBoxes,1]),(0,h.reshape)(Ue,[Yt.numBoxes,1])],1);if(Yt.numKeypoints)for(var ge=0;ge<Yt.numKeypoints;++ge){var Ae=Yt.keypointCoordOffset+ge*Yt.numValuesPerKeypoint,Me=void 0,yn=void 0;Yt.reverseOutputOrder?(Me=(0,h.squeeze)((0,h.slice)(jt,[0,Ae],[-1,1])),yn=(0,h.squeeze)((0,h.slice)(jt,[0,Ae+1],[-1,1]))):(yn=(0,h.squeeze)((0,h.slice)(jt,[0,Ae],[-1,1])),Me=(0,h.squeeze)((0,h.slice)(jt,[0,Ae+1],[-1,1])));var We=(0,h.add)((0,h.mul)((0,h.div)(Me,Yt.xScale),xt.w),xt.x),Le=(0,h.add)((0,h.mul)((0,h.div)(yn,Yt.yScale),xt.h),xt.y);te=(0,h.concat)([te,(0,h.reshape)(We,[Yt.numBoxes,1]),(0,h.reshape)(Le,[Yt.numBoxes,1])],1)}return te}),Mt=(0,h.tidy)(function(){var jt=gt;return Et.sigmoidScore?(null!=Et.scoreClippingThresh&&(jt=(0,h.clipByValue)(gt,-Et.scoreClippingThresh,Et.scoreClippingThresh)),jt=(0,h.sigmoid)(jt)):jt}),[4,At(Nt,Mt,Et)];case 1:return $t=Ht.sent(),(0,h.dispose)([Nt,Mt]),[2,$t]}var jt,xt,Yt})})}function At(tt,yt,Et){return Wt(this,void 0,void 0,function(){var gt,_t,Nt,Mt,$t,Ht,jt,xt,Yt,qt,oe;return G(this,function(De){switch(De.label){case 0:return gt=[],[4,tt.data()];case 1:return _t=De.sent(),[4,yt.data()];case 2:for(Nt=De.sent(),Mt=0;Mt<Et.numBoxes;++Mt)if(!(null!=Et.minScoreThresh&&Nt[Mt]<Et.minScoreThresh||($t=Mt*Et.numCoords,Ht=kt(_t[$t+0],_t[$t+1],_t[$t+2],_t[$t+3],Nt[Mt],Et.flipVertically,Mt),(jt=Ht.locationData.relativeBoundingBox).width<0||jt.height<0))){if(Et.numKeypoints>0)for((xt=Ht.locationData).relativeKeypoints=[],Yt=Et.numKeypoints*Et.numValuesPerKeypoint,qt=0;qt<Yt;qt+=Et.numValuesPerKeypoint)xt.relativeKeypoints.push({x:_t[(oe=$t+Et.keypointCoordOffset+qt)+0],y:Et.flipVertically?1-_t[oe+1]:_t[oe+1]});gt.push(Ht)}return[2,gt]}})})}function kt(tt,yt,Et,gt,_t,Nt,Mt){return{score:[_t],ind:Mt,locationData:{relativeBoundingBox:{xMin:yt,yMin:Nt?1-Et:tt,xMax:gt,yMax:Nt?1-tt:Et,width:gt-yt,height:Et-tt}}}}var Qt,ce={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},ie={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Pe={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},ae={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},ke={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},Se={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},on={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},_n=function(){function tt(yt,Et,gt){this.detectorModel=Et,this.maxFaces=gt,"full"===yt?(this.imageToTensorConfig=on,this.tensorsToDetectionConfig=ke,this.anchors=a(ie)):(this.imageToTensorConfig=Se,this.tensorsToDetectionConfig=ae,this.anchors=a(ce));var _t=(0,h.tensor1d)(this.anchors.map(function(Ht){return Ht.width})),Nt=(0,h.tensor1d)(this.anchors.map(function(Ht){return Ht.height})),Mt=(0,h.tensor1d)(this.anchors.map(function(Ht){return Ht.xCenter})),$t=(0,h.tensor1d)(this.anchors.map(function(Ht){return Ht.yCenter}));this.anchorTensor={x:Mt,y:$t,w:_t,h:Nt}}return tt.prototype.dispose=function(){this.detectorModel.dispose(),(0,h.dispose)([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},tt.prototype.reset=function(){},tt.prototype.detectFaces=function(yt,Et){return void 0===Et&&(Et=!1),Wt(this,void 0,void 0,function(){var gt,_t,Nt,Mt,$t,Ht,jt,xt,Yt,qt,oe;return G(this,function(me){switch(me.label){case 0:return null==yt?(this.reset(),[2,[]]):(gt=(0,h.tidy)(function(){var De=(0,h.cast)(R(yt),"float32");return Et&&(De=(0,h.squeeze)(h.image.flipLeftRight((0,h.expandDims)(De,0)),[0])),De}),_t=function ut(tt,yt,Et){var qt,oe,gt=yt.outputTensorSize,_t=yt.keepAspectRatio,Nt=yt.borderMode,Mt=yt.outputTensorFloatRange,$t=c(tt),Ht=(qt=$t,(oe=Et)?{xCenter:oe.xCenter*qt.width,yCenter:oe.yCenter*qt.height,width:oe.width*qt.width,height:oe.height*qt.height,rotation:oe.rotation}:{xCenter:.5*qt.width,yCenter:.5*qt.height,width:qt.width,height:qt.height,rotation:0}),jt=function(qt,oe,me){if(void 0===me&&(me=!1),!me)return{top:0,left:0,right:0,bottom:0};var De=oe.height,xe=oe.width;H(oe,"targetSize"),H(qt,"roi");var Ee,Ne,Ue=De/xe,te=qt.height/qt.width,ge=0,Ae=0;return Ue>te?(Ee=qt.width,Ne=qt.width*Ue,Ae=(1-te/Ue)/2):(Ee=qt.height/Ue,Ne=qt.height,ge=(1-Ue/te)/2),qt.width=Ee,qt.height=Ne,{top:Ae,left:ge,right:ge,bottom:Ae}}(Ht,gt,_t),xt=function(qt,oe,me,De){var xe=qt.width,Ee=qt.height,Ue=Math.cos(qt.rotation),te=Math.sin(qt.rotation),ge=qt.xCenter,Ae=qt.yCenter,Me=1/oe,yn=1/me,We=new Array(16);return We[0]=xe*Ue*1*Me,We[1]=-Ee*te*Me,We[2]=0,We[3]=(-.5*xe*Ue*1+.5*Ee*te+ge)*Me,We[4]=xe*te*1*yn,We[5]=Ee*Ue*yn,We[6]=0,We[7]=(-.5*Ee*Ue-.5*xe*te*1+Ae)*yn,We[8]=0,We[9]=0,We[10]=xe*Me,We[11]=0,We[12]=0,We[13]=0,We[14]=0,We[15]=1,function(Le){if(16!==Le.length)throw new Error("Array length must be 16 but got "+Le.length);return[[Le[0],Le[1],Le[2],Le[3]],[Le[4],Le[5],Le[6],Le[7]],[Le[8],Le[9],Le[10],Le[11]],[Le[12],Le[13],Le[14],Le[15]]]}(We)}(Ht,$t.width,$t.height),Yt=(0,h.tidy)(function(){var xe,Ee,Ne,qt=R(tt),oe=(0,h.tensor2d)((xe=xt,Ee=$t,H(Ne=gt,"inputResolution"),[1/Ne.width*xe[0][0]*Ee.width,1/Ne.height*xe[0][1]*Ee.width,xe[0][3]*Ee.width,1/Ne.width*xe[1][0]*Ee.height,1/Ne.height*xe[1][1]*Ee.height,xe[1][3]*Ee.height,0,0]),[1,8]),me="zero"===Nt?"constant":"nearest",De=h.image.transform((0,h.expandDims)((0,h.cast)(qt,"float32")),oe,"bilinear",me,0,[gt.height,gt.width]);return null!=Mt?function(xe,Ee){var ge,Me,Ne={scale:Me=(Ee[1]-(ge=Ee[0]))/255,offset:ge-0*Me};return(0,h.tidy)(function(){return(0,h.add)((0,h.mul)(xe,Ne.scale),Ne.offset)})}(De,Mt):De});return{imageTensor:Yt,padding:jt,transformationMatrix:xt}}(gt,this.imageToTensorConfig),Mt=_t.transformationMatrix,$t=this.detectorModel.execute(Nt=_t.imageTensor,"Identity:0"),De=$t,Ht=(0,h.tidy)(function(){var Ue,xe=(Ue=De,(0,h.tidy)(function(){return[(0,h.slice)(Ue,[0,0,0],[1,-1,1]),(0,h.slice)(Ue,[0,0,1],[1,-1,-1])]})),Ee=xe[0];return{boxes:(0,h.squeeze)(xe[1]),logits:(0,h.squeeze)(Ee)}}),[4,Dt([xt=Ht.logits,jt=Ht.boxes],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return 0===(Yt=me.sent()).length?((0,h.dispose)([gt,Nt,$t,xt,jt]),[2,Yt]):[4,it(Yt,this.maxFaces,.3)];case 2:return qt=me.sent(),oe=function(De,xe){void 0===De&&(De=[]);var Ne=[].concat.apply([],xe);return De.forEach(function(Ue){var te=Ue.locationData;te.relativeKeypoints.forEach(function(Le){var Nn=q(Ne,[Le.x,Le.y]),ir=Nn[1];Le.x=Nn[0],Le.y=ir});var ge=te.relativeBoundingBox,Ae=Number.MAX_VALUE,Me=Number.MAX_VALUE,yn=Number.MIN_VALUE,We=Number.MIN_VALUE;[[ge.xMin,ge.yMin],[ge.xMin+ge.width,ge.yMin],[ge.xMin+ge.width,ge.yMin+ge.height],[ge.xMin,ge.yMin+ge.height]].forEach(function(Le){var Nn=q(Ne,Le),wn=Nn[0],ir=Nn[1];Ae=Math.min(Ae,wn),yn=Math.max(yn,wn),Me=Math.min(Me,ir),We=Math.max(We,ir)}),te.relativeBoundingBox={xMin:Ae,xMax:yn,yMin:Me,yMax:We,width:yn-Ae,height:We-Me}}),De}(qt,Mt),(0,h.dispose)([gt,Nt,$t,xt,jt]),[2,oe]}var De})})},tt.prototype.estimateFaces=function(yt,Et){return Wt(this,void 0,void 0,function(){var gt;return G(this,function(Nt){return gt=c(yt),[2,this.detectFaces(yt,!!Et&&Et.flipHorizontal).then(function(Mt){return Mt.map(function($t){for(var Ht=$t.locationData.relativeKeypoints.map(function(me,De){return ht(ht({},me),{x:me.x*gt.width,y:me.y*gt.height,name:et[De]})}),jt=$t.locationData.relativeBoundingBox,xt=0,Yt=["width","xMax","xMin"];xt<Yt.length;xt++)jt[Yt[xt]]*=gt.width;for(var qt=0,oe=["height","yMax","yMin"];qt<oe.length;qt++)jt[oe[qt]]*=gt.height;return{keypoints:Ht,box:jt}})})]})})},tt}();function vn(tt){return Wt(this,void 0,void 0,function(){var yt,Et,gt;return G(this,function(_t){switch(_t.label){case 0:return yt=function(Nt){if(null==Nt)return ht({},Pe);var Mt=ht({},Nt);return null==Mt.modelType&&(Mt.modelType=Pe.modelType),null==Mt.maxFaces&&(Mt.maxFaces=Pe.maxFaces),null==Mt.detectorModelUrl&&(Mt.detectorModelUrl="full"===Mt.modelType?"https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),Mt}(tt),Et="string"==typeof yt.detectorModelUrl&&yt.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,(0,M.YL)(yt.detectorModelUrl,{fromTFHub:Et})];case 1:return gt=_t.sent(),[2,new _n(yt.modelType,gt,yt.maxFaces)]}})})}function An(tt,yt){return Wt(this,void 0,void 0,function(){var Et,gt;return G(this,function(_t){if(tt===Qt.MediaPipeFaceDetector){if(gt=void 0,null!=(Et=yt)){if("tfjs"===Et.runtime)return[2,vn(Et)];if("mediapipe"===Et.runtime)return[2,N(Et)];gt=Et.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+gt)}throw new Error(tt+" is not a supported model name.")})})}function Je(tt){return tt.width*tt.height}function ct(tt){var yt=tt.xCenter-tt.width/2,gt=tt.yCenter-tt.height/2;return{xMin:yt,xMax:yt+tt.width,yMin:gt,yMax:gt+tt.height,width:tt.width,height:tt.height}}function de(tt){return tt instanceof h.Tensor?{height:tt.shape[0],width:tt.shape[1]}:{height:tt.height,width:tt.width}}function Ve(tt){return tt-2*Math.PI*Math.floor((tt+Math.PI)/(2*Math.PI))}function rn(tt){return tt instanceof h.Tensor?tt:h.browser.fromPixels(tt)}function qe(tt,yt){h.util.assert(0!==tt.width,function(){return yt+" width cannot be 0."}),h.util.assert(0!==tt.height,function(){return yt+" height cannot be 0."})}function tr(tt){return{xCenter:tt.xMin+tt.width/2,yCenter:tt.yMin+tt.height/2,width:tt.width,height:tt.height}}function hr(tt){var yt=tt.relativeKeypoints;if(yt.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var Et=Number.MAX_VALUE,gt=Number.MAX_VALUE,_t=Number.MIN_VALUE,Nt=Number.MIN_VALUE;return yt.forEach(function(Mt){Et=Math.min(Et,Mt.x),_t=Math.max(_t,Mt.x),gt=Math.min(gt,Mt.y),Nt=Math.max(Nt,Mt.y)}),{xCenter:(Et+_t)/2,yCenter:(gt+Nt)/2,width:_t-Et,height:Nt-gt}}function zn(tt,yt,Et,gt,_t){var Ht,Nt="rect"===Et?function(Mt,$t,Ht){var jt,xt=Mt.locationData;if("boundingbox"===$t)jt=tr(xt.boundingBox);else{jt=hr(xt);var Yt=Ht.width,qt=Ht.height;jt.xCenter=Math.round(jt.xCenter*Yt),jt.yCenter=Math.round(jt.yCenter*qt),jt.width=Math.round(jt.width*Yt),jt.height=Math.round(jt.height*qt)}return jt}(tt,yt,gt):(Ht=tt.locationData,"boundingbox"===yt?tr(Ht.relativeBoundingBox):hr(Ht));return _t&&(Nt.rotation=function(Mt,$t,Ht){var xt=Mt.locationData,Yt=Ht.rotationVectorStartKeypointIndex,qt=Ht.rotationVectorEndKeypointIndex;return Ve((Ht.rotationVectorTargetAngle?Ht.rotationVectorTargetAngle:Math.PI*Ht.rotationVectorTargetAngleDegree/180)-Math.atan2(-(xt.relativeKeypoints[qt].y*$t.height-xt.relativeKeypoints[Yt].y*$t.height),xt.relativeKeypoints[qt].x*$t.width-xt.relativeKeypoints[Yt].x*$t.width))}(tt,gt,_t)),Nt}function jn(tt,yt,Et){for(var gt=0;gt<yt.length;++gt){var _t=yt[gt],Nt=Et[tt[gt]];Nt.x=_t.x,Nt.y=_t.y}}function xn(tt,yt,Et,gt){if("string"==typeof yt){if("copy"===yt)for(var _t=0;_t<Et.length;++_t)gt[tt[_t]].z=Et[_t].z}else{var Nt=function(Mt,$t){for(var Ht=0,jt=0;jt<$t.length;++jt)Ht+=Mt[$t[jt]].z;return Ht/$t.length}(gt,yt);for(_t=0;_t<tt.length;++_t)gt[tt[_t]].z=Nt}}function Nr(tt,yt){for(var Et=function($t){var Ht=[].concat.apply([],$t.map(function(oe){return oe.indexesMapping}));if(0===Ht.length)throw new Error("There should be at least one landmark in indexes mapping");var jt=Ht[0],xt=Ht[0],Yt=new Set(Ht);Yt.forEach(function(oe){jt=Math.min(jt,oe),xt=Math.max(xt,oe)});var qt=Yt.size;if(0!==jt)throw new Error("Indexes are expected to start with 0 instead of "+jt);if(xt+1!==qt)throw new Error("Indexes should have no gaps but "+(xt-qt+1)+" indexes are missing");return qt}(yt),gt=new Array(Et).fill(null).map(Object),_t=0;_t<tt.length;++_t){var Nt=tt[_t],Mt=yt[_t];if(Nt.length!==Mt.indexesMapping.length)throw new Error("There are "+Nt.length+" refinement landmarks while mapping has "+Mt.indexesMapping.length);jn(Mt.indexesMapping,Nt,gt),xn(Mt.indexesMapping,Mt.zRefinement,Nt,gt)}return gt}function Br(tt,yt){return tt.map(function(Et){var gt=O(O({},Et),{x:Et.x*yt.width,y:Et.y*yt.height});return null!=Et.z&&(gt.z=Et.z*yt.width),gt})}function xr(tt,yt){return"none"===tt?yt:1/(1+Math.exp(-yt))}function Pn(tt,yt,Et,gt){return E(this,void 0,void 0,function(){var Nt,Mt,$t,Ht,jt,xt,Yt;return v(this,function(qt){switch(qt.label){case 0:return Et=Et||yt.flipHorizontally||!1,gt=gt||yt.flipVertically||!1,Nt=tt.size/yt.numLandmarks,[4,tt.data()];case 1:for(Mt=qt.sent(),$t=[],Ht=0;Ht<yt.numLandmarks;++Ht)jt=Ht*Nt,(Yt={x:0,y:0}).x=Et?yt.inputImageWidth-Mt[jt]:Mt[jt],Nt>1&&(Yt.y=gt?yt.inputImageHeight-Mt[jt+1]:Mt[jt+1]),Nt>2&&(Yt.z=Mt[jt+2]),Nt>3&&(Yt.score=xr(yt.visibilityActivation,Mt[jt+3])),$t.push(Yt);for(xt=0;xt<$t.length;++xt)(Yt=$t[xt]).x=Yt.x/yt.inputImageWidth,Yt.y=Yt.y/yt.inputImageHeight,Yt.z=Yt.z/yt.inputImageWidth/(yt.normalizeZ||1);return[2,$t]}})})}function Gn(tt,yt,Et){var xt,Yt,gt=tt.width,_t=tt.height,Nt=tt.rotation;if(null==Et.rotation&&null==Et.rotationDegree||(xt=Nt,null!=(Yt=Et).rotation?xt+=Yt.rotation:null!=Yt.rotationDegree&&(xt+=Math.PI*Yt.rotationDegree/180),Nt=Ve(xt)),0===Nt)tt.xCenter=tt.xCenter+gt*Et.shiftX,tt.yCenter=tt.yCenter+_t*Et.shiftY;else{var Mt=(yt.width*gt*Et.shiftX*Math.cos(Nt)-yt.height*_t*Et.shiftY*Math.sin(Nt))/yt.width,$t=(yt.width*gt*Et.shiftX*Math.sin(Nt)+yt.height*_t*Et.shiftY*Math.cos(Nt))/yt.height;tt.xCenter=tt.xCenter+Mt,tt.yCenter=tt.yCenter+$t}if(Et.squareLong){var Ht=Math.max(gt*yt.width,_t*yt.height);gt=Ht/yt.width,_t=Ht/yt.height}else if(Et.squareShort){var jt=Math.min(gt*yt.width,_t*yt.height);gt=jt/yt.width,_t=jt/yt.height}return tt.width=gt*Et.scaleX,tt.height=_t*Et.scaleY,tt}(Qt||(Qt={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var Mn,Yn={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},fr={flipHorizontal:!1,staticImageMode:!1},On={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},dr={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},Ar={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},fn={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},pr={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},pt={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},er={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},Qn={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},Ye={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},$r={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},bn={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},Ur={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},tn=function(){function tt(yt,Et,gt,_t){this.detector=yt,this.landmarkModel=Et,this.maxFaces=gt,this.withAttention=_t,this.prevFaceRectsFromLandmarks=null}return tt.prototype.estimateFaces=function(yt,Et){return E(this,void 0,void 0,function(){var gt,_t,Nt,Mt,$t,Ht,xt,Yt,qt,oe,me,De,xe=this;return v(this,function(Ee){switch(Ee.label){case 0:return gt=function(te){if(null==te)return O({},fr);var ge=O({},te);return null==ge.flipHorizontal&&(ge.flipHorizontal=fr.flipHorizontal),null==ge.staticImageMode&&(ge.staticImageMode=fr.staticImageMode),ge}(Et),null==yt?(this.reset(),[2,[]]):(_t=de(yt),Nt=h.tidy(function(){var te=h.cast(rn(yt),"float32");return gt.flipHorizontal&&(te=h.squeeze(h.image.flipLeftRight(h.expandDims(te,0)),[0])),te}),Mt=this.prevFaceRectsFromLandmarks,gt.staticImageMode||null==Mt||Mt.length<this.maxFaces?[4,this.detector.detectFaces(Nt,!1)]:[3,2]);case 1:return 0===(Ht=Ee.sent()).length?(this.reset(),Nt.dispose(),[2,[]]):($t=Ht.map(function(te){return xe.faceDetectionFrontDetectionToRoi(te,_t)}),[3,3]);case 2:$t=[],Ee.label=3;case 3:return Ue=[],[$t,Mt||[]].forEach(function(te){return te.forEach(function(ge){(Ue=Ue.filter(function(Ae){return function Bt(tt,yt){var Mt,$t,Et=ct(tt),gt=ct(yt);if((Mt=Et).xMax<($t=gt).xMin||$t.xMax<Mt.xMin||Mt.yMax<$t.yMin||$t.yMax<Mt.yMin)return 0;var _t=Je(function(Mt,$t){var Ht=Math.max(Mt.xMin,$t.xMin),jt=Math.min(Mt.xMax,$t.xMax),xt=Math.max(Mt.yMin,$t.yMin),Yt=Math.min(Mt.yMax,$t.yMax);return{xMin:Ht,xMax:jt,yMin:xt,yMax:Yt,width:Math.max(jt-Ht,0),height:Math.max(Yt-xt,0)}}(Et,gt)),Nt=Je(Et)+Je(gt)-_t;return Nt>0?_t/Nt:0}(ge,Ae)<=.5})).push(ge)})}),[4,Promise.all(Ue.map(function(te){return xe.faceLandmark(te,Nt)}))];case 4:for(xt=Ee.sent(),Yt=[],this.prevFaceRectsFromLandmarks=[],qt=0;qt<xt.length;++qt)null!=(oe=xt[qt])&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(oe,_t)),null!=(me=Br(oe,_t))&&me.forEach(function(te,ge){var Ae=g.get(ge);null!=Ae&&(te.name=Ae)}),De=S(me),Yt.push({keypoints:me,box:De.locationData.relativeBoundingBox}));return Nt.dispose(),[2,Yt]}var Ue})})},tt.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},tt.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},tt.prototype.faceDetectionFrontDetectionToRoi=function(yt,Et){return Gn(zn(yt,"boundingbox","normRect",Et,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),Et,On)},tt.prototype.faceLandmark=function(yt,Et){return E(this,void 0,void 0,function(){var gt,_t,Nt,Mt,$t,Ht,jt;return v(this,function(xt){switch(xt.label){case 0:return gt=function Kn(tt,yt,Et){var qt,oe,gt=yt.outputTensorSize,_t=yt.keepAspectRatio,Nt=yt.borderMode,Mt=yt.outputTensorFloatRange,$t=de(tt),Ht=(qt=$t,(oe=Et)?{xCenter:oe.xCenter*qt.width,yCenter:oe.yCenter*qt.height,width:oe.width*qt.width,height:oe.height*qt.height,rotation:oe.rotation}:{xCenter:.5*qt.width,yCenter:.5*qt.height,width:qt.width,height:qt.height,rotation:0}),jt=function(qt,oe,me){if(void 0===me&&(me=!1),!me)return{top:0,left:0,right:0,bottom:0};var De=oe.height,xe=oe.width;qe(oe,"targetSize"),qe(qt,"roi");var Ee,Ne,Ue=De/xe,te=qt.height/qt.width,ge=0,Ae=0;return Ue>te?(Ee=qt.width,Ne=qt.width*Ue,Ae=(1-te/Ue)/2):(Ee=qt.height/Ue,Ne=qt.height,ge=(1-Ue/te)/2),qt.width=Ee,qt.height=Ne,{top:Ae,left:ge,right:ge,bottom:Ae}}(Ht,gt,_t),xt=function zt(tt,yt,Et,gt){var _t=tt.width,Nt=tt.height,Mt=gt?-1:1,$t=Math.cos(tt.rotation),Ht=Math.sin(tt.rotation),jt=tt.xCenter,xt=tt.yCenter,Yt=1/yt,qt=1/Et,oe=new Array(16);return oe[0]=_t*$t*Mt*Yt,oe[1]=-Nt*Ht*Yt,oe[2]=0,oe[3]=(-.5*_t*$t*Mt+.5*Nt*Ht+jt)*Yt,oe[4]=_t*Ht*Mt*qt,oe[5]=Nt*$t*qt,oe[6]=0,oe[7]=(-.5*Nt*$t-.5*_t*Ht*Mt+xt)*qt,oe[8]=0,oe[9]=0,oe[10]=_t*Yt,oe[11]=0,oe[12]=0,oe[13]=0,oe[14]=0,oe[15]=1,function(me){if(16!==me.length)throw new Error("Array length must be 16 but got "+me.length);return[[me[0],me[1],me[2],me[3]],[me[4],me[5],me[6],me[7]],[me[8],me[9],me[10],me[11]],[me[12],me[13],me[14],me[15]]]}(oe)}(Ht,$t.width,$t.height,!1),Yt=h.tidy(function(){var xe,Ee,Ne,qt=rn(tt),oe=h.tensor2d((xe=xt,Ee=$t,qe(Ne=gt,"inputResolution"),[1/Ne.width*xe[0][0]*Ee.width,1/Ne.height*xe[0][1]*Ee.width,xe[0][3]*Ee.width,1/Ne.width*xe[1][0]*Ee.height,1/Ne.height*xe[1][1]*Ee.height,xe[1][3]*Ee.height,0,0]),[1,8]),me="zero"===Nt?"constant":"nearest",De=h.image.transform(h.expandDims(h.cast(qt,"float32")),oe,"bilinear",me,0,[gt.height,gt.width]);return null!=Mt?function un(tt,yt){var Nt,jt,Et={scale:jt=(yt[1]-(Nt=yt[0]))/255,offset:Nt-0*jt};return h.tidy(function(){return h.add(h.mul(tt,Et.scale),Et.offset)})}(De,Mt):De});return{imageTensor:Yt,padding:jt,transformationMatrix:xt}}(Et,dr,yt).imageTensor,_t=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),Nt=this.landmarkModel.execute(gt,_t),Mt=Nt[0],$t=Nt.slice(1),[4,Mt.data()];case 1:return xt.sent()[0]<.5?(h.dispose(Nt),h.dispose(gt),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention($t)]:[3,3];case 2:return Ht=xt.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks($t)];case 4:Ht=xt.sent(),xt.label=5;case 5:return jt=function(Yt,qt,oe){void 0===oe&&(oe={ignoreRotation:!1});for(var me=[],De=0,xe=Yt;De<xe.length;De++){var Ee=xe[De],Ne=Ee.x-.5,Ue=Ee.y-.5,te=oe.ignoreRotation?0:qt.rotation,ge=Math.cos(te)*Ne-Math.sin(te)*Ue,Ae=Math.sin(te)*Ne+Math.cos(te)*Ue;ge=ge*qt.width+qt.xCenter,Ae=Ae*qt.height+qt.yCenter;var Me=Ee.z*qt.width,yn=O({},Ee);yn.x=ge,yn.y=Ae,yn.z=Me,me.push(yn)}return me}(Ht,yt),h.dispose(Nt),h.dispose(gt),[2,jt]}})})},tt.prototype.tensorsToFaceLandmarks=function(yt){return E(this,void 0,void 0,function(){return v(this,function(Et){return[2,Pn(yt[0],Ar)]})})},tt.prototype.tensorsToFaceLandmarksWithAttention=function(yt){return E(this,void 0,void 0,function(){var Et,gt,_t,Nt,Mt,$t;return v(this,function(Ht){switch(Ht.label){case 0:return[4,Pn(yt[0],Ar)];case 1:return Et=Ht.sent(),[4,Pn(yt[1],fn)];case 2:return gt=Ht.sent(),[4,Pn(yt[3],pr)];case 3:return _t=Ht.sent(),[4,Pn(yt[5],pr)];case 4:return Nt=Ht.sent(),[4,Pn(yt[4],pt)];case 5:return Mt=Ht.sent(),[4,Pn(yt[2],pt)];case 6:return $t=Ht.sent(),[2,Nr([Et,gt,_t,Nt,Mt,$t],[er,Qn,Ye,$r,bn,Ur])]}})})},tt.prototype.faceLandmarksToRoi=function(yt,Et){return Gn(zn(S(yt),"boundingbox","normRect",Et,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),Et,On)},tt}();function mr(tt){return E(this,void 0,void 0,function(){var yt,Et,gt,_t;return v(this,function(Nt){switch(Nt.label){case 0:return yt=function(Mt){if(null==Mt)return O({},Yn);var $t=O({},Mt);return $t.runtime="tfjs",null==$t.maxFaces&&($t.maxFaces=Yn.maxFaces),null==$t.refineLandmarks&&($t.refineLandmarks=Yn.refineLandmarks),null==$t.landmarkModelUrl&&($t.landmarkModelUrl=$t.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),$t}(tt),Et="string"==typeof yt.landmarkModelUrl&&yt.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,M.YL(yt.landmarkModelUrl,{fromTFHub:Et})];case 1:return gt=Nt.sent(),[4,An(Qt.MediaPipeFaceDetector,{modelType:"short",maxFaces:yt.maxFaces,detectorModelUrl:yt.detectorModelUrl,runtime:yt.runtime})];case 2:return _t=Nt.sent(),[2,new tn(_t,gt,yt.maxFaces,yt.refineLandmarks)]}})})}(Mn||(Mn={})).MediaPipeFaceMesh="MediaPipeFaceMesh",Object.freeze({__proto__:null,getKeypointIndexByContour:function(tt){if(tt===Mn.MediaPipeFaceMesh)return s;throw new Error("Model "+tt+" is not supported.")},getAdjacentPairs:function(tt){if(tt===Mn.MediaPipeFaceMesh)return d;throw new Error("Model "+tt+" is not supported.")}});var gr=t(6689);let Wr=(()=>{var tt;class yt{constructor(){}loadModel(){return(0,b.Z)(function*(){return yield function Sn(tt,yt){return E(this,void 0,void 0,function(){var Et,gt;return v(this,function(_t){if(tt===Mn.MediaPipeFaceMesh){if(gt=void 0,null!=(Et=yt)){if("tfjs"===Et.runtime)return[2,mr(Et)];if("mediapipe"===Et.runtime)return[2,Y(Et)];gt=Et.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+gt)}throw new Error(tt+" is not a supported model name.")})})}(Mn.MediaPipeFaceMesh,{runtime:"tfjs",refineLandmarks:!0,maxFaces:1})})()}}return(tt=yt).\u0275fac=function(gt){return new(gt||tt)},tt.\u0275prov=gr.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),yt})()},7926:(vt,L,t)=>{"use strict";t.d(L,{YL:()=>$e,gJ:()=>en});var b={};t.r(b),t.d(b,{json:()=>ie});var B={};t.r(B),t.d(B,{json:()=>Pe});var h={};t.r(h),t.d(h,{json:()=>ae});var M={};t.r(M),t.d(M,{json:()=>ke});var O={};t.r(O),t.d(O,{json:()=>Se});var E={};t.r(E),t.d(E,{json:()=>on});var v={};t.r(v),t.d(v,{json:()=>_n});var f={};t.r(f),t.d(f,{json:()=>vn});var s={};t.r(s),t.d(s,{json:()=>An});var d={};t.r(d),t.d(d,{json:()=>Je});var m={};t.r(m),t.d(m,{json:()=>ct});var g={};t.r(g),t.d(g,{json:()=>Bt});var S={};t.r(S),t.d(S,{json:()=>zt});var j={};t.r(j),t.d(j,{json:()=>de});var $={};t.r($),t.d($,{json:()=>Ve});var Y={};t.r(Y),t.d(Y,{json:()=>rn});var Q={};t.r(Q),t.d(Q,{json:()=>qe});var dt={};t.r(dt),t.d(dt,{json:()=>un});var ht={};t.r(ht),t.d(ht,{json:()=>Kn});var Wt={};t.r(Wt),t.d(Wt,{OP_SCOPE_SUFFIX:()=>pt.zvA,abs:()=>pt.WnP,acos:()=>pt.Khb,acosh:()=>pt.__u,add:()=>pt.IHx,addN:()=>pt.QBD,all:()=>pt.$6P,any:()=>pt.YjB,argMax:()=>pt.NqF,argMin:()=>pt.vHJ,asin:()=>pt.ZRM,asinh:()=>pt.VfV,atan:()=>pt.z4N,atan2:()=>pt.fvJ,atanh:()=>pt.C80,avgPool:()=>pt.wS1,avgPool3d:()=>pt.uR5,basicLSTMCell:()=>pt.zEQ,batchNorm:()=>pt.tgs,batchNorm2d:()=>pt.Dxk,batchNorm3d:()=>pt.JY5,batchNorm4d:()=>pt.p3b,batchToSpaceND:()=>pt.E4h,bincount:()=>pt.yE8,bitwiseAnd:()=>pt.ycw,booleanMaskAsync:()=>pt.anm,broadcastArgs:()=>pt.XsQ,broadcastTo:()=>pt.UFq,buffer:()=>pt.f3b,cast:()=>pt.pju,ceil:()=>pt.mDi,clipByValue:()=>pt.iUl,clone:()=>pt.d9v,complex:()=>pt.PYB,concat:()=>pt.zoF,concat1d:()=>pt.gME,concat2d:()=>pt.Izb,concat3d:()=>pt.MNy,concat4d:()=>pt.ZaL,conv1d:()=>pt.PAt,conv2d:()=>pt.Tek,conv2dTranspose:()=>pt.bc,conv3d:()=>pt.pdZ,conv3dTranspose:()=>pt.$QV,cos:()=>pt.mCk,cosh:()=>pt.f9Y,cosineWindow:()=>pt.mew,cumprod:()=>pt.$Gn,cumsum:()=>pt.zbp,denseBincount:()=>pt.ppE,depthToSpace:()=>pt.nTT,depthwiseConv2d:()=>pt.B10,diag:()=>pt.Ka3,dilation2d:()=>pt.WmZ,div:()=>pt.hiC,divNoNan:()=>pt.NTj,dot:()=>pt.AKD,dropout:()=>pt.rvX,einsum:()=>pt.WYO,elu:()=>pt.pyx,enclosingPowerOfTwo:()=>pt.GRh,ensureShape:()=>pt.EDe,equal:()=>pt.DgJ,erf:()=>pt.qNN,euclideanNorm:()=>pt.d2q,exp:()=>pt.Qqt,expandDims:()=>pt.dt4,expm1:()=>pt.t$B,eye:()=>pt.iyy,fft:()=>pt.kp_,fill:()=>pt.hlL,floor:()=>pt.GWj,floorDiv:()=>pt.qPi,fused:()=>pt.imm,gather:()=>pt.Iqj,gatherND:()=>pt.dbB,greater:()=>pt.pjt,greaterEqual:()=>pt.brS,ifft:()=>pt.Sxn,imag:()=>pt.asL,image:()=>pt.BHj,inTopKAsync:()=>pt.V3u,irfft:()=>pt.wx0,isFinite:()=>pt.xVT,isInf:()=>pt.UWc,isNaN:()=>pt.i2d,leakyRelu:()=>pt.hi7,less:()=>pt.d9m,lessEqual:()=>pt.zN1,linalg:()=>pt.$r2,linspace:()=>pt.SX3,localResponseNormalization:()=>pt.G9k,log:()=>pt.cM7,log1p:()=>pt.Krr,logSigmoid:()=>pt.e_t,logSoftmax:()=>pt.CmS,logSumExp:()=>pt.l_t,logicalAnd:()=>pt.HvI,logicalNot:()=>pt.hJK,logicalOr:()=>pt.K5V,logicalXor:()=>pt.egP,losses:()=>pt.MB5,lowerBound:()=>pt.eab,matMul:()=>pt.OI3,max:()=>pt.Fp7,maxPool:()=>pt._sB,maxPool3d:()=>pt.YQQ,maxPoolWithArgmax:()=>pt.Ip$,maximum:()=>pt.gWQ,mean:()=>pt.J69,meshgrid:()=>pt.ry_,min:()=>pt.VV$,minimum:()=>pt.LTh,mirrorPad:()=>pt.VdP,mod:()=>pt.wQq,moments:()=>pt.Gi7,movingAverage:()=>pt.p_,mul:()=>pt.dC7,multiRNNCell:()=>pt.rq4,multinomial:()=>pt.SJ_,neg:()=>pt.W76,norm:()=>pt.KOy,notEqual:()=>pt.Quu,oneHot:()=>pt.lfX,ones:()=>pt.iUs,onesLike:()=>pt.JpU,op:()=>pt.op,outerProduct:()=>pt.N2O,pad:()=>pt.vku,pad1d:()=>pt.pNR,pad2d:()=>pt.koy,pad3d:()=>pt.t1L,pad4d:()=>pt.lGY,pool:()=>pt.d_R,pow:()=>pt.sQ3,prelu:()=>pt.AL3,print:()=>pt.S0v,prod:()=>pt.WVs,raggedGather:()=>pt.$gW,raggedRange:()=>pt.VT$,raggedTensorToTensor:()=>pt.N89,rand:()=>pt.TN_,randomGamma:()=>pt.wzB,randomNormal:()=>pt.nGf,randomStandardNormal:()=>pt.ruB,randomUniform:()=>pt.LGj,randomUniformInt:()=>pt.pe5,range:()=>pt.w6H,real:()=>pt.kwC,reciprocal:()=>pt.M25,relu:()=>pt.UYe,relu6:()=>pt.btT,reshape:()=>pt.XLQ,reverse:()=>pt.GYS,reverse1d:()=>pt.SDf,reverse2d:()=>pt.diP,reverse3d:()=>pt.sx7,reverse4d:()=>pt.mG2,rfft:()=>pt.QEs,round:()=>pt.NMM,rsqrt:()=>pt.bp0,scalar:()=>pt.iD$,scatterND:()=>pt.snQ,searchSorted:()=>pt.zcT,selu:()=>pt.U8D,separableConv2d:()=>pt.U_I,setdiff1dAsync:()=>pt.ODp,sigmoid:()=>pt.XD2,sign:()=>pt.Xxe,signal:()=>pt.tdS,sin:()=>pt.O$l,sinh:()=>pt.R_K,slice:()=>pt.tPi,slice1d:()=>pt.jZU,slice2d:()=>pt.SmN,slice3d:()=>pt.CnO,slice4d:()=>pt.p0P,softmax:()=>pt.XAC,softplus:()=>pt.Wvh,spaceToBatchND:()=>pt.fBT,sparse:()=>pt.rVs,sparseToDense:()=>pt.ers,spectral:()=>pt.uN7,split:()=>pt.Vl2,sqrt:()=>pt._b3,square:()=>pt.h62,squaredDifference:()=>pt.$i,squeeze:()=>pt.L9e,stack:()=>pt.knu,step:()=>pt.Nbs,stridedSlice:()=>pt.NXj,string:()=>pt.Z_8,sub:()=>pt.luU,sum:()=>pt.Smz,tan:()=>pt.ORZ,tanh:()=>pt.AEp,tensor:()=>pt.XeE,tensor1d:()=>pt.RRF,tensor2d:()=>pt.odF,tensor3d:()=>pt.wOQ,tensor4d:()=>pt.yXz,tensor5d:()=>pt.Bfx,tensor6d:()=>pt.xZs,tensorScatterUpdate:()=>pt.Pg0,tile:()=>pt.Gg6,topk:()=>pt.hg7,transpose:()=>pt.p4s,truncatedNormal:()=>pt.Xu6,unique:()=>pt.Two,unsortedSegmentSum:()=>pt.pUJ,unstack:()=>pt.HHK,upperBound:()=>pt.GaM,variable:()=>pt.VD$,where:()=>pt.arb,whereAsync:()=>pt.itS,zeros:()=>pt.lls,zerosLike:()=>pt.P84});var G=t(9075);(0,G.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,r=>{r&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var N,nt=t(5861),x=function(r){return r[r.DT_INVALID=0]="DT_INVALID",r[r.DT_FLOAT=1]="DT_FLOAT",r[r.DT_DOUBLE=2]="DT_DOUBLE",r[r.DT_INT32=3]="DT_INT32",r[r.DT_UINT8=4]="DT_UINT8",r[r.DT_INT16=5]="DT_INT16",r[r.DT_INT8=6]="DT_INT8",r[r.DT_STRING=7]="DT_STRING",r[r.DT_COMPLEX64=8]="DT_COMPLEX64",r[r.DT_INT64=9]="DT_INT64",r[r.DT_BOOL=10]="DT_BOOL",r[r.DT_QINT8=11]="DT_QINT8",r[r.DT_QUINT8=12]="DT_QUINT8",r[r.DT_QINT32=13]="DT_QINT32",r[r.DT_BFLOAT16=14]="DT_BFLOAT16",r[r.DT_QINT16=15]="DT_QINT16",r[r.DT_QUINT16=16]="DT_QUINT16",r[r.DT_UINT16=17]="DT_UINT16",r[r.DT_COMPLEX128=18]="DT_COMPLEX128",r[r.DT_HALF=19]="DT_HALF",r[r.DT_RESOURCE=20]="DT_RESOURCE",r[r.DT_VARIANT=21]="DT_VARIANT",r[r.DT_UINT32=22]="DT_UINT32",r[r.DT_UINT64=23]="DT_UINT64",r[r.DT_FLOAT_REF=101]="DT_FLOAT_REF",r[r.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",r[r.DT_INT32_REF=103]="DT_INT32_REF",r[r.DT_UINT8_REF=104]="DT_UINT8_REF",r[r.DT_INT16_REF=105]="DT_INT16_REF",r[r.DT_INT8_REF=106]="DT_INT8_REF",r[r.DT_STRING_REF=107]="DT_STRING_REF",r[r.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",r[r.DT_INT64_REF=109]="DT_INT64_REF",r[r.DT_BOOL_REF=110]="DT_BOOL_REF",r[r.DT_QINT8_REF=111]="DT_QINT8_REF",r[r.DT_QUINT8_REF=112]="DT_QUINT8_REF",r[r.DT_QINT32_REF=113]="DT_QINT32_REF",r[r.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",r[r.DT_QINT16_REF=115]="DT_QINT16_REF",r[r.DT_QUINT16_REF=116]="DT_QUINT16_REF",r[r.DT_UINT16_REF=117]="DT_UINT16_REF",r[r.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",r[r.DT_HALF_REF=119]="DT_HALF_REF",r[r.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",r[r.DT_VARIANT_REF=121]="DT_VARIANT_REF",r[r.DT_UINT32_REF=122]="DT_UINT32_REF",r[r.DT_UINT64_REF=123]="DT_UINT64_REF",r}(x||{});!function(r){let e;var n;(n=e=r.CheckpointFormatVersion||(r.CheckpointFormatVersion={}))[n.LEGACY=0]="LEGACY",n[n.V1=1]="V1",n[n.V2=2]="V2"}(N||(N={}));const c={};function H(r){return c[r]}function a(r,e,n,o,D){const P=e.inputParams[r];if(P&&void 0!==P.inputIndexStart){const K=P.inputIndexStart,ot=0===P.inputIndexEnd?void 0:void 0===P.inputIndexEnd?K+1:P.inputIndexEnd,Lt=K<0?e.inputNames.length+K:K;if("tensor"===P.type)return bt(e.inputNames[Lt],n,o,D);if("tensors"===P.type){const fe=e.inputs.slice(K,ot);return e.inputNames.slice(K,ot).filter((ze,Ge)=>{var ve;return"NoOp"!==(null===(ve=fe[Ge])||void 0===ve?void 0:ve.op)}).map(ze=>bt(ze,n,o,D))}const Zt=bt(e.inputNames[Lt],n,o,D),ue=Zt.dataSync();return"number"===P.type?ue[0]:G.util.toNestedArray(Zt.shape,ue)}const F=e.attrParams[r];return F&&F.value}function bt(r,e,n,o){const[D,P]=At(r,n);if(null!=o){const K=o.getHashTableHandleByName(D);if(null!=K)return K}const F=n.currentContextIds.find(K=>!!e[Dt(D,K)]);return void 0!==F?e[Dt(D,F)][P]:void 0}function q(r,e,n){return e[Dt(r,n.currentContextId)]}function it(r,e){const[n,o,D]=At(r,e);return[Dt(n,e&&e.currentContextId),o,D]}function Dt(r,e){return e?`${r}-${e}`:r}function At(r,e){if(""===r)return["",0,void 0];const n=null!=e&&null!=e.parseNodeNameCache;if(n){const P=e.parseNodeNameCache.get(r);if(null!=P)return P}const o=r.split(":");let D;if(1===o.length)D=[r,0,void 0];else{const F=3===o.length?o[1]:void 0;D=[o[0],Number(o[o.length-1]),F]}return n&&e.parseNodeNameCache.set(r,D),D}function Qt(r,e,n){let o=a("pad",r,e,n);if("explicit"===o){o=a("explicitPaddings",r,e,n);const D=[[0,0],[0,0],[0,0],[0,0]];for(let P=0;P<4;P++)D[P][0]=o[2*P],D[P][1]=o[2*P+1];return D}return o}function ce(r){return r.kept?r:(0,G.clone)(r)}const ie=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Pe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ae=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],ke=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Se=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],on=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],_n=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],vn=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],An=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Je=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],ct=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],Bt=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],zt=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],de=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Ve=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],rn=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],qe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],un=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Kn=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class tr{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const n=[].concat(...[b,B,h,M,O,E,v,f,s,d,m,g,S,j,$,Y,Q,dt,ht].map(o=>o.json));this.opMappers=n.reduce((o,D)=>(o[D.tfOpName]=D,o),{})}transformGraph(e,n={}){const D=[],P=[],F=[],K=e.node.reduce((Ge,ve)=>(Ge[ve.name]=this.mapNode(ve),ve.op.startsWith("Placeholder")?D.push(Ge[ve.name]):"Const"===ve.op?P.push(Ge[ve.name]):(null==ve.input||0===ve.input.length)&&F.push(Ge[ve.name]),Ge),{});let ot=[];const Lt=[];let Zt={},ue={};null!=n&&(Zt=this.mapSignatureEntries(n.inputs),ue=this.mapSignatureEntries(n.outputs));const fe=Object.keys(K);fe.forEach(Ge=>{const ve=K[Ge];ve.inputNames.forEach((nn,Dn)=>{const[Jn,,lr]=it(nn),pn=K[Jn];if(null!=pn.outputs){const ar=pn.outputs.indexOf(lr);-1!==ar&&(ve.inputNames[Dn]=`${Jn}:${ar}`)}ve.inputs.push(pn),pn.children.push(ve)})}),0===Object.keys(ue).length?fe.forEach(Ge=>{const ve=K[Ge];0===ve.children.length&&Lt.push(ve)}):Object.keys(ue).forEach(Ge=>{const[ve]=it(Ge),nn=K[ve];null!=nn&&(nn.signatureKey=ue[Ge],Lt.push(nn))}),Object.keys(Zt).length>0?Object.keys(Zt).forEach(Ge=>{const[ve]=it(Ge),nn=K[ve];nn&&(nn.signatureKey=Zt[Ge],ot.push(nn))}):ot=D;let be={};null!=e.library&&null!=e.library.function&&(be=e.library.function.reduce((Ge,ve)=>(Ge[ve.signature.name]=this.mapFunction(ve),Ge),{}));const ze={nodes:K,inputs:ot,outputs:Lt,weights:P,placeholders:D,signature:n,functions:be};return F.length>0&&(ze.initNodes=F),ze}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,o)=>(n[e[o].name]=o,n),{})}mapNode(e){const n=H(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const o={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(D=>D.startsWith("^")?D.slice(1):D),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return null!=n.inputs&&(o.inputParams=n.inputs.reduce((D,P)=>(D[P.name]={type:P.type,inputIndexStart:P.start,inputIndexEnd:P.end},D),{})),null!=n.attrs&&(o.attrParams=n.attrs.reduce((D,P)=>{const F=P.type;let K;switch(P.type){case"string":K=jn(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=jn(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"string[]":K=dr(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=dr(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"number":K=Nr(e.attr,P.tfName,P.defaultValue||0),void 0===K&&P.tfDeprecatedName&&(K=Nr(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"number[]":K=On(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=On(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"bool":K=xn(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=xn(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"bool[]":K=fn(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=fn(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"shape":K=fr(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=fr(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"shape[]":K=Ar(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=Ar(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"dtype":K=Pn(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=Pn(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"dtype[]":K=Gn(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=Gn(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"func":K=xr(e.attr,P.tfName,P.defaultValue),void 0===K&&P.tfDeprecatedName&&(K=xr(e.attr,P.tfDeprecatedName,P.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${P.type} for op: ${e.op}`)}return D[P.name]={value:K,type:F},D},{})),o}mapFunction(e){const n=e.nodeDef,D=[];let P={};null!=n&&(P=n.reduce((ue,fe)=>(ue[fe.name]=this.mapNode(fe),"Const"===fe.op&&D.push(ue[fe.name]),ue),{}));const F=[],K=[];e.signature.inputArg.forEach(ue=>{const[fe]=it(ue.name),be={name:fe,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Br(ue.type),type:"dtype"}},children:[]};be.signatureKey=ue.name,F.push(be),P[fe]=be}),Object.keys(P).forEach(ue=>{const fe=P[ue];fe.inputNames.forEach((be,ze)=>{const[Ge,,ve]=it(be),nn=P[Ge];if(null!=nn.outputs){const Dn=nn.outputs.indexOf(ve);-1!==Dn&&(fe.inputNames[ze]=`${Ge}:${Dn}`)}fe.inputs.push(nn),nn.children.push(fe)})});const Lt=e.ret;e.signature.outputArg.forEach(ue=>{const[fe,be]=it(Lt[ue.name]),ze=P[fe];null!=ze&&(ze.defaultOutput=be,K.push(ze))});const Zt=this.mapArgsToSignature(e);return{nodes:P,inputs:F,outputs:K,weights:D,placeholders:[],signature:Zt}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,o)=>(n[o.name]=this.mapArgToTensorInfo(o),n),{}),outputs:e.signature.outputArg.reduce((n,o)=>(n[o.name]=this.mapArgToTensorInfo(o,e.ret),n),{})}}mapArgToTensorInfo(e,n){let o=e.name;return null!=n&&(o=n[o]),{name:o,dtype:e.type}}}function zn(r,e){const n=Array.isArray(r)?String.fromCharCode.apply(null,r):function hr(r){const e=(0,G.env)().global;if(typeof e.atob<"u")return e.atob(r);if(typeof Buffer<"u")return new Buffer(r,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(r);return e?n:n.toLowerCase()}function jn(r,e,n,o=!1){const D=r[e];return null!=D?zn(D.s,o):n}function xn(r,e,n){const o=r[e];return o?o.b:n}function Nr(r,e,n){const o=r[e]||{},D=null!=o.i?o.i:null!=o.f?o.f:n;return"number"==typeof D?D:parseInt(D,10)}function Br(r){switch("string"==typeof r&&(r=x[r]),r){case x.DT_FLOAT:case x.DT_HALF:return"float32";case x.DT_INT32:case x.DT_INT64:case x.DT_INT8:case x.DT_UINT8:return"int32";case x.DT_BOOL:return"bool";case x.DT_DOUBLE:return"float32";case x.DT_STRING:return"string";default:return null}}function xr(r,e,n){const o=r[e];return o&&o.func?o.func.name:n}function Pn(r,e,n){const o=r[e];return o&&o.type?Br(o.type):n}function Gn(r,e,n){const o=r[e];return o&&o.list&&o.list.type?o.list.type.map(D=>Br(D)):n}function Yn(r){if(!r.unknownRank)return null!=r.dim?r.dim.map(e=>"number"==typeof e.size?e.size:parseInt(e.size,10)):[]}function fr(r,e,n){const o=r[e];return o&&o.shape?Yn(o.shape):n}function On(r,e,n){const o=r[e];return o?((o.list.f&&o.list.f.length?o.list.f:o.list.i)||[]).map(D=>"number"==typeof D?D:parseInt(D,10)):n}function dr(r,e,n,o=!1){const D=r[e];return D&&D.list&&D.list.s?D.list.s.map(P=>zn(P,o)):n}function Ar(r,e,n){const o=r[e];return o&&o.list&&o.list.shape?o.list.shape.map(D=>Yn(D)):n}function fn(r,e,n){const o=r[e];return o&&o.list&&o.list.b?o.list.b:n}class pr{constructor(e,n,o){this.node=e,this.tensorMap=n,this.context=o,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(D=>this.getInput(D)),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((D,P)=>(D[P]=this.getAttr(P),D),{}))}getInput(e){return bt(e,this.tensorMap,this.context)}getAttr(e,n){const o=this.node.rawAttrs[e];if(null!=o.tensor)return bt(e,this.tensorMap,this.context);if(null!=o.i||null!=o.f)return Nr(this.node.rawAttrs,e,n);if(null!=o.s)return jn(this.node.rawAttrs,e,n);if(null!=o.b)return xn(this.node.rawAttrs,e,n);if(null!=o.shape)return fr(this.node.rawAttrs,e,n);if(null!=o.type)return Pn(this.node.rawAttrs,e,n);if(null!=o.list){if(null!=o.list.i||null!=o.list.f)return On(this.node.rawAttrs,e,n);if(null!=o.list.s)return dr(this.node.rawAttrs,e,n);if(null!=o.list.shape)return Ar(this.node.rawAttrs,e,n);if(null!=o.list.b)return fn(this.node.rawAttrs,e,n);if(null!=o.list.type)return Gn(this.node.rawAttrs,e,n)}return n}}var pt=t(3667);function bn(r,e,n=""){if("number"!=typeof r&&"number"!=typeof e){G.util.assert(r.length===e.length,()=>n+` Shapes ${r} and ${e} must match`);for(let o=0;o<r.length;o++){const D=r[o],P=e[o];G.util.assert(D<0||P<0||D===P,()=>n+` Shapes ${r} and ${e} must match`)}}}function Ur(r){return!("number"==typeof r||r.some(e=>e<0))}function Mn(r,e,n){let o=tn(r,n);const D=!Ur(o);if(D&&0===e.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${o}`);if(D&&e.forEach(P=>{o=tn(P.shape,o)}),!Ur(o))throw new Error(`Non-fully-defined elementShape: ${o}`);return o}function tn(r,e){if("number"==typeof r)return e;if("number"==typeof e)return r;if(r.length!==e.length)throw new Error(`Incompatible ranks during merge: ${r} vs. ${e}`);const n=[];for(let o=0;o<r.length;++o){const D=r[o],P=e[o];if(D>=0&&P>=0&&D!==P)throw new Error(`Incompatible shape during merge: ${r} vs. ${e}`);n[o]=D>=0?D:P}return n}class mr{constructor(e,n,o,D,P,F,K){this.name=e,this.dtype=n,this.maxSize=o,this.elementShape=D,this.identicalElementShapes=P,this.dynamicSize=F,this.clearAfterRead=K,this.tensors=[],this.closed_=!1,this.idTensor=(0,G.scalar)(0),(0,G.keep)(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(null==e||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const o=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=n.shape),bn(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),o.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(o.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);o.tensor=n,(0,G.keep)(n),o.written=!0,this.tensors[e]=o}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((o,D)=>this.write(o,n[D]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let D=0;D<this.size();D++)e.push(D)}if(0===e.length)return(0,G.tensor)([],[0].concat(this.elementShape));const o=this.readMany(e);return bn(this.elementShape,o[0].shape,"TensorArray shape mismatch: "),(0,G.stack)(o,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,G.tensor)([],[0].concat(this.elementShape));const n=[];for(let D=0;D<this.size();D++)n.push(D);const o=this.readMany(n);return bn(this.elementShape,o[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${o[0].shape})`),(0,G.concat)(o,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const o=Math.max(...e);if(!this.dynamicSize&&o>=this.maxSize)throw new Error(`Max index must be < array size (${o}  vs. ${this.maxSize})`);this.writeMany(e,(0,G.unstack)(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let o=0;const D=e.map(ot=>(o+=ot,o));if(o!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${o}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const P=0===o?0:n.size/o,F=[];(0,G.tidy)(()=>{n=(0,G.reshape)(n,[1,o,P]);for(let ot=0;ot<e.length;++ot)F[ot]=(0,G.reshape)((0,G.slice)(n,[0,0===ot?0:D[ot-1],0],[1,e[ot],P]),this.elementShape);return F});const K=[];for(let ot=0;ot<e.length;ot++)K[ot]=ot;this.writeMany(K,F)}}class Sn{get id(){return this.idTensor.id}constructor(e,n,o,D=-1){this.tensors=e,this.elementShape=n,this.elementDtype=o,null!=e&&e.forEach(P=>{if(o!==P.dtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${P.dtype}`);bn(n,P.shape,"TensorList shape mismatch: "),(0,G.keep)(P)}),this.idTensor=(0,G.scalar)(0),this.maxNumElements=D,(0,G.keep)(this.idTensor)}copy(){return new Sn([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(null==e||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,o=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(-1!==o&&this.tensors.length!==o)throw new Error(`Operation expected a list with ${o} elements but got a list with ${this.tensors.length} elements.`);bn(e,this.elementShape,"TensorList shape mismatch: ");const D=Mn(this.elementShape,this.tensors,e);return(0,G.tidy)(()=>{const P=this.tensors.map(F=>(0,G.reshape)(F,D));return(0,G.stack)(P,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const o=Mn(this.elementShape,this.tensors,e),D=this.tensors.pop();return D.kept=!1,bn(D.shape,e,"TensorList shape mismatch: "),(0,G.reshape)(D,o)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(bn(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,G.keep)(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Sn([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let o=0;o<Math.min(this.tensors.length,e);++o)n.tensors[o]=this.tensors[o];return n}getItem(e,n,o){if(o!==this.elementDtype)throw new Error(`Invalid data types; op elements ${o}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);bn(this.tensors[e].shape,n,"TensorList shape mismatch: ");const D=Mn(this.elementShape,this.tensors,n);return(0,G.reshape)(this.tensors[e],D)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);bn(this.elementShape,n.shape,"TensorList shape mismatch: "),(0,G.keep)(n),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,o){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);bn(this.elementShape,o,"TensorList shape mismatch: "),e=e.slice(0,this.size());const D=Mn(this.elementShape,this.tensors,o);return 0===e.length?(0,G.tensor)([],[0].concat(D)):(0,G.tidy)(()=>{const P=e.map(F=>(0,G.reshape)(this.tensors[F],D));return(0,G.stack)(P,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);bn(this.elementShape,n,"TensorList shape mismatch: ");const o=Mn(this.elementShape,this.tensors,n);return 0===this.size()?(0,G.tensor)([],[0].concat(o)):(0,G.tidy)(()=>{const D=this.tensors.map(P=>(0,G.reshape)(P,o));return(0,G.concat)(D,0)})}}const yt=function(){var r=(0,nt.Z)(function*(e,n,o){switch(e.op){case"If":case"StatelessIf":{const D=a("thenBranch",e,n,o),P=a("elseBranch",e,n,o),F=a("cond",e,n,o),K=a("args",e,n,o);return(yield F.data())[0]?o.functionMap[D].executeFunctionAsync(K,o.tensorArrayMap,o.tensorListMap):o.functionMap[P].executeFunctionAsync(K,o.tensorArrayMap,o.tensorListMap)}case"While":case"StatelessWhile":{const D=a("body",e,n,o),P=a("cond",e,n,o),F=a("args",e,n,o),K=yield o.functionMap[P].executeFunctionAsync(F,o.tensorArrayMap,o.tensorListMap),ot=F.map(ue=>ue.id);let Lt=yield K[0].data();K.forEach(ue=>{!ue.kept&&-1===ot.indexOf(ue.id)&&ue.dispose()});let Zt=F;for(;Lt[0];){const ue=Zt;Zt=yield o.functionMap[D].executeFunctionAsync(Zt,o.tensorArrayMap,o.tensorListMap);const fe=Zt.map(ze=>ze.id);ue.forEach(ze=>{!ze.kept&&-1===ot.indexOf(ze.id)&&-1===fe.indexOf(ze.id)&&ze.dispose()});const be=yield o.functionMap[P].executeFunctionAsync(Zt,o.tensorArrayMap,o.tensorListMap);Lt=yield be[0].data(),be.forEach(ze=>{!ze.kept&&-1===ot.indexOf(ze.id)&&-1===fe.indexOf(ze.id)&&ze.dispose()})}return Zt}case"LoopCond":return[ce(a("pred",e,n,o))];case"Switch":{const D=a("pred",e,n,o);let P=a("data",e,n,o);return P.kept||(P=ce(P)),(yield D.data())[0]?[void 0,P]:[P,void 0]}case"Merge":{const D=e.inputNames.find(P=>void 0!==bt(P,n,o));return D?[ce(bt(D,n,o))]:void 0}case"Enter":{const D=a("frameName",e,n,o),P=a("tensor",e,n,o);return o.enterFrame(D),[ce(P)]}case"Exit":{const D=a("tensor",e,n,o);return o.exitFrame(),[ce(D)]}case"NextIteration":{const D=a("tensor",e,n,o);return o.nextIteration(),[ce(D)]}case"TensorArrayV3":{const D=a("size",e,n,o),P=a("dtype",e,n,o),F=a("elementShape",e,n,o),K=a("dynamicSize",e,n,o),ot=a("clearAfterRead",e,n,o),Lt=a("identicalElementShapes",e,n,o),Zt=a("name",e,n,o),ue=new mr(Zt,P,D,F,Lt,K,ot);return o.addTensorArray(ue),[ue.idTensor,(0,G.scalar)(1)]}case"TensorArrayWriteV3":{const D=a("tensorArrayId",e,n,o),P=a("index",e,n,o),F=a("tensor",e,n,o),K=o.getTensorArray(D.id);return K.write(P,F),[K.idTensor]}case"TensorArrayReadV3":{const D=a("tensorArrayId",e,n,o),P=a("index",e,n,o);return[o.getTensorArray(D.id).read(P)]}case"TensorArrayGatherV3":{const D=a("tensorArrayId",e,n,o),P=a("indices",e,n,o),F=a("dtype",e,n,o);return[o.getTensorArray(D.id).gather(P,F)]}case"TensorArrayScatterV3":{const D=a("tensorArrayId",e,n,o),P=a("indices",e,n,o),F=a("tensor",e,n,o),K=o.getTensorArray(D.id);return K.scatter(P,F),[K.idTensor]}case"TensorArrayConcatV3":{const D=a("tensorArrayId",e,n,o),P=o.getTensorArray(D.id),F=a("dtype",e,n,o);return[P.concat(F)]}case"TensorArraySplitV3":{const D=a("tensorArrayId",e,n,o),P=a("tensor",e,n,o),F=a("lengths",e,n,o),K=o.getTensorArray(D.id);return K.split(F,P),[K.idTensor]}case"TensorArraySizeV3":{const D=a("tensorArrayId",e,n,o),P=o.getTensorArray(D.id);return[(0,G.scalar)(P.size(),"int32")]}case"TensorArrayCloseV3":{const D=a("tensorArrayId",e,n,o),P=o.getTensorArray(D.id);return P.clearAndClose(),[P.idTensor]}case"TensorListSetItem":{const D=a("tensorListId",e,n,o),P=a("index",e,n,o),F=a("tensor",e,n,o),K=o.getTensorList(D.id);return K.setItem(P,F),[K.idTensor]}case"TensorListGetItem":{const D=a("tensorListId",e,n,o),P=a("index",e,n,o),F=a("elementShape",e,n,o),K=a("elementDType",e,n,o);return[o.getTensorList(D.id).getItem(P,F,K)]}case"TensorListScatterV2":case"TensorListScatter":{const D=a("indices",e,n,o),ot=function Wr(r,e,n,o){if(e.length!==r.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${r.shape[0]}`);const D=Math.max(...e);if(null!=o&&-1!==o&&D>=o)throw new Error(`Max index must be < array size (${D}  vs. ${o})`);const P=new Sn([],n,r.dtype,o),F=(0,G.unstack)(r,0);return e.forEach((K,ot)=>{P.setItem(K,F[ot])}),P}(a("tensor",e,n,o),D,a("elementShape",e,n,o),a("numElements",e,n,o));return o.addTensorList(ot),[ot.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const D=a("elementShape",e,n,o),P=a("elementDType",e,n,o);let F;F="TensorListReserve"===e.op?"numElements":"maxNumElements";const K=a(F,e,n,o),Lt=function gr(r,e,n,o){return new Sn([],r,e,o)}(D,P,0,"TensorListReserve"===e.op?-1:K);return o.addTensorList(Lt),[Lt.idTensor]}case"TensorListGather":{const D=a("tensorListId",e,n,o),P=a("indices",e,n,o),F=a("elementShape",e,n,o),K=a("elementDType",e,n,o);return[o.getTensorList(D.id).gather(P,K,F)]}case"TensorListStack":{const D=a("tensorListId",e,n,o),P=a("elementShape",e,n,o),F=a("elementDType",e,n,o),K=a("numElements",e,n,o);return[o.getTensorList(D.id).stack(P,F,K)]}case"TensorListFromTensor":{const K=function nr(r,e,n){const o=r.dtype;if(r.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${r.shape}`);if(r.dtype!==n)throw new Error(`Invalid data types; op elements ${r.dtype}, but list elements ${n}`);bn(r.shape.slice(1),e,"TensorList shape mismatch: ");const P=(0,G.unstack)(r);return new Sn(P,e,o)}(a("tensor",e,n,o),a("elementShape",e,n,o),a("elementDType",e,n,o));return o.addTensorList(K),[K.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const D=a("tensorListId",e,n,o),P=o.getTensorList(D.id),F=a("dtype",e,n,o),K=a("elementShape",e,n,o);return[P.concat(F,K)]}case"TensorListPushBack":{const D=a("tensorListId",e,n,o),P=a("tensor",e,n,o),F=o.getTensorList(D.id);return F.pushBack(P),[F.idTensor]}case"TensorListPopBack":{const D=a("tensorListId",e,n,o),P=a("elementShape",e,n,o),F=a("elementDType",e,n,o);return[o.getTensorList(D.id).popBack(P,F)]}case"TensorListSplit":{const D=a("tensor",e,n,o),P=a("elementShape",e,n,o),K=function tt(r,e,n){let o=0;const D=e.map(Zt=>(o+=Zt,o));if(o!==r.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${o}, and tensor's shape is: ${r.shape}`);const F=tn(r.shape.slice(1),n),K=0===o?0:r.size/o,ot=(0,G.tidy)(()=>{const Zt=[];r=(0,G.reshape)(r,[1,o,K]);for(let ue=0;ue<e.length;++ue)Zt[ue]=(0,G.reshape)((0,G.slice)(r,[0,0===ue?0:D[ue-1],0],[1,e[ue],K]),F);return r.dispose(),Zt}),Lt=new Sn([],n,r.dtype,e.length);for(let Zt=0;Zt<ot.length;Zt++)Lt.setItem(Zt,ot[Zt]);return Lt}(D,a("lengths",e,n,o),P);return o.addTensorList(K),[K.idTensor]}case"TensorListLength":{const D=a("tensorListId",e,n,o),P=o.getTensorList(D.id);return[(0,G.scalar)(P.size(),"int32")]}case"TensorListResize":{const D=a("tensorListId",e,n,o),P=a("size",e,n,o),K=o.getTensorList(D.id).resize(P);return o.addTensorList(K),[K.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}});return function(n,o,D){return r.apply(this,arguments)}}();function gt(r,e,n){const[o,D]=a("fusedOps",r,e,n),P="biasadd"===o,F=!P,K="prelu"===D,ot="fusedbatchnorm"===o,Lt=a("numArgs",r,e,n);if(P){if(K&&2!==Lt)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!K&&P&&1!==Lt)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(ot)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const Zt=a("strides",r,e,n),ue=Qt(r,e,n),fe=a("dataFormat",r,e,n).toUpperCase(),be=a("dilations",r,e,n);let[ze,Ge]=a("args",r,e,n);return F&&(Ge=ze,ze=void 0),{stride:Zt,pad:ue,dataFormat:fe,dilations:be,biasArg:ze,preluArg:Ge,activationFunc:D,leakyreluAlpha:a("leakyreluAlpha",r,e,n)}}function Ht(r,e,n){return{boxes:a("boxes",r,e,n),scores:a("scores",r,e,n),maxOutputSize:a("maxOutputSize",r,e,n),iouThreshold:a("iouThreshold",r,e,n),scoreThreshold:a("scoreThreshold",r,e,n),softNmsSigma:a("softNmsSigma",r,e,n)}}const jt=function(){var r=(0,nt.Z)(function*(e,n,o,D,P=Wt){switch(e.op){case"NonMaxSuppressionV5":{const{boxes:F,scores:K,maxOutputSize:ot,iouThreshold:Lt,scoreThreshold:Zt,softNmsSigma:ue}=Ht(e,n,o),fe=yield P.image.nonMaxSuppressionWithScoreAsync(F,K,ot,Lt,Zt,ue);return[fe.selectedIndices,fe.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:F,scores:K,maxOutputSize:ot,iouThreshold:Lt,scoreThreshold:Zt}=Ht(e,n,o),ue=a("padToMaxOutputSize",e,n,o),fe=yield P.image.nonMaxSuppressionPaddedAsync(F,K,ot,Lt,Zt,ue);return[fe.selectedIndices,fe.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:F,scores:K,maxOutputSize:ot,iouThreshold:Lt,scoreThreshold:Zt}=Ht(e,n,o);return[yield P.image.nonMaxSuppressionAsync(F,K,ot,Lt,Zt)]}case"Where":{const F=P.cast(a("condition",e,n,o),"bool"),K=[yield P.whereAsync(F)];return F.dispose(),K}case"ListDiff":return P.setdiff1dAsync(a("x",e,n,o),a("y",e,n,o));default:throw TypeError(`Node type ${e.op} is not implemented`)}});return function(n,o,D,P){return r.apply(this,arguments)}}();var De=t(8661);class xe{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=(0,G.scalar)(0),this.tensorMap=new Map,(0,G.keep)(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return De.i(this.size(),"int32")}import(e,n){var o=this;return(0,nt.Z)(function*(){o.checkKeyAndValueTensor(e,n);const D=yield e.data();return o.tensorMap.forEach(P=>P.dispose()),o.tensorMap.clear(),(0,G.tidy)(()=>{const P=(0,G.unstack)(n),F=D.length,K=P.length;G.util.assert(F===K,()=>`The number of elements doesn't match, keys has ${F} elements, the values has ${K} elements.`);for(let ot=0;ot<F;ot++){const Lt=D[ot],Zt=P[ot];(0,G.keep)(Zt),o.tensorMap.set(Lt,Zt)}return o.handle})})()}find(e,n){var o=this;return(0,nt.Z)(function*(){o.checkKeyAndValueTensor(e,n);const D=yield e.data();return(0,G.tidy)(()=>{const P=[];for(let F=0;F<D.length;F++){const ot=o.findWithDefault(D[F],n);P.push(ot)}return(0,G.stack)(P)})})()}findWithDefault(e,n){const o=this.tensorMap.get(e);return null!=o?o:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}const Ee=function(){var r=(0,nt.Z)(function*(e,n,o,D){switch(e.op){case"HashTable":case"HashTableV2":{const P=D.getHashTableHandleByName(e.name);if(null!=P)return[P];{const F=a("keyDType",e,n,o),K=a("valueDType",e,n,o),ot=new xe(F,K);return D.addHashTable(e.name,ot),[ot.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const P=a("tableHandle",e,n,o,D),F=a("keys",e,n,o),K=a("values",e,n,o);return[yield D.getHashTableById(P.id).import(F,K)]}case"LookupTableFind":case"LookupTableFindV2":{const P=a("tableHandle",e,n,o,D),F=a("keys",e,n,o),K=a("defaultValue",e,n,o);return[yield D.getHashTableById(P.id).find(F,K)]}case"LookupTableSize":case"LookupTableSizeV2":{const P=a("tableHandle",e,n,o,D);return[D.getHashTableById(P.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}});return function(n,o,D,P){return r.apply(this,arguments)}}();function Ir(r,e,n,o,D=G.tidy){const P=((F,K,ot)=>{switch(F.category){case"arithmetic":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"BiasAdd":case"AddV2":case"Add":return[o.add(a("a",r,e,n),a("b",r,e,n))];case"AddN":return[o.addN(a("tensors",r,e,n))];case"FloorMod":case"Mod":return[o.mod(a("a",r,e,n),a("b",r,e,n))];case"Mul":return[o.mul(a("a",r,e,n),a("b",r,e,n))];case"RealDiv":case"Div":return[o.div(a("a",r,e,n),a("b",r,e,n))];case"DivNoNan":return[o.divNoNan(a("a",r,e,n),a("b",r,e,n))];case"FloorDiv":return[o.floorDiv(a("a",r,e,n),a("b",r,e,n))];case"Sub":return[o.sub(a("a",r,e,n),a("b",r,e,n))];case"Minimum":return[o.minimum(a("a",r,e,n),a("b",r,e,n))];case"Maximum":return[o.maximum(a("a",r,e,n),a("b",r,e,n))];case"Pow":return[o.pow(a("a",r,e,n),a("b",r,e,n))];case"SquaredDifference":return[o.squaredDifference(a("a",r,e,n),a("b",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"basic_math":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Abs":case"ComplexAbs":return[o.abs(a("x",r,e,n))];case"Acos":return[o.acos(a("x",r,e,n))];case"Acosh":return[o.acosh(a("x",r,e,n))];case"Asin":return[o.asin(a("x",r,e,n))];case"Asinh":return[o.asinh(a("x",r,e,n))];case"Atan":return[o.atan(a("x",r,e,n))];case"Atan2":return[o.atan2(a("x",r,e,n),a("y",r,e,n))];case"Atanh":return[o.atanh(a("x",r,e,n))];case"Ceil":return[o.ceil(a("x",r,e,n))];case"Complex":return[o.complex(a("real",r,e,n),a("imag",r,e,n))];case"Cos":return[o.cos(a("x",r,e,n))];case"Cosh":return[o.cosh(a("x",r,e,n))];case"Elu":return[o.elu(a("x",r,e,n))];case"Erf":return[o.erf(a("x",r,e,n))];case"Exp":return[o.exp(a("x",r,e,n))];case"Expm1":return[o.expm1(a("x",r,e,n))];case"Floor":return[o.floor(a("x",r,e,n))];case"Log":return[o.log(a("x",r,e,n))];case"Log1p":return[o.log1p(a("x",r,e,n))];case"Imag":return[o.imag(a("x",r,e,n))];case"Neg":return[o.neg(a("x",r,e,n))];case"Reciprocal":return[o.reciprocal(a("x",r,e,n))];case"Real":return[o.real(a("x",r,e,n))];case"Relu":return[o.relu(a("x",r,e,n))];case"Round":return[o.round(a("x",r,e,n))];case"Selu":return[o.selu(a("x",r,e,n))];case"Sigmoid":return[o.sigmoid(a("x",r,e,n))];case"Sin":return[o.sin(a("x",r,e,n))];case"Sign":return[o.sign(a("x",r,e,n))];case"Sinh":return[o.sinh(a("x",r,e,n))];case"Softplus":return[o.softplus(a("x",r,e,n))];case"Sqrt":return[o.sqrt(a("x",r,e,n))];case"Square":return[o.square(a("x",r,e,n))];case"Tanh":return[o.tanh(a("x",r,e,n))];case"Tan":return[o.tan(a("x",r,e,n))];case"ClipByValue":return[o.clipByValue(a("x",r,e,n),a("clipValueMin",r,e,n),a("clipValueMax",r,e,n))];case"Relu6":return[o.relu6(a("x",r,e,n))];case"Rsqrt":return[o.rsqrt(bt(r.inputNames[0],e,n))];case"LeakyRelu":return[o.leakyRelu(a("x",r,e,n),a("alpha",r,e,n))];case"Prelu":return[o.prelu(a("x",r,e,n),a("alpha",r,e,n))];case"IsNan":return[o.isNaN(bt(r.inputNames[0],e,n))];case"IsInf":return[o.isInf(bt(r.inputNames[0],e,n))];case"IsFinite":return[o.isFinite(bt(r.inputNames[0],e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"control":return yt(F,K,ot);case"convolution":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Conv1D":{const D=a("stride",r,e,n),P=a("pad",r,e,n),F=a("dataFormat",r,e,n).toUpperCase(),K=a("dilation",r,e,n);return[o.conv1d(a("x",r,e,n),a("filter",r,e,n),D,P,F,K)]}case"Conv2D":{const D=a("strides",r,e,n),P=Qt(r,e,n),F=a("dataFormat",r,e,n).toUpperCase(),K=a("dilations",r,e,n);return[o.conv2d(a("x",r,e,n),a("filter",r,e,n),[D[1],D[2]],P,F,[K[1],K[2]])]}case"_FusedConv2D":{const{stride:D,pad:P,dataFormat:F,dilations:K,biasArg:ot,preluArg:Lt,activationFunc:Zt,leakyreluAlpha:ue}=gt(r,e,n);return[o.fused.conv2d({x:a("x",r,e,n),filter:a("filter",r,e,n),strides:[D[1],D[2]],pad:P,dataFormat:F,dilations:[K[1],K[2]],bias:ot,activation:Zt,preluActivationWeights:Lt,leakyreluAlpha:ue})]}case"FusedDepthwiseConv2dNative":{const{stride:D,pad:P,dataFormat:F,dilations:K,biasArg:ot,preluArg:Lt,activationFunc:Zt,leakyreluAlpha:ue}=gt(r,e,n);return[o.fused.depthwiseConv2d({x:a("x",r,e,n),filter:a("filter",r,e,n),strides:[D[1],D[2]],pad:P,dataFormat:F,dilations:[K[1],K[2]],bias:ot,activation:Zt,preluActivationWeights:Lt,leakyreluAlpha:ue})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const D=a("outputShape",r,e,n),P=a("strides",r,e,n),F=Qt(r,e,n);return[o.conv2dTranspose(a("x",r,e,n),a("filter",r,e,n),D,[P[1],P[2]],F)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const D=a("strides",r,e,n),P=Qt(r,e,n),F=a("dilations",r,e,n),K=a("dataFormat",r,e,n).toUpperCase();return[o.depthwiseConv2d(a("input",r,e,n),a("filter",r,e,n),[D[1],D[2]],P,K,[F[1],F[2]])]}case"Conv3D":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("dataFormat",r,e,n).toUpperCase(),K=a("dilations",r,e,n);return[o.conv3d(a("x",r,e,n),a("filter",r,e,n),[D[1],D[2],D[3]],P,F,[K[1],K[2],K[3]])]}case"AvgPool":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("kernelSize",r,e,n);return[o.avgPool(a("x",r,e,n),[F[1],F[2]],[D[1],D[2]],P)]}case"MaxPool":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("kernelSize",r,e,n);return[o.maxPool(a("x",r,e,n),[F[1],F[2]],[D[1],D[2]],P)]}case"MaxPoolWithArgmax":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("kernelSize",r,e,n),K=a("includeBatchInIndex",r,e,n),{result:ot,indexes:Lt}=o.maxPoolWithArgmax(a("x",r,e,n),[F[1],F[2]],[D[1],D[2]],P,K);return[ot,Lt]}case"AvgPool3D":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("kernelSize",r,e,n);return[o.avgPool3d(a("x",r,e,n),[F[1],F[2],F[3]],[D[1],D[2],D[3]],P)]}case"MaxPool3D":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("kernelSize",r,e,n);return[o.maxPool3d(a("x",r,e,n),[F[1],F[2],F[3]],[D[1],D[2],D[3]],P)]}case"Dilation2D":{const D=a("strides",r,e,n),P=a("pad",r,e,n),F=a("dilations",r,e,n),K=D[1],ot=D[2],Lt=F[1],Zt=F[2];return[o.dilation2d(a("x",r,e,n),a("filter",r,e,n),[K,ot],P,[Lt,Zt],"NHWC")]}default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"creation":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Fill":{const D=a("shape",r,e,n),P=a("dtype",r,e,n),F=a("value",r,e,n);return[o.fill(D,F,P)]}case"LinSpace":{const D=a("start",r,e,n),P=a("stop",r,e,n),F=a("num",r,e,n);return[o.linspace(D,P,F)]}case"Multinomial":{const D=a("logits",r,e,n),P=a("numSamples",r,e,n),F=a("seed",r,e,n);return[o.multinomial(D,P,F)]}case"OneHot":{const D=a("indices",r,e,n),P=a("depth",r,e,n),F=a("onValue",r,e,n),K=a("offValue",r,e,n),ot=a("dtype",r,e,n);return[o.oneHot(D,P,F,K,ot)]}case"Ones":return[o.ones(a("shape",r,e,n),a("dtype",r,e,n))];case"OnesLike":return[o.onesLike(a("x",r,e,n))];case"RandomStandardNormal":return[o.randomStandardNormal(a("shape",r,e,n),a("dtype",r,e,n),a("seed",r,e,n))];case"RandomUniform":return[o.randomUniform(a("shape",r,e,n),a("minval",r,e,n),a("maxval",r,e,n),a("dtype",r,e,n))];case"RandomUniformInt":return[o.randomUniformInt(a("shape",r,e,n),a("minval",r,e,n),a("maxval",r,e,n),a("seed",r,e,n))];case"Range":{const D=a("start",r,e,n),P=a("stop",r,e,n),F=a("step",r,e,n);return[o.range(D,P,F,a("dtype",r,e,n))]}case"TruncatedNormal":{const D=a("shape",r,e,n),P=a("mean",r,e,n),F=a("stdDev",r,e,n),K=a("seed",r,e,n);return[o.truncatedNormal(D,P,F,a("dtype",r,e,n),K)]}case"Zeros":return[o.zeros(a("shape",r,e,n),a("dtype",r,e,n))];case"ZerosLike":return[o.zerosLike(a("x",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"dynamic":return jt(F,K,ot);case"evaluation":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"LowerBound":{const D=a("sortedSequence",r,e,n),P=a("values",r,e,n);return[o.lowerBound(D,P)]}case"TopKV2":{const D=a("x",r,e,n),P=a("k",r,e,n),F=a("sorted",r,e,n),K=o.topk(D,P,F);return[K.values,K.indices]}case"UpperBound":{const D=a("sortedSequence",r,e,n),P=a("values",r,e,n);return[o.upperBound(D,P)]}case"Unique":{const D=a("x",r,e,n),P=o.unique(D);return[P.values,P.indices]}case"UniqueV2":{const D=a("x",r,e,n),P=a("axis",r,e,n),F=o.unique(D,P);return[F.values,F.indices]}default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"image":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"ResizeBilinear":{const D=a("images",r,e,n),P=a("size",r,e,n),F=a("alignCorners",r,e,n),K=a("halfPixelCenters",r,e,n);return[o.image.resizeBilinear(D,[P[0],P[1]],F,K)]}case"ResizeNearestNeighbor":{const D=a("images",r,e,n),P=a("size",r,e,n),F=a("alignCorners",r,e,n),K=a("halfPixelCenters",r,e,n);return[o.image.resizeNearestNeighbor(D,[P[0],P[1]],F,K)]}case"CropAndResize":{const D=a("image",r,e,n),P=a("boxes",r,e,n),F=a("boxInd",r,e,n),K=a("cropSize",r,e,n),ot=a("method",r,e,n),Lt=a("extrapolationValue",r,e,n);return[o.image.cropAndResize(D,P,F,K,ot,Lt)]}case"ImageProjectiveTransformV3":{const D=a("images",r,e,n),P=a("transforms",r,e,n),F=a("outputShape",r,e,n),K=a("fillValue",r,e,n),ot=a("interpolation",r,e,n),Lt=a("fillMode",r,e,n);return[o.image.transform(D,P,ot.toLowerCase(),Lt.toLowerCase(),K,F)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"graph":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Const":return e[r.name];case"PlaceholderWithDefault":const D=a("default",r,e,n);return[bt(r.name,e,n)||D];case"Placeholder":return[bt(r.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[ce(a("x",r,e,n))];case"IdentityN":return a("x",r,e,n).map(Zt=>ce(Zt));case"Shape":return[o.tensor1d(a("x",r,e,n).shape,"int32")];case"ShapeN":return a("x",r,e,n).map(Zt=>o.tensor1d(Zt.shape));case"Size":return[o.scalar(a("x",r,e,n).size,"int32")];case"Rank":return[o.scalar(a("x",r,e,n).rank,"int32")];case"NoOp":return[o.scalar(1)];case"Print":const F=a("x",r,e,n),K=a("data",r,e,n),ot=a("message",r,e,n),Lt=a("summarize",r,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(ot);for(let Zt=0;Zt<K.length;Zt++)console.log(Array.prototype.slice.call(K[Zt].dataSync()).slice(0,Lt));return[F];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"logical":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Equal":return[o.equal(a("a",r,e,n),a("b",r,e,n))];case"NotEqual":return[o.notEqual(a("a",r,e,n),a("b",r,e,n))];case"Greater":return[o.greater(a("a",r,e,n),a("b",r,e,n))];case"GreaterEqual":return[o.greaterEqual(a("a",r,e,n),a("b",r,e,n))];case"Less":return[o.less(a("a",r,e,n),a("b",r,e,n))];case"LessEqual":return[o.lessEqual(a("a",r,e,n),a("b",r,e,n))];case"LogicalAnd":return[o.logicalAnd(a("a",r,e,n),a("b",r,e,n))];case"LogicalNot":return[o.logicalNot(a("a",r,e,n))];case"LogicalOr":return[o.logicalOr(a("a",r,e,n),a("b",r,e,n))];case"Select":case"SelectV2":return[o.where(a("condition",r,e,n),a("a",r,e,n),a("b",r,e,n))];case"BitwiseAnd":return[o.bitwiseAnd(a("a",r,e,n),a("b",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"matrices":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[o.matMul(a("a",r,e,n),a("b",r,e,n),a("transposeA",r,e,n),a("transposeB",r,e,n))];case"Einsum":return[o.einsum(a("equation",r,e,n),...a("tensors",r,e,n))];case"Transpose":return[o.transpose(a("x",r,e,n),a("perm",r,e,n))];case"_FusedMatMul":const[D,P]=a("fusedOps",r,e,n),F="biasadd"===D,K="prelu"===P,ot=a("numArgs",r,e,n),Lt=a("leakyreluAlpha",r,e,n);if(F){if(K&&2!==ot)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!K&&1!==ot)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[Zt,ue]=a("args",r,e,n);return[o.fused.matMul({a:a("a",r,e,n),b:a("b",r,e,n),transposeA:a("transposeA",r,e,n),transposeB:a("transposeB",r,e,n),bias:Zt,activation:P,preluActivationWeights:ue,leakyreluAlpha:Lt})];case"MatrixBandPart":return[o.linalg.bandPart(a("a",r,e,n),a("numLower",r,e,n),a("numUpper",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"normalization":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"EuclideanNorm":return[o.euclideanNorm(a("x",r,e,n),a("axis",r,e,n),a("keepDims",r,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[o.batchNorm(a("x",r,e,n),a("mean",r,e,n),a("variance",r,e,n),a("offset",r,e,n),a("scale",r,e,n),a("epsilon",r,e,n))];case"LRN":return[o.localResponseNormalization(a("x",r,e,n),a("radius",r,e,n),a("bias",r,e,n),a("alpha",r,e,n),a("beta",r,e,n))];case"Softmax":return[o.softmax(a("x",r,e,n))];case"LogSoftmax":return[o.logSoftmax(a("x",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"ragged":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"RaggedGather":{const{outputNestedSplits:D,outputDenseValues:P}=o.raggedGather(a("paramsNestedSplits",r,e,n),a("paramsDenseValues",r,e,n),a("indices",r,e,n),a("outputRaggedRank",r,e,n));return D.concat(P)}case"RaggedRange":{const{rtNestedSplits:D,rtDenseValues:P}=o.raggedRange(a("starts",r,e,n),a("limits",r,e,n),a("splits",r,e,n));return[D,P]}case"RaggedTensorToTensor":return[o.raggedTensorToTensor(a("shape",r,e,n),a("values",r,e,n),a("defaultValue",r,e,n),a("rowPartitionTensors",r,e,n),a("rowPartitionTypes",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"reduction":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Max":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.max(a("x",r,e,n),K,ot)]}case"Mean":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.mean(a("x",r,e,n),K,ot)]}case"Min":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.min(a("x",r,e,n),K,ot)]}case"Sum":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.sum(a("x",r,e,n),K,ot)]}case"All":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.all(a("x",r,e,n),K,ot)]}case"Any":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.any(a("x",r,e,n),K,ot)]}case"ArgMax":{const K=a("axis",r,e,n);return[o.argMax(a("x",r,e,n),K)]}case"ArgMin":{const K=a("axis",r,e,n);return[o.argMin(a("x",r,e,n),K)]}case"Prod":{const K=a("axis",r,e,n),ot=a("keepDims",r,e,n);return[o.prod(a("x",r,e,n),K,ot)]}case"Cumprod":{const K=a("axis",r,e,n),ot=a("exclusive",r,e,n),Lt=a("reverse",r,e,n);return[o.cumprod(a("x",r,e,n),K,ot,Lt)]}case"Cumsum":{const K=a("axis",r,e,n),ot=a("exclusive",r,e,n),Lt=a("reverse",r,e,n);return[o.cumsum(a("x",r,e,n),K,ot,Lt)]}case"Bincount":const D=a("x",r,e,n),P=a("weights",r,e,n),F=a("size",r,e,n);return[o.bincount(D,P,F)];case"DenseBincount":{const K=a("x",r,e,n),ot=a("weights",r,e,n),Lt=a("size",r,e,n),Zt=a("binaryOutput",r,e,n);return[o.denseBincount(K,ot,Lt,Zt)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"slice_join":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"ConcatV2":case"Concat":{const D=a("n",r,e,n),P=a("axis",r,e,n);let F=a("tensors",r,e,n);return F=F.slice(0,D),[o.concat(F,P)]}case"Gather":{const D=a("x",r,e,n),P=a("indices",r,e,n);return[o.gather(D,o.cast(P,"int32"),0)]}case"GatherV2":{const D=a("axis",r,e,n),P=a("batchDims",r,e,n),F=a("x",r,e,n),K=a("indices",r,e,n);return[o.gather(F,o.cast(K,"int32"),D,P)]}case"Reverse":{const D=a("dims",r,e,n),P=[];for(let K=0;K<D.length;K++)D[K]&&P.push(K);const F=a("x",r,e,n);return[o.reverse(F,P)]}case"ReverseV2":{const D=a("axis",r,e,n),P=a("x",r,e,n);return[o.reverse(P,D)]}case"Slice":{const D=a("begin",r,e,n),P=a("size",r,e,n);return[o.slice(a("x",r,e,n),D,P)]}case"StridedSlice":{const D=a("begin",r,e,n),P=a("end",r,e,n),F=a("strides",r,e,n),K=a("beginMask",r,e,n),ot=a("endMask",r,e,n),Lt=a("ellipsisMask",r,e,n),Zt=a("newAxisMask",r,e,n),ue=a("shrinkAxisMask",r,e,n),fe=a("x",r,e,n);return[o.stridedSlice(fe,D,P,F,K,ot,Lt,Zt,ue)]}case"Pack":return(0,G.tidy)(()=>{const D=a("axis",r,e,n),P=a("tensors",r,e,n),F=P[0].shape,K=o.squeeze(P[0]).shape,ot=P.map(Lt=>{const Zt=G.util.arraysEqual(Lt.shape,F);if(!Zt&&!G.util.arraysEqual(o.squeeze(Lt).shape,K))throw new Error("the input tensors shape does not match");return Zt?Lt:o.reshape(Lt,F)});return[o.stack(ot,D)]});case"Unpack":{const D=a("axis",r,e,n),P=a("tensor",r,e,n);return o.unstack(P,D)}case"Tile":{const D=a("reps",r,e,n);return[o.tile(a("x",r,e,n),D)]}case"Split":case"SplitV":{const D=a("axis",r,e,n),P=a("numOrSizeSplits",r,e,n),F=a("x",r,e,n);return o.split(F,P,D)}case"ScatterNd":{const D=a("indices",r,e,n),P=a("values",r,e,n),F=a("shape",r,e,n);return[o.scatterND(D,P,F)]}case"GatherNd":{const D=a("x",r,e,n),P=a("indices",r,e,n);return[o.gatherND(D,P)]}case"SparseToDense":{const D=a("sparseIndices",r,e,n),P=a("outputShape",r,e,n),F=a("sparseValues",r,e,n),K=a("defaultValue",r,e,n);return[o.sparseToDense(D,F,P,F.dtype===K.dtype?K:o.cast(K,F.dtype))]}case"TensorScatterUpdate":{const D=a("indices",r,e,n),P=a("values",r,e,n),F=a("tensor",r,e,n);return[o.tensorScatterUpdate(F,D,P)]}default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"sparse":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"SparseFillEmptyRows":{const{outputIndices:D,outputValues:P,emptyRowIndicator:F,reverseIndexMap:K}=o.sparse.sparseFillEmptyRows(a("indices",r,e,n),a("values",r,e,n),a("denseShape",r,e,n),a("defaultValue",r,e,n));return[D,P,F,K]}case"SparseReshape":{const{outputIndices:D,outputShape:P}=o.sparse.sparseReshape(a("inputIndices",r,e,n),a("inputShape",r,e,n),a("newShape",r,e,n));return[D,P]}case"SparseSegmentMean":return[o.sparse.sparseSegmentMean(a("data",r,e,n),a("indices",r,e,n),a("segmentIds",r,e,n))];case"SparseSegmentSum":return[o.sparse.sparseSegmentSum(a("data",r,e,n),a("indices",r,e,n),a("segmentIds",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"spectral":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"FFT":return[o.fft(a("x",r,e,n))];case"IFFT":return[o.ifft(a("x",r,e,n))];case"RFFT":return[o.rfft(a("x",r,e,n))];case"IRFFT":return[o.irfft(a("x",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"string":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"StaticRegexReplace":return[o.string.staticRegexReplace(a("input",r,e,n),a("pattern",r,e,n),a("rewrite",r,e,n),a("replaceGlobal",r,e,n))];case"StringNGrams":{const{nGrams:D,nGramsSplits:P}=o.string.stringNGrams(a("data",r,e,n),a("dataSplits",r,e,n),a("separator",r,e,n),a("nGramWidths",r,e,n),a("leftPad",r,e,n),a("rightPad",r,e,n),a("padWidth",r,e,n),a("preserveShortSequences",r,e,n));return[D,P]}case"StringSplit":{const{indices:D,values:P,shape:F}=o.string.stringSplit(a("input",r,e,n),a("delimiter",r,e,n),a("skipEmpty",r,e,n));return[D,P,F]}case"StringToHashBucketFast":return[o.string.stringToHashBucketFast(a("input",r,e,n),a("numBuckets",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"transformation":return D(()=>((r,e,n,o=Wt)=>{switch(r.op){case"Cast":return[o.cast(a("x",r,e,n),a("dtype",r,e,n))];case"ExpandDims":{const D=a("axis",r,e,n);return[o.expandDims(a("x",r,e,n),D)]}case"Squeeze":{const D=a("axis",r,e,n);return[o.squeeze(a("x",r,e,n),D)]}case"Reshape":return[o.reshape(a("x",r,e,n),a("shape",r,e,n))];case"EnsureShape":return[o.ensureShape(a("x",r,e,n),a("shape",r,e,n))];case"MirrorPad":return[o.mirrorPad(a("x",r,e,n),a("padding",r,e,n),a("mode",r,e,n))];case"PadV2":case"Pad":return[o.pad(a("x",r,e,n),a("padding",r,e,n),a("constantValue",r,e,n))];case"SpaceToBatchND":{const D=a("blockShape",r,e,n),P=a("paddings",r,e,n);return[o.spaceToBatchND(a("x",r,e,n),D,P)]}case"BatchToSpaceND":{const D=a("blockShape",r,e,n),P=a("crops",r,e,n);return[o.batchToSpaceND(a("x",r,e,n),D,P)]}case"DepthToSpace":{const D=a("blockSize",r,e,n),P=a("dataFormat",r,e,n).toUpperCase();return[o.depthToSpace(a("x",r,e,n),D,P)]}case"BroadcastTo":return[o.broadcastTo(a("x",r,e,n),a("shape",r,e,n))];case"BroadcastArgs":return[o.broadcastArgs(a("s0",r,e,n),a("s1",r,e,n))];default:throw TypeError(`Node type ${r.op} is not implemented`)}})(F,K,ot));case"hash_table":return Ee(F,K,ot,o);case"custom":const Lt=H(F.op);if(Lt&&Lt.customExecutor)return Lt.customExecutor(new pr(F,K,ot));throw TypeError(`Custom op ${F.op} is not registered.`);default:throw TypeError(`Unknown op '${F.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(r,e,n);return G.util.isPromise(P)?P.then(F=>[].concat(F)):[].concat(P)}class Hn{constructor(e={},n={},o={},D={},P){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=o,this.functionMap=D,this.parseNodeNameCache=P,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const o=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(o))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>0===n.id&&0===n.iterationId?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}function wr(r,e,n,o){const D=new Set,P=[];let F=null,K=null;const ot=new Set,Lt=new Set(Object.keys(r).map(fe=>At(fe)[0]));o=o||[];const Zt=new Set(o.map(fe=>At(fe.name)[0])),ue=[...e];for(;ue.length>0;){const fe=ue.pop();if((Ft(fe)||wt(fe)||Vt(fe))&&null==F&&(F=fe,K=F.children.map(be=>be.name).filter(be=>D.has(be))),D.add(fe.name),null==n[fe.name]&&!Lt.has(fe.name)&&!Zt.has(fe.name)){if(0===fe.inputs.length){P.push(fe.name);continue}fe.inputs.forEach(be=>{ot.has(be.name)||(ot.add(be.name),ue.push(be))})}}return{inputs:r,outputs:e,usedNodes:D,missingInputs:P,dynamicNode:F,syncInputs:K}}class Un extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const T=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),rt=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),It=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Ft(r){return T.has(r.op)}function wt(r){return rt.has(r.op)}function Vt(r){return It.has(r.op)}class re{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(o=>e[o].map(D=>D.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach(o=>{this._functionExecutorMap[o]=new re(e.functions[o],this)})}getCompilationKey(e,n){const o=e.map(P=>P.name).sort(),D=n.map(P=>P.name).sort();return o.join(this.SEPARATOR)+"--"+D.join(this.SEPARATOR)}compile(e,n){const o=wr(e,n,this.weightMap,this._initNodes),{missingInputs:D,dynamicNode:P,syncInputs:F}=o;if(null!=P)throw new Error(`This execution contains the node '${P.name}', which has the dynamic op '${P.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${F}]`);if(D.length>0){const Lt=n.map(ue=>ue.name),Zt=Object.keys(e);throw new Error(`Cannot compute the outputs [${Lt}] from the provided inputs [${Zt}]. Missing the following inputs: [${D}]`)}const K=function Er(r,e){const{usedNodes:n,inputs:o}=e,F=ve=>n.has("string"==typeof ve?ve:ve.name);function K(ve){return[...new Map(ve.map(nn=>[nn.name,nn])).values()]}const ot=K([...Object.keys(o).map(ve=>At(ve)[0]).map(ve=>r.nodes[ve]),...r.weights,...r.initNodes||[]]).filter(F),Lt=K([...ot,...Object.values(r.nodes)]).filter(F),Zt=new Map(Lt.map(ve=>[ve.name,ve])),ue={};for(const ve of Lt){ue[ve.name]=ue[ve.name]||0;for(const nn of ve.children)F(nn)||(ue[nn.name]=Number.POSITIVE_INFINITY),ue[nn.name]=(ue[nn.name]||0)+1}const fe=Object.entries(ue).filter(([,ve])=>0===ve).map(([ve])=>ve),be=[...fe];for(;fe.length>0;){const ve=fe.pop(),nn=Zt.get(ve);for(const Dn of nn.children.filter(F))0==--ue[Dn.name]&&(be.push(Dn.name),fe.push(Dn.name))}const Ge=function br(r,e){const n=new Map(r.map(F=>[F.name,F])),o=e.map(F=>F.name),D=new Set(o);for(;o.length>0;){const F=o.pop(),K=n.get(F);for(const ot of K.children)!n.has(ot.name)||D.has(ot.name)||(D.add(ot.name),o.push(ot.name))}return r.filter(F=>D.has(F.name))}(be.map(ve=>Zt.get(ve)),ot);return function u(r,e){const n=new Map(r.map((K,ot)=>[K.name,ot])),o=new Set(e.map(K=>K.name)),D=K=>o.has("string"==typeof K?K:K.name),P=new Set(r.map(K=>K.name)),F=K=>P.has("string"==typeof K?K:K.name);for(const K of r){for(const ot of K.children.filter(F)){if(!n.has(ot.name))throw new Un(`Child ${ot.name} of node ${K.name} is unreachable.`);if(n.get(K.name)>n.get(ot.name))throw new Un(`Node ${K.name} is scheduled to run after its child ${ot.name}.`)}if(!D(K))for(const ot of K.inputs){if(!n.has(ot.name))throw new Un(`Input ${ot.name} of node ${K.name} is unreachable.`);if(n.get(ot.name)>n.get(K.name))throw new Un(`Node ${K.name} is scheduled to run before its input ${ot.name}.`)}}}(Ge,ot),Ge}(this.graph,o),ot=function _(r){const e=new Map(r.map((K,ot)=>[K.name,ot])),n=Number.MAX_SAFE_INTEGER,o=r.map((K,ot)=>Ft(K)?n:ot),D=K=>{const ot=o[e.get(K.name)];return null==ot?-1:ot},P=r.map((K,ot)=>K.children.map(D).reduce((Lt,Zt)=>Math.max(Lt,Zt),o[ot])),F=new Map;for(let K=0;K<r.length;++K){const ot=P[K];if(ot===n)continue;const Lt=r[K],Zt=r[ot];F.has(Zt.name)||F.set(Zt.name,[]),F.get(Zt.name).push(Lt)}return F}(K);return{orderedNodes:K,nodeLiveUntilMap:ot}}cloneAndKeepTensor(e){if(null==e)return null;const n=e.clone();return(0,G.keep)(n),n}cloneTensorList(e){return e?e.map(o=>this.cloneAndKeepTensor(o)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,this.cloneTensorList(o)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const o=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const D=o.map(fe=>this.graph.nodes[At(fe)[0]]),P=n.map(fe=>At(fe)[0]),F=new Set(P);let K=P.map(fe=>this.graph.nodes[fe]);0===K.length&&(K=this._outputs);const ot=this.getCompilationKey(D,K);let Lt=this.compiledMap.get(ot);null==Lt&&(Lt=this.compile(e,K),this.compiledMap.set(ot,Lt));try{this.keepIntermediateTensors=(0,G.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(fe){this.keepIntermediateTensors=!1,console.warn(fe.message)}const Zt={},ue={};return(0,G.tidy)(()=>{const fe=new Hn(this.weightMap,Zt,ue,this.functionExecutorMap,this.parseNodeNameCache),be=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(nn=>{const[Dn,Jn]=At(nn,fe),lr=[];lr[Jn]=e[nn],be[Dn]=lr,this.keepIntermediateTensors&&(this.clonedTensorsMap[Dn]=this.cloneTensorList(lr))});const ze=this.getFrozenTensorIds(be),{orderedNodes:Ge,nodeLiveUntilMap:ve}=Lt;for(const nn of Ge){if(be[nn.name])continue;const Dn=Ir(nn,be,fe,this._resourceManager);if(G.util.isPromise(Dn))throw new Error(`The execution of the op '${nn.op}' returned a promise. Please use model.executeAsync() instead.`);be[nn.name]=Dn,this.keepIntermediateTensors&&(this.clonedTensorsMap[nn.name]=this.cloneTensorList(Dn)),this.checkTensorForDisposalWithNodeLiveUntilInfo(nn,be,fe,ze,F,ve.get(nn.name))}return null==this.parent&&fe.dispose(ze),n.map(nn=>bt(nn,be,fe))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(o=>e[o]).map(o=>o.map(D=>D.id)));return new Set(n)}checkTensorForDisposal(e,n,o,D,P,F,K){if(!Ft(n)&&!F.has(e)){for(const ot of o[e])null!=ot&&(K[ot.id]=(K[ot.id]||0)+n.children.length);for(const ot of n.inputs){if(Ft(ot))continue;const Lt=q(ot.name,o,D);if(null!=Lt)for(const Zt of Lt){if(!Zt||Zt.kept||P.has(Zt.id))continue;const ue=K[Zt.id];1===ue?(Zt.dispose(),delete K[Zt.id]):null!=ue&&K[Zt.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,o,D,P,F){function K(ot){return Ft(ot)||P.has(ot.name)}if(!Ft(e)&&null!=F)for(const ot of F){if(K(ot))continue;const Lt=q(ot.name,n,o);for(const Zt of Lt)!Zt||Zt.kept||D.has(Zt.id)||Zt.dispose()}}executeAsync(e,n){var o=this;return(0,nt.Z)(function*(){return o._executeAsync(e,n)})()}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}_executeAsync(e,n,o=!1,D={},P={}){var F=this;return(0,nt.Z)(function*(){F.disposeIntermediateTensors(),o||(e=F.mapInputs(e),F.checkInputs(e),F.checkInputShapeAndType(e),n=F.mapOutputs(n),F.checkOutputs(n));try{F.keepIntermediateTensors=(0,G.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(be){F.keepIntermediateTensors=!1,console.warn(be.message)}const K=new Hn(F.weightMap,D,P,F.functionExecutorMap,F.parseNodeNameCache);F.keepIntermediateTensors&&(F.clonedTensorsMap=F.cloneTensorMap(F.weightMap));const ot=yield F.executeWithControlFlow(e,K,n,o),Lt=n.map(be=>bt(be,ot,K)),Zt=Lt.map(be=>be.id),ue=Object.keys(e).map(be=>e[be].id),fe=new Set([...Zt,...ue,...F.weightIds]);return Object.values(ot).forEach(be=>{be.forEach(ze=>{ze&&!ze.isDisposed&&!fe.has(ze.id)&&ze.dispose()})}),null==F.parent&&K.dispose(fe),Lt})()}executeFunctionAsync(e,n,o){var D=this;return(0,nt.Z)(function*(){const P=e.reduce((F,K,ot)=>(F[D.inputs[ot].name]=K,F),{});return D._executeAsync(P,D.outputNodes,!0,n,o)})()}executeWithControlFlow(e,n,o,D){var P=this;return(0,nt.Z)(function*(){const F=Object.keys(e),K=F.map(pn=>P.graph.nodes[At(pn)[0]]),ot=o.map(pn=>At(pn)[0]),Lt=new Set(ot);let Zt=ot.map(pn=>P.graph.nodes[pn]);0===Zt.length&&(Zt=P._outputs);const{usedNodes:ue,missingInputs:fe,dynamicNode:be,syncInputs:ze}=wr(e,Zt,P.weightMap,P._initNodes),Ge=[...K,...P.graph.weights,...P._initNodes||[]].map(pn=>({node:pn,contexts:n.currentContext})),ve=Object.assign({},P.weightMap);Object.keys(e).forEach(pn=>{const[ar,Pt]=At(pn),Xn=[];Xn[Pt]=e[pn],ve[ar]=Xn});const nn={},Dn=P.getFrozenTensorIds(ve),Jn={};for(;Ge.length>0;){const pn=P.processStack(K,Ge,n,ve,Jn,Dn,Lt,nn,ue);yield Promise.all(pn)}null==be&&!D&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const lr=Zt.filter(pn=>!Ft(pn)&&!bt(pn.name,ve,n)).map(pn=>pn.name);if(lr.length>0){let pn="";throw null!=be&&(pn=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${ze}]`),new Error(`Cannot compute the outputs [${lr}] from the provided inputs [${F}]. Consider providing the following inputs: [${fe}]. ${pn}`)}return ve})()}processStack(e,n,o,D,P,F,K,ot,Lt){const Zt=[];for(;n.length>0;){const ue=n.pop();o.currentContext=ue.contexts;let fe="";if("Enter"===ue.node.op&&a("isConstant",ue.node,D,o)&&([fe]=it(ue.node.name,o)),null==D[ue.node.name]){const be=Ir(ue.node,D,o,this._resourceManager);fe||([fe]=it(ue.node.name,o));const ze=o.currentContext;G.util.isPromise(be)?Zt.push(be.then(Ge=>(D[fe]=Ge,this.keepIntermediateTensors&&(this.clonedTensorsMap[fe]=this.cloneTensorList(Ge)),o.currentContext=ze,this.checkTensorForDisposal(fe,ue.node,D,o,F,K,ot),this.processChildNodes(ue.node,n,o,D,P,Lt),Ge))):(D[fe]=be,this.keepIntermediateTensors&&(this.clonedTensorsMap[fe]=this.cloneTensorList(be)),this.checkTensorForDisposal(fe,ue.node,D,o,F,K,ot),this.processChildNodes(ue.node,n,o,D,P,Lt))}else this.processChildNodes(ue.node,n,o,D,P,Lt)}return Zt}processChildNodes(e,n,o,D,P,F){e.children.forEach(K=>{const[ot]=it(K.name,o);P[ot]||!F.has(K.name)||("Merge"===K.op?K.inputNames.some(Lt=>!!bt(Lt,D,o))&&(P[ot]=!0,n.push({contexts:o.currentContext,node:K})):K.inputNames.every(Lt=>!!bt(Lt,D,o))&&(P[ot]=!0,n.push({contexts:o.currentContext,node:K})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const o=e[n],[D]=At(n),P=this.graph.nodes[D];if(P.attrParams.shape&&P.attrParams.shape.value){const F=P.attrParams.shape.value,K=F.length===o.shape.length&&o.shape.every((ot,Lt)=>-1===F[Lt]||F[Lt]===ot);G.util.assert(K,()=>`The shape of dict['${P.name}'] provided in model.execute(dict) must be [${F}], but was [${o.shape}]`)}P.attrParams.dtype&&P.attrParams.dtype.value&&G.util.assert(o.dtype===P.attrParams.dtype.value,()=>`The dtype of dict['${P.name}'] provided in model.execute(dict) must be ${P.attrParams.dtype.value}, but was ${o.dtype}`)})}mapInputs(e){var n,o;const D={};for(const P in e){const F=null===(o=null===(n=this._signature)||void 0===n?void 0:n.inputs)||void 0===o?void 0:o[P];null!=F?D[F.name]=e[P]:D[P]=e[P]}return D}checkInputs(e){const n=Object.keys(e).filter(o=>{const[D]=At(o);return null==this.graph.nodes[D]});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var o,D;const P=null===(D=null===(o=this._signature)||void 0===o?void 0:o.outputs)||void 0===D?void 0:D[n];return null!=P?P.name:n},{})}checkOutputs(e){e.forEach(n=>{const[o]=At(n);if(!this.graph.nodes[o])throw new Error(`The output '${n}' is not found in the graph`)})}}class se{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const we="?tfjs-format=file",an="model.json";class Qe{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},o=G.io){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=o,null==n&&(this.loadOptions={}),this.resourceManager=new se}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(0===n.length)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return G.util.isPromise(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let o=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const P=this.artifacts.userDefinedMetadata;null!=P.signature&&(o=P.signature),null!=P.structuredOutputKeys&&(this.structuredOutputKeys=P.structuredOutputKeys)}this.signature=o,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const D=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new re(tr.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(D),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const P=tr.Instance.transformGraph(e.modelInitializer);this.initializer=new re(P),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}save(e,n){var o=this;return(0,nt.Z)(function*(){if("string"==typeof e){const D=o.io.getSaveHandlers(e);if(0===D.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(D.length>1)throw new Error(`Found more than one (${D.length}) save handlers for URL '${e}'`);e=D[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(o.artifacts)})()}addStructuredOutputNames(e){if(this.structuredOutputKeys){const o={};return(e instanceof G.Tensor?[e]:e).forEach((D,P)=>o[this.structuredOutputKeys[P]]=D),o}return e}predict(e,n){const o=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(o)}predictAsync(e,n){var o=this;return(0,nt.Z)(function*(){const D=yield o.executeAsync(e,o.outputNodes);return o.addStructuredOutputNames(D)})()}normalizeInputs(e){var n;if(!(e instanceof G.Tensor||Array.isArray(e))){const P=null===(n=this.signature)||void 0===n?void 0:n.inputs;if(null!=P)for(const F in P){const K=P[F];null!=K.resourceId&&(e[F]=this.resourceIdToCapturedInput[K.resourceId])}return e}e=Array.isArray(e)?e:[e];const o=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+o!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-o} non-resource placeholders, while there are ${e.length} input tensors provided.`);let D=0;return this.inputNodes.reduce((P,F)=>{var K,ot,Lt;const Zt=null===(Lt=null===(ot=null===(K=this.signature)||void 0===K?void 0:K.inputs)||void 0===ot?void 0:ot[F])||void 0===Lt?void 0:Lt.resourceId;return P[F]=null!=Zt?this.resourceIdToCapturedInput[Zt]:e[D++],P},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:this.initializer.execute({},null==this.initializerSignature?[]:Object.keys(this.initializerSignature.outputs))}executeInitializerGraphAsync(){var e=this;return(0,nt.Z)(function*(){return null==e.initializer?[]:e.initializer.executeAsync({},null==e.initializerSignature?[]:Object.keys(e.initializerSignature.outputs))})()}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,o=Object.keys(n);for(let D=0;D<o.length;D++)this.resourceIdToCapturedInput[n[o[D]].resourceId]=e[D]}}execute(e,n){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const o=this.executor.execute(e,n);return o.length>1?o:o[0]}executeAsync(e,n){var o=this;return(0,nt.Z)(function*(){null==o.resourceIdToCapturedInput&&o.setResourceIdToCapturedInput(yield o.executeInitializerGraphAsync()),e=o.normalizeInputs(e),n=o.normalizeOutputs(n);const D=yield o.executor.executeAsync(e,n);return D.length>1?D:D[0]})()}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,o)=>(n[o]=[e[o]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&(0,G.dispose)(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}function $e(r){return _e.apply(this,arguments)}function _e(){return(_e=(0,nt.Z)(function*(r,e={},n=G.io){if(null==r)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==e&&(e={}),e.fromTFHub&&"string"==typeof r&&(r=function Ce(r){return r.endsWith("/")||(r+="/"),`${r}${an}${we}`}(r));const o=new Qe(r,e,n);return yield o.load(),o})).apply(this,arguments)}const en="4.11.0"},7173:(vt,L,t)=>{"use strict";t.d(L,{JL:()=>h,Zu:()=>M});class h{constructor(v,f){this.backend=v,this.dataMover=f,this.data=new WeakMap,this.dataIdsCount=0}get(v){return this.data.has(v)||this.dataMover.moveData(this.backend,v),this.data.get(v)}set(v,f){this.dataIdsCount++,this.data.set(v,f)}has(v){return this.data.has(v)}delete(v){return this.dataIdsCount--,this.data.delete(v)}numDataIds(){return this.dataIdsCount}}class M{refCount(v){return O("refCount")}incRef(v){return O("incRef")}timerAvailable(){return!0}time(v){return O("time")}read(v){return O("read")}readSync(v){return O("readSync")}readToGPU(v,f){return O("readToGPU")}numDataIds(){return O("numDataIds")}disposeData(v,f){return O("disposeData")}write(v,f,s){return O("write")}move(v,f,s,d,m){return O("move")}createTensorFromGPUData(v,f,s){return O("createTensorFromGPUData")}memory(){return O("memory")}floatPrecision(){return O("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return O("dispose")}}function O(E){throw new Error(`'${E}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},5672:(vt,L,t)=>{"use strict";function b(g,S,j){const $=function B(g,S,j){return function M(g,S,j){let $=0,Y=g.length,Q=0,dt=!1;for(;$<Y;){Q=$+(Y-$>>>1);const ht=j(S,g[Q]);ht>0?$=Q+1:(Y=Q,dt=!ht)}return dt?$:-$-1}(g,S,j||h)}(g,S,j);g.splice($<0?-($+1):$,0,S)}function h(g,S){return g>S?1:g<S?-1:0}function O(g,S,j,$,Y){return f(g,S,j,$,Y,0)}function E(g,S,j,$,Y,Q){return f(g,S,j,$,Y,0,!1,Q,!0)}function v(g,S,j,$,Y,Q){return f(g,S,j,$,Y,Q,!0)}function f(g,S,j,$,Y,Q,dt=!1,ht=!1,Wt=!1){const G=[];for(let H=0;H<S.length;H++)S[H]>Y&&G.push({score:S[H],boxIndex:H,suppressBeginIndex:0});G.sort(m);const et=Q>0?-.5/Q:0,nt=[],x=[];for(;nt.length<j&&G.length>0;){const H=G.pop(),{score:ut,boxIndex:a,suppressBeginIndex:bt}=H;if(ut<Y)break;let q=!1;for(let it=nt.length-1;it>=bt;--it){const Dt=s(g,a,nt[it]);if(Dt>=$){q=!0;break}if(H.score=H.score*d($,et,Dt),H.score<=Y)break}H.suppressBeginIndex=nt.length,q||(H.score===ut?(nt.push(a),x.push(H.score)):H.score>Y&&b(G,H,m))}const N=nt.length,c=j-N;ht&&c>0&&(nt.push(...new Array(c).fill(0)),x.push(...new Array(c).fill(0)));const R={selectedIndices:nt};return dt&&(R.selectedScores=x),Wt&&(R.validOutputs=N),R}function s(g,S,j){const $=g.subarray(4*S,4*S+4),Y=g.subarray(4*j,4*j+4),Q=Math.min($[0],$[2]),dt=Math.min($[1],$[3]),ht=Math.max($[0],$[2]),Wt=Math.max($[1],$[3]),G=Math.min(Y[0],Y[2]),et=Math.min(Y[1],Y[3]),nt=Math.max(Y[0],Y[2]),x=Math.max(Y[1],Y[3]),N=(ht-Q)*(Wt-dt),c=(nt-G)*(x-et);if(N<=0||c<=0)return 0;const R=Math.max(Q,G),H=Math.max(dt,et),ut=Math.min(ht,nt),a=Math.min(Wt,x),bt=Math.max(ut-R,0)*Math.max(a-H,0);return bt/(N+c-bt)}function d(g,S,j){const $=Math.exp(S*j*j);return j<=g?$:0}function m(g,S){return g.score-S.score||g.score===S.score&&S.boxIndex-g.boxIndex}t.d(L,{GP:()=>O,qP:()=>E,pA:()=>v})},7349:(vt,L,t)=>{"use strict";t.d(L,{Z:()=>B});var b=t(582);function B(h,M){const O=[];for(let f=0;f<M.length;f++)M[f]&&O.push(f);const E=(0,b.f)(h,"int32"),v=(0,b.f)([O.length,h.length],"int32");for(let f=0;f<O.length;f++){const s=E.indexToLoc(O[f]);v.values.set(s,f*h.length)}return v.toTensor()}},687:(vt,L,t)=>{"use strict";t.d(L,{BV:()=>et,wv:()=>G});var b=t(5861),B=t(7173),h=t(5527),M=t(2918),O=t(4251),E=t(8987),v=t(2932),f=t(1153),s=t(5359);class d{constructor(N,c){this.backendTimer=N,this.logger=c,null==c&&(this.logger=new g)}profileKernel(N,c,R){let H;const ut=()=>{H=R()};let a;const bt=f.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(ut);else{ut();for(const it of H)it.dataSync();a=Promise.resolve({kernelMs:f.now()-bt})}if((0,h.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let it=0;it<H.length;it++){const Dt=H[it];Dt.data().then(At=>{m(At,Dt.dtype,N)})}return{kernelName:N,outputs:H,inputs:c,timeMs:a.then(it=>it.kernelMs),extraInfo:a.then(it=>null!=it.getExtraProfileInfo?it.getExtraProfileInfo():"")}}logKernelProfile(N){const{kernelName:c,outputs:R,timeMs:H,inputs:ut,extraInfo:a}=N;R.forEach(bt=>{Promise.all([bt.data(),H,a]).then(q=>{this.logger.logKernelProfile(c,bt,q[0],q[1],ut,q[2])})})}}function m(x,N,c){if("float32"!==N)return!1;for(let R=0;R<x.length;R++){const H=x[R];if(isNaN(H)||!isFinite(H))return console.warn(`Found ${H} in the result of '${c}'`),!0}return!1}class g{logKernelProfile(N,c,R,H,ut,a){const bt="number"==typeof H?s.oj(`${H}ms`,9):H.error,q=s.oj(N,25),it=c.rank,Dt=c.size,At=s.oj(c.shape.toString(),14);let kt="";for(const Qt in ut){const ce=ut[Qt];if(null!=ce){const ie=ce.shape||c.shape,Pe=ie.length;kt+=`${Qt}: ${Pe}D ${Pe>0?ie:""} `}}console.log(`%c${q}\t%c${bt}\t%c${it}D ${At}\t%c${Dt}\t%c${kt}\t%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var $=t(4945),Y=t(7664);function Q(x){return null!=x.kernelName}class dt{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(N=>N.name)))}}}dispose(){for(const N in this.registeredVariables)this.registeredVariables[N].dispose()}}let ht=(()=>{class x{constructor(c){this.ENV=c,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new dt}ready(){var c=this;return(0,b.Z)(function*(){if(null!=c.pendingBackendInit)return c.pendingBackendInit.then(()=>{});if(null!=c.backendInstance)return;const R=c.getSortedBackends();for(let H=0;H<R.length;H++){const ut=R[H];if(yield c.initializeBackend(ut).success)return void(yield c.setBackend(ut))}throw new Error("Could not initialize any backends, all backend initializations failed.")})()}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:c,asyncInit:R}=this.initializeBackendsAndReturnBest();if(R)throw new Error(`The highest priority backend '${c}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(c)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(c){if(!(c in this.registry)){if(!(c in this.registryFactory))return null;{const{asyncInit:R}=this.initializeBackend(c);if(R)return null}}return this.registry[c]}findBackendFactory(c){return c in this.registryFactory?this.registryFactory[c].factory:null}registerBackend(c,R,H=1){return c in this.registryFactory?(v.Z(`${c} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[c]={factory:R,priority:H},!0)}setBackend(c){var R=this;return(0,b.Z)(function*(){if(null==R.registryFactory[c])throw new Error(`Backend name '${c}' not found in registry`);if(R.backendName=c,null==R.registry[c]){R.backendInstance=null;const{success:H,asyncInit:ut}=R.initializeBackend(c);if(!(ut?yield H:H))return!1}return R.backendInstance=R.registry[c],R.setupRegisteredKernels(),R.profiler=new d(R.backendInstance),!0})()}setupRegisteredKernels(){(0,E.tr)(this.backendName).forEach(R=>{null!=R.setupFunc&&R.setupFunc(this.backendInstance)})}disposeRegisteredKernels(c){(0,E.tr)(c).forEach(H=>{null!=H.disposeFunc&&H.disposeFunc(this.registry[c])})}initializeBackend(c){const R=this.registryFactory[c];if(null==R)throw new Error(`Cannot initialize backend ${c}, no registration found.`);try{const H=R.factory();if(!H||H instanceof B.Zu||"function"!=typeof H.then)return this.registry[c]=H,{success:!0,asyncInit:!1};{const ut=++this.pendingBackendInitId,a=H.then(bt=>!(ut<this.pendingBackendInitId||(this.registry[c]=bt,this.pendingBackendInit=null,0))).catch(bt=>(ut<this.pendingBackendInitId||(this.pendingBackendInit=null,v.Z(`Initialization of backend ${c} failed`),v.Z(bt.stack||bt.message)),!1));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(H){return v.Z(`Initialization of backend ${c} failed`),v.Z(H.stack||H.message),{success:!1,asyncInit:!1}}}removeBackend(c){if(!(c in this.registryFactory))throw new Error(`${c} backend not found in registry`);this.backendName===c&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,c in this.registry&&(this.disposeRegisteredKernels(c),this.registry[c].dispose(),delete this.registry[c]),delete this.registryFactory[c],this.backendName===c&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((c,R)=>this.registryFactory[R].priority-this.registryFactory[c].priority)}initializeBackendsAndReturnBest(){const c=this.getSortedBackends();for(let R=0;R<c.length;R++){const H=c[R],{success:ut,asyncInit:a}=this.initializeBackend(H);if(a||ut)return{name:H,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(c,R){const H=this.state.tensorInfo.get(R),ut=H.backend,a=this.readSync(R),bt=ut.refCount(R);ut.disposeData(R,!0),H.backend=c,c.move(R,a,H.shape,H.dtype,bt),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(c,R){let ut,H=null;if(null==R){if("function"!=typeof c)throw new Error("Please provide a function to tidy()");R=c}else{if("string"!=typeof c&&!(c instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof R)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");H=c}return this.scopedRun(()=>this.startScope(H),()=>this.endScope(ut),()=>(ut=R(),ut instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ut))}scopedRun(c,R,H){c();try{const ut=H();return R(),ut}catch(ut){throw R(),ut}}nextTensorId(){return x.nextTensorId++}nextVariableId(){return x.nextVariableId++}clone(c){const R=et.runKernel(O.iJz,{x:c});return this.addTapeNode(this.state.activeScope.name,{x:c},[R],bt=>({x:()=>et.runKernel(O.RFZ,{x:bt},{dtype:"float32"})}),[],{}),R}runKernel(c,R,H){if(null==(0,E.pI)(c,this.backendName))throw new Error(`Kernel '${c}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:c,inputs:R,attrs:H})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(c,R,H){const ut=this.backend.numDataIds();let a=0;H.forEach(it=>{a+="complex64"===it.dtype?3:1});const q=ut-R-a-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(q>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${q} data ids) after running '${c}'`)}runKernelFunc(c){let R,H=[];const ut=this.isTapeOn(),a=this.state.numBytes,bt=this.state.numTensors;let q,it;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const Dt=Q(c)?c.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Q(c)){const{kernelName:ie,inputs:Pe,attrs:ae}=c,ke=(0,E.pI)(ie,this.backendName);s.hu(null!=ke,()=>`Cannot find registered kernel '${ie}' for backend '${this.backendName}'`),q=()=>{const Se=this.backend.numDataIds();it=ke.kernelFunc({inputs:Pe,attrs:ae,backend:this.backend});const on=Array.isArray(it)?it:[it];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(ie,Se,on);const _n=on.map(vn=>null!=vn.rank?vn:this.makeTensorFromTensorInfo(vn));if(ut){const vn=this.getTensorsForGradient(ie,Pe,_n);H=this.saveTensorsForBackwardMode(vn)}return _n}}else{const{forwardFunc:ie}=c,Pe=ae=>{ut&&(H=ae.map(ke=>this.keep(this.clone(ke))))};q=()=>{const ae=this.backend.numDataIds();it=this.tidy(()=>ie(this.backend,Pe));const ke=Array.isArray(it)?it:[it];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(Dt,ae,ke),ke}}const{inputs:At,attrs:kt}=c,Qt=Q(c)?null:c.backwardsFunc;let ce;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(ce=this.profiler.profileKernel(Dt,At,()=>q()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(ce),R=ce.outputs):R=q()}),ut&&this.addTapeNode(Dt,At,R,Qt,H,kt),this.state.profiling&&this.state.activeProfile.kernels.push({name:Dt,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-bt,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(At).map(ie=>null!=At[ie]?At[ie].shape:null),outputShapes:R.map(ie=>ie.shape),kernelTimeMs:ce.timeMs,extraInfo:ce.extraInfo}),Array.isArray(it)?R:R[0]}saveTensorsForBackwardMode(c){return c.map(H=>this.keep(this.clone(H)))}getTensorsForGradient(c,R,H){const ut=(0,E.uk)(c);if(null!=ut){const a=ut.inputsToSave||[],bt=ut.outputsToSave||[];let q;ut.saveAllInputs?(s.hu(Array.isArray(R),()=>"saveAllInputs is true, expected inputs to be an array."),q=Object.keys(R).map(Dt=>R[Dt])):q=a.map(Dt=>R[Dt]);const it=H.filter((Dt,At)=>bt[At]);return q.concat(it)}return[]}makeTensor(c,R,H,ut){if(null==c)throw new Error("Values passed to engine.makeTensor() are null");ut=ut||this.backend;let a=c;"string"===(H=H||"float32")&&s.HD(c[0])&&(a=c.map(it=>f.encodeString(it)));const bt=ut.write(a,R,H),q=new $.es(R,H,bt,this.nextTensorId());if(this.trackTensor(q,ut),"string"===H){const it=this.state.tensorInfo.get(bt),Dt=(0,s.Ub)(a);this.state.numBytes+=Dt-it.bytes,it.bytes=Dt}return q}makeTensorFromDataId(c,R,H,ut){return this.makeTensorFromTensorInfo({dataId:c,shape:R,dtype:H=H||"float32"},ut)}makeTensorFromTensorInfo(c,R){const{dataId:H,shape:ut,dtype:a}=c,bt=new $.es(ut,a,H,this.nextTensorId());return this.trackTensor(bt,R),bt}makeVariable(c,R=!0,H,ut){H=H||this.nextVariableId().toString(),null!=ut&&ut!==c.dtype&&(c=c.cast(ut));const a=new $._w(c,R,H,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(c,R){this.state.numTensors++,"string"===c.dtype&&this.state.numStringTensors++;let H=0;"complex64"!==c.dtype&&"string"!==c.dtype&&(H=c.size*s.bT(c.dtype)),this.state.numBytes+=H,this.state.tensorInfo.has(c.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(c.dataId,{backend:R||this.backend,dtype:c.dtype,shape:c.shape,bytes:H})),c instanceof $._w||this.track(c)}incRef(c,R){this.trackTensor(c,R),this.backend.incRef(c.dataId)}removeDataId(c,R){this.state.tensorInfo.has(c)&&this.state.tensorInfo.get(c).backend===R&&(this.state.tensorInfo.delete(c),this.state.numDataBuffers--)}disposeTensor(c){if(!this.state.tensorInfo.has(c.dataId))return;const R=this.state.tensorInfo.get(c.dataId);if(this.state.numTensors--,"string"===c.dtype&&(this.state.numStringTensors--,this.state.numBytes-=R.bytes),"complex64"!==c.dtype&&"string"!==c.dtype){const H=c.size*s.bT(c.dtype);this.state.numBytes-=H}R.backend.disposeData(c.dataId)&&this.removeDataId(c.dataId,R.backend)}disposeVariables(){for(const c in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[c])}disposeVariable(c){this.disposeTensor(c),null!=this.state.registeredVariables[c.name]&&delete this.state.registeredVariables[c.name]}memory(){const c=this.backend.memory();return c.numTensors=this.state.numTensors,c.numDataBuffers=this.state.numDataBuffers,c.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(c.unreliable=!0,null==c.reasons&&(c.reasons=[]),c.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),c}profile(c){var R=this;return(0,b.Z)(function*(){R.state.profiling=!0;const H=R.state.numBytes,ut=R.state.numTensors;R.state.activeProfile.kernels=[],R.state.activeProfile.result=yield c(),R.state.profiling=!1,R.state.activeProfile.peakBytes=Math.max(...R.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),R.state.activeProfile.newBytes=R.state.numBytes-H,R.state.activeProfile.newTensors=R.state.numTensors-ut;for(const a of R.state.activeProfile.kernels)a.kernelTimeMs=yield a.kernelTimeMs,a.extraInfo=yield a.extraInfo;return R.state.activeProfile})()}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(c,R,H,ut,a,bt){const q={id:this.state.nextTapeNodeId++,kernelName:c,inputs:R,outputs:H,saved:a},it=(0,E.uk)(c);null!=it&&(ut=it.gradFunc),null!=ut&&(q.gradient=Dt=>(Dt=Dt.map((At,kt)=>{if(null==At){const Qt=H[kt],ce=s.wT(Qt.size,Qt.dtype);return this.makeTensor(ce,Qt.shape,Qt.dtype)}return At}),ut(Dt.length>1?Dt:Dt[0],a,bt))),this.state.activeTape.push(q)}keep(c){return c.kept=!0,c}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(c){const R={track:[],name:"unnamed scope",id:this.state.nextScopeId++};c&&(R.name=c),this.state.scopeStack.push(R),this.state.activeScope=R}endScope(c){const R=(0,Y.getTensorsInContainer)(c),H=new Set(R.map(a=>a.id));for(let a=0;a<this.state.activeScope.track.length;a++){const bt=this.state.activeScope.track[a];!bt.kept&&!H.has(bt.id)&&bt.dispose()}const ut=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],R.forEach(a=>{!a.kept&&a.scopeId===ut.id&&this.track(a)})}gradients(c,R,H,ut=!1){if(s.hu(R.length>0,()=>"gradients() received an empty list of xs."),null!=H&&"float32"!==H.dtype)throw new Error(`dy must have 'float32' dtype, but has '${H.dtype}'`);const a=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",c));s.hu(a instanceof $.es,()=>"The result y returned by f() must be a tensor.");const bt=function S(x,N,c){const R={},H={};for(let q=0;q<N.length;q++)R[N[q].id]=!0;for(let q=0;q<x.length;q++){const it=x[q],Dt=it.inputs;for(const At in Dt){const kt=Dt[At];let Qt=!1;for(let ce=0;ce<N.length;ce++)if(R[kt.id]){it.outputs.forEach(ie=>R[ie.id]=!0),Qt=!0,H[it.id]=!0;break}if(Qt)break}}const ut={};ut[c.id]=!0;const a={};for(let q=x.length-1;q>=0;q--){const it=x[q],Dt=it.inputs;for(let At=0;At<it.outputs.length;At++)if(ut[it.outputs[At].id]){for(const kt in Dt)ut[Dt[kt].id]=!0,a[it.id]=!0;break}}const bt=[];for(let q=0;q<x.length;q++){const it=x[q];if(H[it.id]&&a[it.id]){const Dt={};for(const kt in it.inputs){const Qt=it.inputs[kt];R[Qt.id]&&(Dt[kt]=Qt)}const At=Object.assign({},it);At.inputs=Dt,At.outputs=it.outputs,bt.push(At)}}return bt}(this.state.activeTape,R,a);if(!ut&&0===bt.length&&R.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const q={};q[a.id]=null==H?function Wt(x){const N=(0,s.p8)((0,s.NA)(x),"float32");return et.makeTensor(N,x,"float32")}(a.shape):H,function j(x,N,c,R){for(let H=N.length-1;H>=0;H--){const ut=N[H],a=[];if(ut.outputs.forEach(q=>{const it=x[q.id];a.push(null!=it?it:null)}),null==ut.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${ut.kernelName}.`);const bt=ut.gradient(a);for(const q in ut.inputs){if(!(q in bt))throw new Error(`Cannot backprop through input ${q}. Available gradients found: ${Object.keys(bt)}.`);const it=c(()=>bt[q]());if("float32"!==it.dtype)throw new Error(`Error in gradient for op ${ut.kernelName}. The gradient of input ${q} must have 'float32' dtype, but has '${it.dtype}'`);const Dt=ut.inputs[q];if(!s.cO(it.shape,Dt.shape))throw new Error(`Error in gradient for op ${ut.kernelName}. The gradient of input '${q}' has shape '${it.shape}', which does not match the shape of the input '${Dt.shape}'`);if(null==x[Dt.id])x[Dt.id]=it;else{const At=x[Dt.id];x[Dt.id]=R(At,it),At.dispose()}}}}(q,bt,Dt=>this.tidy(Dt),nt);const it=R.map(Dt=>q[Dt.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(Dt=>{for(const At of Dt.saved)At.dispose()}),this.state.activeTape=null),{value:a,grads:it}})}customGrad(c){return s.hu(s.mf(c),()=>"The f passed in customGrad(f) must be a function."),(...R)=>{let H;s.hu(R.every(q=>q instanceof $.es),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const ut={};return R.forEach((q,it)=>{ut[it]=q}),this.runKernelFunc({forwardFunc:(q,it)=>(H=c(...R,it),s.hu(H.value instanceof $.es,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),s.hu(s.mf(H.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),H.value),backwardsFunc:(q,it)=>{const Dt=H.gradFunc(q,it),At=Array.isArray(Dt)?Dt:[Dt];s.hu(At.length===R.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),s.hu(At.every(Qt=>Qt instanceof $.es),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const kt={};return At.forEach((Qt,ce)=>{kt[ce]=()=>Qt}),kt},inputs:ut})}}readSync(c){return this.state.tensorInfo.get(c).backend.readSync(c)}read(c){return this.state.tensorInfo.get(c).backend.read(c)}readToGPU(c,R){return this.state.tensorInfo.get(c).backend.readToGPU(c,R)}time(c){var R=this;return(0,b.Z)(function*(){const H=(0,f.now)(),ut=yield R.backend.time(c);return ut.wallMs=(0,f.now)()-H,ut})()}track(c){return null!=this.state.activeScope&&(c.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(c)),c}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new dt;for(const c in this.registry)this.disposeRegisteredKernels(c),this.registry[c].dispose(),delete this.registry[c];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return x.nextTensorId=0,x.nextVariableId=0,x})();function G(){const x=(0,M.D)();if(null==x._tfengine){const N=new h.qA(x);x._tfengine=new ht(N)}return(0,h.iG)(x._tfengine.ENV),(0,$.Vi)(()=>x._tfengine),x._tfengine}const et=G();function nt(x,N){return et.runKernel(O.mm_,{a:x,b:N})}},5527:(vt,L,t)=>{"use strict";t.d(L,{OB:()=>f,Vi:()=>s,iG:()=>d,qA:()=>M});var b=t(5861),B=t(5359);const h="tfjsflags";class M{constructor(g){this.global=g,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=O,this.populateURLFlags()}setPlatform(g,S){null!=this.platform&&(f().getBool("IS_TEST")||f().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${g}.`)),this.platformName=g,this.platform=S}registerFlag(g,S,j){if(this.flagRegistry[g]={evaluationFn:S,setHook:j},null!=this.urlFlags[g]){const $=this.urlFlags[g];f().getBool("IS_TEST")||f().getBool("PROD")||console.warn(`Setting feature override from URL ${g}: ${$}.`),this.set(g,$)}}getAsync(g){var S=this;return(0,b.Z)(function*(){return g in S.flags||(S.flags[g]=yield S.evaluateFlag(g)),S.flags[g]})()}get(g){if(g in this.flags)return this.flags[g];const S=this.evaluateFlag(g);if((0,B.tI)(S))throw new Error(`Flag ${g} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[g]=S,this.flags[g]}getNumber(g){return this.get(g)}getBool(g){return this.get(g)}getString(g){return this.get(g)}getFlags(){return this.flags}get features(){return this.flags}set(g,S){if(null==this.flagRegistry[g])throw new Error(`Cannot set flag ${g} as it has not been registered.`);this.flags[g]=S,null!=this.flagRegistry[g].setHook&&this.flagRegistry[g].setHook(S)}evaluateFlag(g){if(null==this.flagRegistry[g])throw new Error(`Cannot evaluate flag '${g}': no evaluation function found.`);return this.flagRegistry[g].evaluationFn()}setFlags(g){this.flags=Object.assign({},g)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const g=this.getQueryParams(this.global.location.search);h in g&&g[h].split(",").forEach(j=>{const[$,Y]=j.split(":");this.urlFlags[$]=function v(m,g){const S=g.toLowerCase();return"true"===S||"false"===S?"true"===S:""+ +S===S?+S:g}(0,Y)})}}function O(m){const g={};return m.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(S,...j)=>(function E(m,g,S){m[decodeURIComponent(g)]=decodeURIComponent(S||"")}(g,j[0],j[1]),j.join("="))),g}function f(){return s}let s=null;function d(m){s=m}},2918:(vt,L,t)=>{"use strict";let b;function B(){if(null==b){let O;if(typeof window<"u")O=window;else if(typeof global<"u")O=global;else if(typeof process<"u")O=process;else{if(!(typeof self<"u"))throw new Error("Could not find a global object");O=self}b=O}return b}function M(O,E){const v=function h(){const O=B();return null==O._tfGlobals&&(O._tfGlobals=new Map),O._tfGlobals}();if(v.has(O))return v.get(O);{const f=E();return v.set(O,f),v.get(O)}}t.d(L,{D:()=>B,R:()=>M})},2773:(vt,L,t)=>{"use strict";t.d(L,{B9:()=>j,CQ:()=>Q,Cd:()=>dt,Cn:()=>$,G4:()=>O,MX:()=>f,N5:()=>g,N8:()=>s,N_:()=>ht,R:()=>E,SR:()=>d,VY:()=>N,XV:()=>Y,cF:()=>v,cj:()=>Wt,jq:()=>nt,lu:()=>S,sq:()=>m,x3:()=>G,y3:()=>x,ze:()=>et});var b=t(687),B=t(5527),h=t(4945),M=t(7664);function O(){(0,B.OB)().set("PROD",!0)}function E(){(0,B.OB)().set("DEBUG",!0)}function v(){(0,B.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function f(c){(0,B.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(c+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function s(){b.BV.disposeVariables()}function d(){return b.BV}function m(){return b.BV.memory()}function g(c){return b.BV.profile(c)}function S(c,R){return b.BV.tidy(c,R)}function j(c){(0,M.getTensorsInContainer)(c).forEach(H=>H.dispose())}function $(c){return b.BV.keep(c)}function Y(c){return b.BV.time(c)}function Q(c){return b.BV.setBackend(c)}function dt(){return b.BV.ready()}function ht(){return b.BV.backendName}function Wt(c){b.BV.removeBackend(c)}function G(c){return b.BV.findBackend(c)}function et(c){return b.BV.findBackendFactory(c)}function nt(c,R,H=1){return b.BV.registerBackend(c,R,H)}function x(){return b.BV.backend}function N(c,R){(0,B.OB)().setPlatform(c,R)}(0,h.FZ)(f)},3537:(vt,L,t)=>{"use strict";t.d(L,{UQ:()=>O,cb:()=>d,fN:()=>f,h7:()=>v,pn:()=>s,ti:()=>E});var b=t(687),B=t(4945),h=t(1257),M=t(5359);function O(g){return M.hu(M.mf(g),()=>"The f passed in grad(f) must be a function"),(S,j)=>{const $=(0,h._1)(S,"x","tf.grad","string_or_numeric"),Y=null!=j?(0,h._1)(j,"dy","tf.grad"):null;return b.BV.tidy(()=>{const{value:Q,grads:dt}=b.BV.gradients(()=>g($),[$],Y);return null!=Y&&M.k5(Q.shape,Y.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),m(dt),dt[0]})}}function E(g){return M.hu(M.mf(g),()=>"The f passed in grads(f) must be a function"),(S,j)=>{M.hu(Array.isArray(S),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const $=(0,h.sI)(S,"args","tf.grads","string_or_numeric"),Y=null!=j?(0,h._1)(j,"dy","tf.grads"):null;return b.BV.tidy(()=>{const{value:Q,grads:dt}=b.BV.gradients(()=>g(...$),$,Y);return null!=Y&&M.k5(Q.shape,Y.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),m(dt),dt})}}function v(g){return M.hu(M.mf(g),()=>"The f passed in valueAndGrad(f) must be a function"),(S,j)=>{M.hu(S instanceof B.es,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),M.hu(null==j||j instanceof B.es,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:$,value:Y}=b.BV.gradients(()=>g(S),[S],j);return m($),{grad:$[0],value:Y}}}function f(g){return M.hu(M.mf(g),()=>"The f passed in valueAndGrads(f) must be a function"),(S,j)=>{M.hu(Array.isArray(S)&&S.every(Y=>Y instanceof B.es),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),M.hu(null==j||j instanceof B.es,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const $=b.BV.gradients(()=>g(...S),S,j);return null!=j&&M.k5($.value.shape,j.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),m($.grads),$}}function s(g,S){M.hu(M.mf(g),()=>"The f passed in variableGrads(f) must be a function"),M.hu(null==S||Array.isArray(S)&&S.every(G=>G instanceof B._w),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const j=null!=S;if(!j){S=[];for(const G in b.BV.registeredVariables)S.push(b.BV.registeredVariables[G])}const $=j?S.filter(G=>!G.trainable):null,Y=S.length;S=S.filter(G=>G.trainable),M.hu(S.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${Y} variables is trainable.`);const{value:dt,grads:ht}=b.BV.gradients(g,S,null,!0);M.hu(ht.some(G=>null!=G),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),M.hu(0===dt.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${dt.rank} tensor`);const Wt={};return S.forEach((G,et)=>{null!=ht[et]&&(Wt[G.name]=ht[et])}),null!=$&&$.forEach(G=>Wt[G.name]=null),{value:dt,grads:Wt}}function d(g){return b.BV.customGrad(g)}function m(g){if(g.filter(j=>null==j).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},9075:(vt,L,t)=>{"use strict";t.r(L),t.d(L,{Abs:()=>Pt.SYM,Acos:()=>Pt.VGw,Acosh:()=>Pt.SpW,AdadeltaOptimizer:()=>kr,AdagradOptimizer:()=>Vr,AdamOptimizer:()=>Ir,AdamaxOptimizer:()=>Er,Add:()=>Pt.mm_,AddN:()=>Pt.Xze,All:()=>Pt.oT6,Any:()=>Pt.IKK,ArgMax:()=>Pt.sJF,ArgMin:()=>Pt.aJk,Asin:()=>Pt.M2y,Asinh:()=>Pt.qw7,Atan:()=>Pt.jMg,Atan2:()=>Pt.QCc,Atanh:()=>Pt.Oyi,AvgPool:()=>Pt.JhU,AvgPool3D:()=>Pt._k9,AvgPool3DGrad:()=>Pt.IMb,AvgPoolGrad:()=>Pt.ROF,BatchMatMul:()=>Pt.XLW,BatchToSpaceND:()=>Pt.zws,Bincount:()=>Pt.zvY,BitwiseAnd:()=>Pt.hCO,BroadcastArgs:()=>Pt.eEB,BroadcastTo:()=>Pt.Ly9,Cast:()=>Pt.RFZ,Ceil:()=>Pt.gJX,ClipByValue:()=>Pt.xnO,Complex:()=>Pt.Zz9,ComplexAbs:()=>Pt.yj2,Concat:()=>Pt.Eh3,Conv2D:()=>Pt.mhS,Conv2DBackpropFilter:()=>Pt.wUP,Conv2DBackpropInput:()=>Pt.wm,Conv3D:()=>Pt.x12,Conv3DBackpropFilterV2:()=>Pt.o2y,Conv3DBackpropInputV2:()=>Pt.ik2,Cos:()=>Pt.mc4,Cosh:()=>Pt.TR1,CropAndResize:()=>Pt.VcC,Cumprod:()=>Pt.Byc,Cumsum:()=>Pt.iHb,DataStorage:()=>_a.JL,DenseBincount:()=>Pt.QRR,DepthToSpace:()=>Pt.T0n,DepthwiseConv2dNative:()=>Pt.cie,DepthwiseConv2dNativeBackpropFilter:()=>Pt.sL$,DepthwiseConv2dNativeBackpropInput:()=>Pt.y7R,Diag:()=>Pt.$w,Dilation2D:()=>Pt.p4S,Dilation2DBackpropFilter:()=>Pt.Vn9,Dilation2DBackpropInput:()=>Pt.ekb,Draw:()=>Pt.hGc,ENV:()=>Q.Vi,Einsum:()=>Pt.$g6,Elu:()=>Pt.SX0,EluGrad:()=>Pt.HEU,Environment:()=>Q.qA,Equal:()=>Pt.hdR,Erf:()=>Pt.Omj,Exp:()=>Pt.NEP,ExpandDims:()=>Pt.YFo,Expm1:()=>Pt.Y0y,FFT:()=>Pt.vwp,Fill:()=>Pt.deh,FlipLeftRight:()=>Pt.Uyb,Floor:()=>Pt.OR,FloorDiv:()=>Pt.jeX,FromPixels:()=>Pt.eBW,FusedBatchNorm:()=>Pt.sHE,FusedConv2D:()=>Pt._V0,FusedDepthwiseConv2D:()=>Pt.luS,GatherNd:()=>Pt.q1x,GatherV2:()=>Pt.qi_,Greater:()=>Pt.iZT,GreaterEqual:()=>Pt.Acj,IFFT:()=>Pt.Qg5,Identity:()=>Pt.iJz,Imag:()=>Pt.J_u,IsFinite:()=>Pt.avt,IsInf:()=>Pt.iWB,IsNan:()=>Pt.r7n,KernelBackend:()=>_a.Zu,LRN:()=>Pt.eZ0,LRNGrad:()=>Pt.Hhh,LeakyRelu:()=>Pt.J$2,Less:()=>Pt.vtC,LessEqual:()=>Pt.CAk,LinSpace:()=>Pt.e7N,Log:()=>Pt.ZbH,Log1p:()=>Pt.kU,LogSoftmax:()=>Pt.qCd,LogicalAnd:()=>Pt.PYm,LogicalNot:()=>Pt.VfG,LogicalOr:()=>Pt.MZg,LogicalXor:()=>Pt.w6g,LowerBound:()=>Pt.qIC,MatrixBandPart:()=>Pt.J7O,Max:()=>Pt.YoZ,MaxPool:()=>Pt.mTV,MaxPool3D:()=>Pt.OAf,MaxPool3DGrad:()=>Pt.OU7,MaxPoolGrad:()=>Pt.OV7,MaxPoolWithArgmax:()=>Pt.vFR,Maximum:()=>Pt.BMI,Mean:()=>Pt.q2K,Min:()=>Pt.c17,Minimum:()=>Pt.q8u,MirrorPad:()=>Pt.jQs,Mod:()=>Pt.Vbg,MomentumOptimizer:()=>Un,Multinomial:()=>Pt.NZg,Multiply:()=>Pt.wYn,Neg:()=>Pt.kuV,NonMaxSuppressionV3:()=>Pt.uv1,NonMaxSuppressionV4:()=>Pt.cye,NonMaxSuppressionV5:()=>Pt.W0H,NotEqual:()=>Pt.yQU,OP_SCOPE_SUFFIX:()=>Ot.zvA,OneHot:()=>Pt.we_,OnesLike:()=>Pt.qWM,Optimizer:()=>$n,OptimizerConstructors:()=>bs,Pack:()=>Pt.QiL,PadV2:()=>Pt.lyA,Pool:()=>Pt.Kgp,Pow:()=>Pt.pe_,Prelu:()=>Pt.o0g,Prod:()=>Pt.DlI,RMSPropOptimizer:()=>u,RaggedGather:()=>Pt.dDz,RaggedRange:()=>Pt.CQl,RaggedTensorToTensor:()=>Pt.BiW,Range:()=>Pt.e6w,Rank:()=>In.yw,Real:()=>Pt.xJR,RealDiv:()=>Pt.oHH,Reciprocal:()=>Pt.$HU,Reduction:()=>Ss.I,Relu:()=>Pt.qkr,Relu6:()=>Pt.SbG,Reshape:()=>Pt.HZH,ResizeBilinear:()=>Pt._Yw,ResizeBilinearGrad:()=>Pt.zbQ,ResizeNearestNeighbor:()=>Pt.dpD,ResizeNearestNeighborGrad:()=>Pt.Hmb,Reverse:()=>Pt.mKl,RotateWithOffset:()=>Pt.b9H,Round:()=>Pt.e07,Rsqrt:()=>Pt.bV0,SGDOptimizer:()=>br,ScatterNd:()=>Pt.xQA,SearchSorted:()=>Pt.nr8,Select:()=>Pt.PhF,Selu:()=>Pt.oFR,Sigmoid:()=>Pt.a5O,Sign:()=>Pt.i5y,Sin:()=>Pt.RQH,Sinh:()=>Pt.wYB,Slice:()=>Pt.p2w,Softmax:()=>Pt.Gcp,Softplus:()=>Pt.MRv,SpaceToBatchND:()=>Pt.TQc,SparseFillEmptyRows:()=>Pt.O3z,SparseReshape:()=>Pt.nhH,SparseSegmentMean:()=>Pt.w3H,SparseSegmentSum:()=>Pt.ZjV,SparseToDense:()=>Pt.D2d,SplitV:()=>Pt.L8s,Sqrt:()=>Pt.FKq,Square:()=>Pt.bK0,SquaredDifference:()=>Pt._tC,StaticRegexReplace:()=>Pt.e0R,Step:()=>Pt.h8e,StridedSlice:()=>Pt.jQk,StringNGrams:()=>Pt._JP,StringSplit:()=>Pt.s1s,StringToHashBucketFast:()=>Pt.XkS,Sub:()=>Pt.Tr8,Sum:()=>Pt.GBy,Tan:()=>Pt.sEM,Tanh:()=>Pt.MIZ,Tensor:()=>Ne.es,TensorBuffer:()=>Ne.YD,TensorScatterUpdate:()=>Pt.SIB,Tile:()=>Pt.n9L,TopK:()=>Pt.cWu,Transform:()=>Pt.wx7,Transpose:()=>Pt.G3Y,Unique:()=>Pt.kpP,Unpack:()=>Pt.ToN,UnsortedSegmentSum:()=>Pt.Qvg,UpperBound:()=>Pt.XDQ,Variable:()=>Ne._w,ZerosLike:()=>Pt.RuY,_FusedMatMul:()=>Pt.usg,abs:()=>Ot.WnP,acos:()=>Ot.Khb,acosh:()=>Ot.__u,add:()=>Ot.IHx,addN:()=>Ot.QBD,all:()=>Ot.$6P,any:()=>Ot.YjB,argMax:()=>Ot.NqF,argMin:()=>Ot.vHJ,asin:()=>Ot.ZRM,asinh:()=>Ot.VfV,atan:()=>Ot.z4N,atan2:()=>Ot.fvJ,atanh:()=>Ot.C80,avgPool:()=>Ot.wS1,avgPool3d:()=>Ot.uR5,backend:()=>te.y3,backend_util:()=>s,basicLSTMCell:()=>Ot.zEQ,batchNorm:()=>Ot.tgs,batchNorm2d:()=>Ot.Dxk,batchNorm3d:()=>Ot.JY5,batchNorm4d:()=>Ot.p3b,batchToSpaceND:()=>Ot.E4h,bincount:()=>Ot.yE8,bitwiseAnd:()=>Ot.ycw,booleanMaskAsync:()=>Ot.anm,broadcastArgs:()=>Ot.XsQ,broadcastTo:()=>Ot.UFq,broadcast_util:()=>ar,browser:()=>O,buffer:()=>Ot.f3b,cast:()=>Ot.pju,ceil:()=>Ot.mDi,clipByValue:()=>Ot.iUl,clone:()=>Ot.d9v,complex:()=>Ot.PYB,concat:()=>Ot.zoF,concat1d:()=>Ot.gME,concat2d:()=>Ot.Izb,concat3d:()=>Ot.MNy,concat4d:()=>Ot.ZaL,conv1d:()=>Ot.PAt,conv2d:()=>Ot.Tek,conv2dTranspose:()=>Ot.bc,conv3d:()=>Ot.pdZ,conv3dTranspose:()=>Ot.$QV,copyRegisteredKernels:()=>Xn.T3,cos:()=>Ot.mCk,cosh:()=>Ot.f9Y,cosineWindow:()=>Ot.mew,cumprod:()=>Ot.$Gn,cumsum:()=>Ot.zbp,customGrad:()=>Nn.cb,denseBincount:()=>Ot.ppE,deprecationWarn:()=>te.MX,depthToSpace:()=>Ot.nTT,depthwiseConv2d:()=>Ot.B10,device_util:()=>b,diag:()=>Ot.Ka3,dilation2d:()=>Ot.WmZ,disableDeprecationWarnings:()=>te.cF,dispose:()=>te.B9,disposeVariables:()=>te.N8,div:()=>Ot.hiC,divNoNan:()=>Ot.NTj,dot:()=>Ot.AKD,dropout:()=>Ot.rvX,einsum:()=>Ot.WYO,elu:()=>Ot.pyx,enableDebugMode:()=>te.R,enableProdMode:()=>te.G4,enclosingPowerOfTwo:()=>Ot.GRh,engine:()=>te.SR,ensureShape:()=>Ot.EDe,env:()=>Q.OB,equal:()=>Ot.DgJ,erf:()=>Ot.qNN,euclideanNorm:()=>Ot.d2q,exp:()=>Ot.Qqt,expandDims:()=>Ot.dt4,expm1:()=>Ot.t$B,eye:()=>Ot.iyy,fft:()=>Ot.kp_,fill:()=>Ot.hlL,findBackend:()=>te.x3,findBackendFactory:()=>te.ze,floor:()=>Ot.GWj,floorDiv:()=>Ot.qPi,fused:()=>Ot.imm,gather:()=>Ot.Iqj,gatherND:()=>Ot.dbB,gather_util:()=>E,getBackend:()=>te.N_,getGradient:()=>Xn.uk,getKernel:()=>Xn.pI,getKernelsForBackend:()=>Xn.tr,grad:()=>Nn.UQ,grads:()=>Nn.ti,greater:()=>Ot.pjt,greaterEqual:()=>Ot.brS,ifft:()=>Ot.Sxn,imag:()=>Ot.asL,image:()=>Ot.BHj,inTopKAsync:()=>Ot.V3u,io:()=>h,irfft:()=>Ot.wx0,isFinite:()=>Ot.xVT,isInf:()=>Ot.UWc,isNaN:()=>Ot.i2d,keep:()=>te.Cn,kernel_impls:()=>d,leakyRelu:()=>Ot.hi7,less:()=>Ot.d9m,lessEqual:()=>Ot.zN1,linalg:()=>Ot.$r2,linspace:()=>Ot.SX3,localResponseNormalization:()=>Ot.G9k,log:()=>Ot.cM7,log1p:()=>Ot.Krr,logSigmoid:()=>Ot.e_t,logSoftmax:()=>Ot.CmS,logSumExp:()=>Ot.l_t,logicalAnd:()=>Ot.HvI,logicalNot:()=>Ot.hJK,logicalOr:()=>Ot.K5V,logicalXor:()=>Ot.egP,losses:()=>Ot.MB5,lowerBound:()=>Ot.eab,matMul:()=>Ot.OI3,math:()=>M,max:()=>Ot.Fp7,maxPool:()=>Ot._sB,maxPool3d:()=>Ot.YQQ,maxPoolWithArgmax:()=>Ot.Ip$,maximum:()=>Ot.gWQ,mean:()=>Ot.J69,memory:()=>te.sq,meshgrid:()=>Ot.ry_,min:()=>Ot.VV$,minimum:()=>Ot.LTh,mirrorPad:()=>Ot.VdP,mod:()=>Ot.wQq,moments:()=>Ot.Gi7,movingAverage:()=>Ot.p_,mul:()=>Ot.dC7,multiRNNCell:()=>Ot.rq4,multinomial:()=>Ot.SJ_,neg:()=>Ot.W76,nextFrame:()=>ds,norm:()=>Ot.KOy,notEqual:()=>Ot.Quu,oneHot:()=>Ot.lfX,ones:()=>Ot.iUs,onesLike:()=>Ot.JpU,op:()=>Ot.op,outerProduct:()=>Ot.N2O,pad:()=>Ot.vku,pad1d:()=>Ot.pNR,pad2d:()=>Ot.koy,pad3d:()=>Ot.t1L,pad4d:()=>Ot.lGY,pool:()=>Ot.d_R,pow:()=>Ot.sQ3,prelu:()=>Ot.AL3,print:()=>Ot.S0v,prod:()=>Ot.WVs,profile:()=>te.N5,raggedGather:()=>Ot.$gW,raggedRange:()=>Ot.VT$,raggedTensorToTensor:()=>Ot.N89,rand:()=>Ot.TN_,randomGamma:()=>Ot.wzB,randomNormal:()=>Ot.nGf,randomStandardNormal:()=>Ot.ruB,randomUniform:()=>Ot.LGj,randomUniformInt:()=>Ot.pe5,range:()=>Ot.w6H,ready:()=>te.Cd,real:()=>Ot.kwC,reciprocal:()=>Ot.M25,registerBackend:()=>te.jq,registerGradient:()=>Xn.Li,registerKernel:()=>Xn.wC,relu:()=>Ot.UYe,relu6:()=>Ot.btT,removeBackend:()=>te.cj,reshape:()=>Ot.XLQ,reverse:()=>Ot.GYS,reverse1d:()=>Ot.SDf,reverse2d:()=>Ot.diP,reverse3d:()=>Ot.sx7,reverse4d:()=>Ot.mG2,rfft:()=>Ot.QEs,round:()=>Ot.NMM,rsqrt:()=>Ot.bp0,scalar:()=>Ot.iD$,scatterND:()=>Ot.snQ,scatter_util:()=>as,searchSorted:()=>Ot.zcT,selu:()=>Ot.U8D,separableConv2d:()=>Ot.U_I,serialization:()=>B,setBackend:()=>te.CQ,setPlatform:()=>te.VY,setdiff1dAsync:()=>Ot.ODp,sigmoid:()=>Ot.XD2,sign:()=>Ot.Xxe,signal:()=>Ot.tdS,sin:()=>Ot.O$l,sinh:()=>Ot.R_K,slice:()=>Ot.tPi,slice1d:()=>Ot.jZU,slice2d:()=>Ot.SmN,slice3d:()=>Ot.CnO,slice4d:()=>Ot.p0P,slice_util:()=>ts,softmax:()=>Ot.XAC,softplus:()=>Ot.Wvh,spaceToBatchND:()=>Ot.fBT,sparse:()=>Ot.rVs,sparseToDense:()=>Ot.ers,spectral:()=>Ot.uN7,split:()=>Ot.Vl2,sqrt:()=>Ot._b3,square:()=>Ot.h62,squaredDifference:()=>Ot.$i,squeeze:()=>Ot.L9e,stack:()=>Ot.knu,step:()=>Ot.Nbs,stridedSlice:()=>Ot.NXj,string:()=>Ot.Z_8,sub:()=>Ot.luU,sum:()=>Ot.Smz,sumOutType:()=>In.z4,tan:()=>Ot.ORZ,tanh:()=>Ot.AEp,tensor:()=>Ot.XeE,tensor1d:()=>Ot.RRF,tensor2d:()=>Ot.odF,tensor3d:()=>Ot.wOQ,tensor4d:()=>Ot.yXz,tensor5d:()=>Ot.Bfx,tensor6d:()=>Ot.xZs,tensorScatterUpdate:()=>Ot.Pg0,tensor_util:()=>Ws,test_util:()=>v,tidy:()=>te.lu,tile:()=>Ot.Gg6,time:()=>te.XV,topk:()=>Ot.hg7,train:()=>Xr,transpose:()=>Ot.p4s,truncatedNormal:()=>Ot.Xu6,unique:()=>Ot.Two,unregisterGradient:()=>Xn.bt,unregisterKernel:()=>Xn.nE,unsortedSegmentSum:()=>Ot.pUJ,unstack:()=>Ot.HHK,upcastType:()=>In.x8,upperBound:()=>Ot.GaM,util:()=>x,valueAndGrad:()=>Nn.h7,valueAndGrads:()=>Nn.fN,variable:()=>Ot.VD$,variableGrads:()=>Nn.pn,version_core:()=>Is,where:()=>Ot.arb,whereAsync:()=>Ot.itS,zeros:()=>Ot.lls,zerosLike:()=>Ot.P84});var b={};t.r(b),t.d(b,{isBrowser:()=>Y,isMobile:()=>$,mockIsMobile:()=>j});var B={};t.r(B),t.d(B,{Serializable:()=>Fr,SerializationMap:()=>rr,getRegisteredName:()=>Jr,registerClass:()=>sr});var h={};t.r(h),t.d(h,{CompositeArrayBuffer:()=>N,browserFiles:()=>an,browserHTTPRequest:()=>K,concatenateArrayBuffers:()=>kt,copyModel:()=>Et,decodeWeights:()=>a,encodeWeights:()=>H,fromMemory:()=>ue,fromMemorySync:()=>fe,getLoadHandlers:()=>de,getModelArtifactsForJSON:()=>Pe,getModelArtifactsForJSONSync:()=>ie,getModelArtifactsInfoForJSON:()=>ke,getSaveHandlers:()=>zt,getWeightSpecs:()=>Se,http:()=>F,isHTTPScheme:()=>D,listModels:()=>gr,loadWeights:()=>Re,moveModel:()=>_t,registerLoadRouter:()=>Bt,registerSaveRouter:()=>ct,removeModel:()=>tt,weightsLoaderFactory:()=>en,withSaveHandler:()=>be,withSaveHandlerSync:()=>ze});var M={};t.r(M),t.d(M,{confusionMatrix:()=>pn});var O={};t.r(O),t.d(O,{draw:()=>Us,fromPixels:()=>sa,fromPixelsAsync:()=>na,toPixels:()=>ra});var E={};t.r(E),t.d(E,{prepareAndValidate:()=>Ps});var v={};t.r(v),t.d(v,{TEST_EPSILON_FLOAT16:()=>Rr,createVideoElement:()=>aa,encodeStrings:()=>fs,expectArrayBuffersEqual:()=>Fs,expectArraysClose:()=>Sr,expectArraysEqual:()=>es,expectNumbersClose:()=>vr,expectPromiseToFail:()=>Ks,expectValuesInRange:()=>is,play:()=>oa,testEpsilon:()=>Ms});var f={};t.r(f),t.d(f,{collectGatherOpShapeInfo:()=>Rs,computeOutShape:()=>pa,segOpComputeOptimalWindowSize:()=>da});var s={};t.r(s),t.d(s,{ERF_A1:()=>i,ERF_A2:()=>I,ERF_A3:()=>W,ERF_A4:()=>X,ERF_A5:()=>ft,ERF_P:()=>gs,PARALLELIZE_THRESHOLD:()=>Bs,RowPartitionType:()=>Cr,SELU_SCALE:()=>ms.$,SELU_SCALEALPHA:()=>ms.y,applyActivation:()=>ps.QH,assertAndGetBroadcastShape:()=>ar.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>zr.lB,assertParamsConsistent:()=>Vs,assignToTypedArray:()=>Be,axesAreInnerMostDims:()=>zr.YB,calculateShapes:()=>as.calculateShapes,checkEinsumDimSizes:()=>or,checkPadOnDimRoundingMode:()=>Or.m,combineLocations:()=>zr.Vh,combineRaggedTensorToTensorShapes:()=>ia,complexWithEvenIndex:()=>Xt,complexWithOddIndex:()=>he,computeConv2DInfo:()=>Or.Ix,computeConv3DInfo:()=>Or.jw,computeDefaultPad:()=>Or.aO,computeDilation2DInfo:()=>Or.Rf,computeOptimalWindowSize:()=>la,computeOutAndReduceShapes:()=>zr.kz,computeOutShape:()=>zs,computePool2DInfo:()=>Or.Xw,computePool3DInfo:()=>Or.pl,convertConv2DDataFormat:()=>Or.sl,decodeEinsumEquation:()=>qn,eitherStridesOrDilationsAreOne:()=>Or.jT,expandShapeToKeepDim:()=>zr.rv,exponent:()=>Oe,exponents:()=>Ke,fromStringArrayToUint8:()=>Aa,fromUint8ToStringArray:()=>Pa,getAxesPermutation:()=>zr.Q3,getBroadcastDims:()=>ar.getBroadcastDims,getComplexWithIndex:()=>pe,getEinsumComputePath:()=>dn,getEinsumPermutation:()=>Tr,getFusedBiasGradient:()=>ps.pf,getFusedDyActivation:()=>ps.Fr,getImageCenter:()=>ca,getInnerMostAxes:()=>zr.sY,getPermuted:()=>xs,getRaggedRank:()=>Ns,getReductionAxes:()=>ar.getReductionAxes,getReshaped:()=>Gs,getReshapedPermuted:()=>Hs,getRowPartitionTypesHelper:()=>ua,getSliceBeginCoords:()=>us,getSliceSize:()=>Xs,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Zs,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>rs,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Lr,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>ha,getSparseReshapeInputOutputMismatchErrorMessage:()=>Ea,getSparseReshapeInputOutputMultipleErrorMessage:()=>ya,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>ws,getSparseReshapeNegativeOutputDimErrorMessage:()=>va,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Da,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Oa,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Ta,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>fa,getUndoAxesPermutation:()=>zr.LJ,isIdentityPermutation:()=>Fn,log:()=>at.c,mergeRealAndImagArrays:()=>lt,prepareAndValidate:()=>Ps,prepareSplitSize:()=>jr,segment_util:()=>f,shouldFuse:()=>ps.uy,slice_util:()=>ts,splitRealAndImagArrays:()=>St,stridesOrDilationsArePositive:()=>Or.U3,tupleValuesAreOne:()=>Or.I0,upcastType:()=>In.x8,validateDefaultValueShape:()=>js,validateInput:()=>as.validateInput,validateUpdateShape:()=>as.validateUpdateShape,warn:()=>at.Z});var d={};t.r(d),t.d(d,{nonMaxSuppressionV3Impl:()=>ma.GP,nonMaxSuppressionV4Impl:()=>ma.qP,nonMaxSuppressionV5Impl:()=>ma.pA,whereImpl:()=>Ma.Z});var m=t(687);let S;function j(p){S=p}function $(p){if(void 0!==S)return S;if(p||function g(){return typeof navigator<"u"&&null!=navigator}()){if(p||(p=navigator),"ReactNative"===p.product)return!0;const l=p.userAgent||p.vendor||(typeof window<"u"?window.opera:"");return l?/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(l)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(l.substr(0,4)):p.userAgentData&&p.userAgentData.mobile}return!1}function Y(){return typeof window<"u"&&null!=window.document||typeof WorkerGlobalScope<"u"}var Q=t(5527);const dt=(0,Q.OB)();dt.registerFlag("DEBUG",()=>!1,p=>{p&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),dt.registerFlag("IS_BROWSER",()=>Y()),dt.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),dt.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),dt.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),dt.registerFlag("PROD",()=>!1),dt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>dt.getBool("DEBUG")),dt.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),dt.registerFlag("IS_TEST",()=>!1),dt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>dt.getBool("DEBUG")),dt.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),dt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),dt.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);var ht=t(5861),Wt=t(3037),G=t(3905),et=t(5359);const nt={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};var x=t(1153);class N{static join(l){return new N(l).slice()}constructor(l){if(this.shards=[],this.previousShardIndex=0,null==l||(l instanceof Array||(l=[l]),0===(l=l.map(A=>x.isTypedArray(A)?A.buffer:A)).length))return;this.bufferUniformSize=l[0].byteLength;let y=0;for(let A=0;A<l.length;A++){const V=l[A];A!==l.length-1&&V.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const st=y+V.byteLength;this.shards.push({buffer:V,start:y,end:st}),y=st}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(l=0,y=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(l=isNaN(Number(l))?0:l,y=isNaN(Number(y))?0:y,l=Math.max(0,l),(y=Math.min(this.byteLength,y))<=l)return new ArrayBuffer(0);const A=this.findShardForByte(l);if(-1===A)throw new Error(`Could not find start shard for byte ${l}`);const st=new ArrayBuffer(y-l),Tt=new Uint8Array(st);let Rt=0;for(let Kt=A;Kt<this.shards.length;Kt++){const Gt=this.shards[Kt],Jt=l+Rt-Gt.start,le=Rt,Xe=Math.min(y,Gt.end)-Gt.start,Ze=new Uint8Array(Gt.buffer,Jt,Xe-Jt);if(Tt.set(Ze,le),Rt+=Ze.length,y<Gt.end)break}return st}findShardForByte(l){if(0===this.shards.length||l<0||l>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(l/this.bufferUniformSize),this.previousShardIndex;function y(V){return l<V.start?-1:l>=V.end?1:0}if(0===y(this.shards[this.previousShardIndex]))return this.previousShardIndex;const A=function c(p,l){let y=0,A=p.length;for(;y<=A;){const V=Math.floor((A-y)/2)+y,st=l(p[V]);if(0===st)return V;st<0?A=V:y=V+1}return-1}(this.shards,y);return-1===A?-1:(this.previousShardIndex=A,this.previousShardIndex)}}const R=4;function H(p,l){return ut.apply(this,arguments)}function ut(){return ut=(0,ht.Z)(function*(p,l){const y=[],A=[],V=Array.isArray(p)?p.map(Tt=>Tt.name):Object.keys(p);for(let Tt=0;Tt<V.length;++Tt){const Rt=V[Tt],Kt=Array.isArray(p)?p[Tt].tensor:p[Rt];if("float32"!==Kt.dtype&&"int32"!==Kt.dtype&&"bool"!==Kt.dtype&&"string"!==Kt.dtype&&"complex64"!==Kt.dtype)throw new Error(`Unsupported dtype in weight '${Rt}': ${Kt.dtype}`);const Gt={name:Rt,shape:Kt.shape,dtype:Kt.dtype};if("string"===Kt.dtype){const ye=new Promise(function(){var Jt=(0,ht.Z)(function*(le){const Te=yield Kt.bytes(),Xe=Te.reduce((Rn,kn)=>Rn+kn.length,0)+R*Te.length,Ze=new Uint8Array(Xe);let je=0;for(let Rn=0;Rn<Te.length;Rn++){const kn=Te[Rn],ys=new Uint8Array(new Uint32Array([kn.length]).buffer);Ze.set(ys,je),je+=R,Ze.set(kn,je),je+=kn.length}le(Ze)});return function(le){return Jt.apply(this,arguments)}}());A.push(ye)}else A.push(Kt.data());null!=l&&(Gt.group=l),y.push(Gt)}return{data:bt(yield Promise.all(A)),specs:y}}),ut.apply(this,arguments)}function a(p,l){const y=new N(p),A={};let V,st=0;for(const Tt of l){const Rt=Tt.name,Kt=Tt.dtype,Gt=Tt.shape,ye=(0,et.NA)(Gt);let Jt;if("quantization"in Tt){const le=Tt.quantization;if("uint8"===le.dtype||"uint16"===le.dtype){if(!("min"in le)||!("scale"in le))throw new Error(`Weight ${Tt.name} with quantization ${le.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==le.dtype)throw new Error(`Weight ${Tt.name} has unknown quantization dtype ${le.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==Kt)throw new Error(`Weight ${Tt.name} is quantized with ${le.dtype} which only supports weights of type float32 not ${Kt}.`)}const Te=nt[le.dtype],Xe=y.slice(st,st+ye*Te),Ze="uint8"===le.dtype?new Uint8Array(Xe):new Uint16Array(Xe);if("float32"===Kt)if("uint8"===le.dtype||"uint16"===le.dtype){Jt=new Float32Array(Ze.length);for(let je=0;je<Ze.length;je++)Jt[je]=Ze[je]*le.scale+le.min}else{if("float16"!==le.dtype)throw new Error(`Unsupported quantization type ${le.dtype} for weight type float32.`);void 0===V&&(V=An()),Jt=V(Ze)}else{if("int32"!==Kt)throw new Error(`Unsupported dtype in weight '${Rt}': ${Kt}`);if("uint8"!==le.dtype&&"uint16"!==le.dtype)throw new Error(`Unsupported quantization type ${le.dtype} for weight type int32.`);Jt=new Int32Array(Ze.length);for(let je=0;je<Ze.length;je++)Jt[je]=Math.round(Ze[je]*le.scale+le.min)}st+=ye*Te}else if("string"===Kt){const le=(0,et.NA)(Tt.shape);Jt=[];for(let Te=0;Te<le;Te++){const Xe=new Uint32Array(y.slice(st,st+R))[0];st+=R;const Ze=new Uint8Array(y.slice(st,st+Xe));Jt.push(Ze),st+=Xe}}else{const le=nt[Kt],Te=y.slice(st,st+ye*le);if("float32"===Kt)Jt=new Float32Array(Te);else if("int32"===Kt)Jt=new Int32Array(Te);else if("bool"===Kt)Jt=new Uint8Array(Te);else{if("complex64"!==Kt)throw new Error(`Unsupported dtype in weight '${Rt}': ${Kt}`);{Jt=new Float32Array(Te);const Xe=new Float32Array(Jt.length/2),Ze=new Float32Array(Jt.length/2);for(let kn=0;kn<Xe.length;kn++)Xe[kn]=Jt[2*kn],Ze[kn]=Jt[2*kn+1];const je=(0,G.X)(Xe,Gt,"float32"),Rn=(0,G.X)(Ze,Gt,"float32");A[Rt]=(0,Wt.P)(je,Rn),je.dispose(),Rn.dispose()}}st+=ye*le}"complex64"!==Kt&&(A[Rt]=(0,G.X)(Jt,Gt,Kt))}return A}function bt(p){if(null===p)throw new Error(`Invalid input value: ${JSON.stringify(p)}`);let l=0;const y=[];p.forEach(st=>{if(l+=st.byteLength,y.push(st.byteLength===st.buffer.byteLength?st:new st.constructor(st)),!(st instanceof Float32Array||st instanceof Int32Array||st instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${st.constructor.name}`)});const A=new Uint8Array(l);let V=0;return y.forEach(st=>{A.set(new Uint8Array(st.buffer),V),V+=st.byteLength}),A.buffer}const q=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function it(p){return q?Buffer.byteLength(p,"utf8"):new Blob([p]).size}function kt(p){return N.join(p)}function Qt(p){for(p=p.trim();p.endsWith("/");)p=p.slice(0,p.length-1);const y=p.split("/");return y[y.length-1]}function ce(p,l){const y={modelTopology:p.modelTopology,format:p.format,generatedBy:p.generatedBy,convertedBy:p.convertedBy,weightsManifest:l};return null!=p.signature&&(y.signature=p.signature),null!=p.userDefinedMetadata&&(y.userDefinedMetadata=p.userDefinedMetadata),null!=p.modelInitializer&&(y.modelInitializer=p.modelInitializer),null!=p.initializerSignature&&(y.initializerSignature=p.initializerSignature),null!=p.trainingConfig&&(y.trainingConfig=p.trainingConfig),y}function ie(p,l,y){const A={modelTopology:p.modelTopology,format:p.format,generatedBy:p.generatedBy,convertedBy:p.convertedBy};if(null!=p.trainingConfig&&(A.trainingConfig=p.trainingConfig),null!=p.weightsManifest){if(!l)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!y)throw new Error("modelJSON has weightsManifest but weightData is null");A.weightSpecs=l,A.weightData=y}return null!=p.signature&&(A.signature=p.signature),null!=p.userDefinedMetadata&&(A.userDefinedMetadata=p.userDefinedMetadata),null!=p.modelInitializer&&(A.modelInitializer=p.modelInitializer),null!=p.initializerSignature&&(A.initializerSignature=p.initializerSignature),A}function Pe(p,l){return ae.apply(this,arguments)}function ae(){return(ae=(0,ht.Z)(function*(p,l){let y,A;return null!=p.weightsManifest&&([y,A]=yield l(p.weightsManifest)),ie(p,y,A)})).apply(this,arguments)}function ke(p){if(p.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==p.modelTopology?0:it(JSON.stringify(p.modelTopology)),weightSpecsBytes:null==p.weightSpecs?0:it(JSON.stringify(p.weightSpecs)),weightDataBytes:null==p.weightData?0:new N(p.weightData).byteLength}}function Se(p){const l=[];for(const y of p)l.push(...y.weights);return l}function An(){const p=function on(){const p=y=>{let A=y<<13,V=0;for(;!(8388608&A);)V-=8388608,A<<=1;return A&=-8388609,V+=947912704,A|V},l=new Uint32Array(2048);l[0]=0;for(let y=1;y<1024;y++)l[y]=p(y);for(let y=1024;y<2048;y++)l[y]=939524096+(y-1024<<13);return l}(),l=function _n(){const p=new Uint32Array(64);p[0]=0,p[31]=1199570944,p[32]=2147483648,p[63]=3347054592;for(let l=1;l<31;l++)p[l]=l<<23;for(let l=33;l<63;l++)p[l]=2147483648+(l-32<<23);return p}(),y=function vn(){const p=new Uint32Array(64);for(let l=0;l<64;l++)p[l]=1024;return p[0]=p[32]=0,p}();return A=>{const V=new ArrayBuffer(4*A.length),st=new Uint32Array(V);for(let Tt=0;Tt<A.length;Tt++){const Rt=A[Tt];st[Tt]=p[y[Rt>>10]+(1023&Rt)]+l[Rt>>10]}return new Float32Array(V)}}class Je{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Je.instance&&(Je.instance=new Je),Je.instance}static registerSaveRouter(l){Je.getInstance().saveRouters.push(l)}static registerLoadRouter(l){Je.getInstance().loadRouters.push(l)}static getSaveHandlers(l){return Je.getHandlers(l,"save")}static getLoadHandlers(l,y){return Je.getHandlers(l,"load",y)}static getHandlers(l,y,A){const V=[];return("load"===y?Je.getInstance().loadRouters:Je.getInstance().saveRouters).forEach(Tt=>{const Rt=Tt(l,A);null!==Rt&&V.push(Rt)}),V}}const ct=p=>Je.registerSaveRouter(p),Bt=p=>Je.registerLoadRouter(p),zt=p=>Je.getSaveHandlers(p),de=(p,l)=>Je.getLoadHandlers(p,l),Ve="tensorflowjs",qe="models_store",un="model_info_store";function hr(){if(!(0,Q.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const p=typeof window>"u"?self:window,l=p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB||p.shimIndexedDB;if(null==l)throw new Error("The current browser does not appear to support IndexedDB.");return l}function zn(p){const l=p.result;l.createObjectStore(qe,{keyPath:"modelPath"}),l.createObjectStore(un,{keyPath:"modelPath"})}let jn=(()=>{class p{constructor(y){if(this.indexedDB=hr(),null==y||!y)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=y}save(y){var A=this;return(0,ht.Z)(function*(){if(y.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return A.databaseAction(A.modelPath,y)})()}load(){var y=this;return(0,ht.Z)(function*(){return y.databaseAction(y.modelPath)})()}databaseAction(y,A){return new Promise((V,st)=>{const Tt=this.indexedDB.open(Ve,1);Tt.onupgradeneeded=()=>zn(Tt),Tt.onsuccess=()=>{const Rt=Tt.result;if(null==A){const Kt=Rt.transaction(qe,"readonly"),ye=Kt.objectStore(qe).get(this.modelPath);ye.onsuccess=()=>{if(null==ye.result)return Rt.close(),st(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));V(ye.result.modelArtifacts)},ye.onerror=Jt=>(Rt.close(),st(ye.error)),Kt.oncomplete=()=>Rt.close()}else{A.weightData=N.join(A.weightData);const Kt=ke(A),Gt=Rt.transaction(un,"readwrite");let Jt,le,ye=Gt.objectStore(un);try{Jt=ye.put({modelPath:this.modelPath,modelArtifactsInfo:Kt})}catch(Te){return st(Te)}Jt.onsuccess=()=>{le=Rt.transaction(qe,"readwrite");const Te=le.objectStore(qe);let Xe;try{Xe=Te.put({modelPath:this.modelPath,modelArtifacts:A,modelArtifactsInfo:Kt})}catch(Ze){return st(Ze)}Xe.onsuccess=()=>V({modelArtifactsInfo:Kt}),Xe.onerror=Ze=>{ye=Gt.objectStore(un);const je=ye.delete(this.modelPath);je.onsuccess=()=>(Rt.close(),st(Xe.error)),je.onerror=Rn=>(Rt.close(),st(Xe.error))}},Jt.onerror=Te=>(Rt.close(),st(Jt.error)),Gt.oncomplete=()=>{null==le?Rt.close():le.oncomplete=()=>Rt.close()}}},Tt.onerror=Rt=>st(Tt.error)})}}return p.URL_SCHEME="indexeddb://",p})();const xn=p=>(0,Q.OB)().getBool("IS_BROWSER")&&!Array.isArray(p)&&p.startsWith(jn.URL_SCHEME)?function Nr(p){return new jn(p)}(p.slice(jn.URL_SCHEME.length)):null;Je.registerSaveRouter(xn),Je.registerLoadRouter(xn);class xr{constructor(){this.indexedDB=hr()}listModels(){var l=this;return(0,ht.Z)(function*(){return new Promise((y,A)=>{const V=l.indexedDB.open(Ve,1);V.onupgradeneeded=()=>zn(V),V.onsuccess=()=>{const st=V.result,Tt=st.transaction(un,"readonly"),Kt=Tt.objectStore(un).getAll();Kt.onsuccess=()=>{const Gt={};for(const ye of Kt.result)Gt[ye.modelPath]=ye.modelArtifactsInfo;y(Gt)},Kt.onerror=Gt=>(st.close(),A(Kt.error)),Tt.oncomplete=()=>st.close()},V.onerror=st=>A(V.error)})})()}removeModel(l){var y=this;return(0,ht.Z)(function*(){return l=function Br(p){return p.startsWith(jn.URL_SCHEME)?p.slice(jn.URL_SCHEME.length):p}(l),new Promise((A,V)=>{const st=y.indexedDB.open(Ve,1);st.onupgradeneeded=()=>zn(st),st.onsuccess=()=>{const Tt=st.result,Rt=Tt.transaction(un,"readwrite"),Kt=Rt.objectStore(un),Gt=Kt.get(l);let ye;Gt.onsuccess=()=>{if(null==Gt.result)return Tt.close(),V(new Error(`Cannot find model with path '${l}' in IndexedDB.`));{const Jt=Kt.delete(l),le=()=>{ye=Tt.transaction(qe,"readwrite");const Xe=ye.objectStore(qe).delete(l);Xe.onsuccess=()=>A(Gt.result.modelArtifactsInfo),Xe.onerror=Ze=>V(Gt.error)};Jt.onsuccess=le,Jt.onerror=Te=>(le(),Tt.close(),V(Gt.error))}},Gt.onerror=Jt=>(Tt.close(),V(Gt.error)),Rt.oncomplete=()=>{null==ye?Tt.close():ye.oncomplete=()=>Tt.close()}},st.onerror=Tt=>V(st.error)})})()}}const Pn="/",Gn="tensorflowjs_models",Yn="info",fr="model_topology",On="weight_specs",dr="weight_data",Ar="model_metadata";function pr(p){return{info:[Gn,p,Yn].join(Pn),topology:[Gn,p,fr].join(Pn),weightSpecs:[Gn,p,On].join(Pn),weightData:[Gn,p,dr].join(Pn),modelMetadata:[Gn,p,Ar].join(Pn)}}function pt(p){for(const l of Object.values(p))window.localStorage.removeItem(l)}function er(p){const l=p.split(Pn);if(l.length<3)throw new Error(`Invalid key format: ${p}`);return l.slice(1,l.length-1).join(Pn)}let Ye=(()=>{class p{constructor(y){if(!(0,Q.OB)().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==y||!y)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=y,this.keys=pr(this.modelPath)}save(y){var A=this;return(0,ht.Z)(function*(){if(y.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const V=JSON.stringify(y.modelTopology),st=JSON.stringify(y.weightSpecs),Tt=ke(y),Rt=N.join(y.weightData);try{return A.LS.setItem(A.keys.info,JSON.stringify(Tt)),A.LS.setItem(A.keys.topology,V),A.LS.setItem(A.keys.weightSpecs,st),A.LS.setItem(A.keys.weightData,function Dt(p){if(q)return Buffer.from(p).toString("base64");const l=new Uint8Array(p);let y="";for(let A=0,V=l.length;A<V;A++)y+=String.fromCharCode(l[A]);return btoa(y)}(Rt)),A.LS.setItem(A.keys.modelMetadata,JSON.stringify({format:y.format,generatedBy:y.generatedBy,convertedBy:y.convertedBy,signature:null!=y.signature?y.signature:void 0,userDefinedMetadata:null!=y.userDefinedMetadata?y.userDefinedMetadata:void 0,modelInitializer:null!=y.modelInitializer?y.modelInitializer:void 0,initializerSignature:null!=y.initializerSignature?y.initializerSignature:void 0,trainingConfig:null!=y.trainingConfig?y.trainingConfig:void 0})),{modelArtifactsInfo:Tt}}catch{throw pt(A.keys),new Error(`Failed to save model '${A.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${Tt.modelTopologyBytes}, weightSpecsBytes=${Tt.weightSpecsBytes}, weightDataBytes=${Tt.weightDataBytes}.`)}}})()}load(){var y=this;return(0,ht.Z)(function*(){const A=JSON.parse(y.LS.getItem(y.keys.info));if(null==A)throw new Error(`In local storage, there is no model with name '${y.modelPath}'`);if("JSON"!==A.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const V={},st=JSON.parse(y.LS.getItem(y.keys.topology));if(null==st)throw new Error(`In local storage, the topology of model '${y.modelPath}' is missing.`);V.modelTopology=st;const Tt=JSON.parse(y.LS.getItem(y.keys.weightSpecs));if(null==Tt)throw new Error(`In local storage, the weight specs of model '${y.modelPath}' are missing.`);V.weightSpecs=Tt;const Rt=y.LS.getItem(y.keys.modelMetadata);if(null!=Rt){const Gt=JSON.parse(Rt);V.format=Gt.format,V.generatedBy=Gt.generatedBy,V.convertedBy=Gt.convertedBy,null!=Gt.signature&&(V.signature=Gt.signature),null!=Gt.userDefinedMetadata&&(V.userDefinedMetadata=Gt.userDefinedMetadata),null!=Gt.modelInitializer&&(V.modelInitializer=Gt.modelInitializer),null!=Gt.initializerSignature&&(V.initializerSignature=Gt.initializerSignature),null!=Gt.trainingConfig&&(V.trainingConfig=Gt.trainingConfig)}const Kt=y.LS.getItem(y.keys.weightData);if(null==Kt)throw new Error(`In local storage, the binary weight values of model '${y.modelPath}' are missing.`);return V.weightData=function At(p){if(q){const A=Buffer.from(p,"base64");return A.buffer.slice(A.byteOffset,A.byteOffset+A.byteLength)}const l=atob(p),y=new Uint8Array(l.length);for(let A=0;A<l.length;++A)y.set([l.charCodeAt(A)],A);return y.buffer}(Kt),V})()}}return p.URL_SCHEME="localstorage://",p})();const $r=p=>(0,Q.OB)().getBool("IS_BROWSER")&&!Array.isArray(p)&&p.startsWith(Ye.URL_SCHEME)?function bn(p){return new Ye(p)}(p.slice(Ye.URL_SCHEME.length)):null;Je.registerSaveRouter($r),Je.registerLoadRouter($r);class Ur{constructor(){(0,et.hu)((0,Q.OB)().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),(0,et.hu)(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){var l=this;return(0,ht.Z)(function*(){const y={},A=Gn+Pn,V=Pn+Yn;for(let st=0;st<l.LS.length;++st){const Tt=l.LS.key(st);Tt.startsWith(A)&&Tt.endsWith(V)&&(y[er(Tt)]=JSON.parse(l.LS.getItem(Tt)))}return y})()}removeModel(l){var y=this;return(0,ht.Z)(function*(){const A=pr(l=function Qn(p){return p.startsWith(Ye.URL_SCHEME)?p.slice(Ye.URL_SCHEME.length):p}(l));if(null==y.LS.getItem(A.info))throw new Error(`Cannot find model at path '${l}'`);const V=JSON.parse(y.LS.getItem(A.info));return pt(A),V})()}}const Mn="://";class tn{constructor(){this.managers={}}static getInstance(){return null==tn.instance&&(tn.instance=new tn),tn.instance}static registerManager(l,y){(0,et.hu)(null!=l,()=>"scheme must not be undefined or null."),l.endsWith(Mn)&&(l=l.slice(0,l.indexOf(Mn))),(0,et.hu)(l.length>0,()=>"scheme must not be an empty string.");const A=tn.getInstance();(0,et.hu)(null==A.managers[l],()=>`A model store manager is already registered for scheme '${l}'.`),A.managers[l]=y}static getManager(l){const y=tn.getInstance().managers[l];if(null==y)throw new Error(`Cannot find model manager for scheme '${l}'`);return y}static getSchemes(){return Object.keys(tn.getInstance().managers)}}function mr(p){if(-1===p.indexOf(Mn))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${tn.getSchemes().join(",")}`);return{scheme:p.split(Mn)[0],path:p.split(Mn)[1]}}function Sn(p,l){return nr.apply(this,arguments)}function nr(){return(nr=(0,ht.Z)(function*(p,l,y=!1){(0,et.hu)(p!==l,()=>`Old path and new path are the same: '${p}'`);const A=Je.getLoadHandlers(p);(0,et.hu)(A.length>0,()=>`Copying failed because no load handler is found for source URL ${p}.`),(0,et.hu)(A.length<2,()=>`Copying failed because more than one (${A.length}) load handlers for source URL ${p}.`);const V=A[0],st=Je.getSaveHandlers(l);(0,et.hu)(st.length>0,()=>`Copying failed because no save handler is found for destination URL ${l}.`),(0,et.hu)(st.length<2,()=>`Copying failed because more than one (${A.length}) save handlers for destination URL ${l}.`);const Tt=st[0],Rt=mr(p).scheme,Kt=mr(p).path,Gt=Rt===mr(p).scheme,ye=yield V.load();y&&Gt&&(yield tn.getManager(Rt).removeModel(Kt));const Jt=yield Tt.save(ye);return y&&!Gt&&(yield tn.getManager(Rt).removeModel(Kt)),Jt.modelArtifactsInfo})).apply(this,arguments)}function gr(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,ht.Z)(function*(){const p=tn.getSchemes(),l={};for(const y of p){const A=yield tn.getManager(y).listModels();for(const V in A)l[y+Mn+V]=A[V]}return l})).apply(this,arguments)}function tt(p){return yt.apply(this,arguments)}function yt(){return(yt=(0,ht.Z)(function*(p){const l=mr(p);return tn.getManager(l.scheme).removeModel(l.path)})).apply(this,arguments)}function Et(p,l){return gt.apply(this,arguments)}function gt(){return(gt=(0,ht.Z)(function*(p,l){return Sn(p,l,!1)})).apply(this,arguments)}function _t(p,l){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,ht.Z)(function*(p,l){return Sn(p,l,!0)})).apply(this,arguments)}var Mt=t(4705);class $t{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(l,y){return fetch(l,y)}now(){return performance.now()}encode(l,y){if("utf-8"!==y&&"utf8"!==y)throw new Error(`Browser's encoder only supports utf-8, but got ${y}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(l)}decode(l,y){return new TextDecoder(y).decode(l)}setTimeoutCustom(l,y){typeof window>"u"||!(0,Q.OB)().getBool("USE_SETTIMEOUTCUSTOM")?setTimeout(l,y):(this.functionRefs.push(l),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},y),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",A=>{A.source===window&&A.data.name===this.messageName&&(A.stopPropagation(),(0,this.functionRefs[A.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0))},!0)))}isTypedArray(l){return(0,Mt.j)(l)}}if((0,Q.OB)().get("IS_BROWSER")){(0,Q.OB)().setPlatform("browser",new $t);try{tn.registerManager(Ye.URL_SCHEME,new Ur)}catch{}try{tn.registerManager(jn.URL_SCHEME,new xr)}catch{}}let jt;(0,Q.OB)().get("IS_NODE")&&!(0,Q.OB)().get("IS_BROWSER")&&(0,Q.OB)().setPlatform("node",new class oe{constructor(){this.util=t(8628),this.textEncoder=new this.util.TextEncoder}fetch(l,y){return null!=(0,Q.OB)().global.fetch?(0,Q.OB)().global.fetch(l,y):(null==jt&&(jt=t(5410)),jt(l,y))}now(){const l=process.hrtime();return 1e3*l[0]+l[1]/1e6}encode(l,y){if("utf-8"!==y&&"utf8"!==y)throw new Error(`Node built-in encoder only supports utf-8, but got ${y}`);return this.textEncoder.encode(l)}decode(l,y){return 0===l.length?"":new this.util.TextDecoder(y).decode(l)}isTypedArray(l){return this.util.types.isFloat32Array(l)||this.util.types.isInt32Array(l)||this.util.types.isUint8Array(l)||this.util.types.isUint8ClampedArray(l)}});var me=t(582),De=t(3062),xe=t(7315),Ee=t(3006),Ne=t(4945);(0,m.wv)(),(0,Ne.Vp)({buffer:me.f,cast:De.p,clone:xe.d,print:Ee.S});var te=t(2773),ge=t(7066),Ae=t(3530),Me=t(8737),yn=t(930),We=t(7527),Le=t(3143),Nn=t(3537),wn=t(8661);const ir=new Map,Kr=new Map;class Fr{getClassName(){return this.constructor.className}static fromConfig(l,y){return new l(y)}}class rr{constructor(){this.classNameMap={}}static getMap(){return null==rr.instance&&(rr.instance=new rr),rr.instance}static register(l){rr.getMap().classNameMap[l.className]=[l,l.fromConfig]}}function sr(p,l,y){(0,et.hu)(null!=p.className,()=>"Class being registered does not have the static className property defined."),(0,et.hu)("string"==typeof p.className,()=>"className is required to be a string, but got type "+typeof p.className),(0,et.hu)(p.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof l>"u"&&(l="Custom"),typeof y>"u"&&(y=p.className);const V=l+">"+y;return rr.register(p),ir.set(V,p),Kr.set(p,V),p}function Jr(p){return Kr.has(p)?Kr.get(p):p.className}class $n extends Fr{minimize(l,y=!1,A){const{value:V,grads:st}=this.computeGradients(l,A);if(null!=A){const Tt=A.map(Rt=>({name:Rt.name,tensor:st[Rt.name]}));this.applyGradients(Tt)}else this.applyGradients(st);return(0,te.B9)(st),y?V:(V.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(l,y){return(0,Nn.pn)(l,y)}dispose(){null!=this.iterations_&&(0,te.B9)(this.iterations_)}saveIterations(){var l=this;return(0,ht.Z)(function*(){return null==l.iterations_&&(l.iterations_=0),{name:"iter",tensor:(0,wn.i)(l.iterations_,"int32")}})()}getWeights(){return(0,ht.Z)(function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${y.getClassName()}`)})()}extractIterations(l){var y=this;return(0,ht.Z)(function*(){return y.iterations_=(yield l[0].tensor.data())[0],l.slice(1)})()}}Object.defineProperty($n,Symbol.hasInstance,{value:p=>null!=p.minimize&&null!=p.computeGradients&&null!=p.applyGradients});class kr extends $n{static get className(){return"Adadelta"}constructor(l,y,A=null){super(),this.learningRate=l,this.rho=y,this.epsilon=A,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==A&&(this.epsilon=m.BV.backend.epsilon())}applyGradients(l){(Array.isArray(l)?l.map(A=>A.name):Object.keys(l)).forEach((A,V)=>{const st=m.BV.registeredVariables[A];null==this.accumulatedGrads[V]&&(this.accumulatedGrads[V]={originalName:`${A}/accum_grad`,variable:(0,te.lu)(()=>(0,Le.P)(st).variable(!1))}),null==this.accumulatedUpdates[V]&&(this.accumulatedUpdates[V]={originalName:`${A}/accum_var`,variable:(0,te.lu)(()=>(0,Le.P)(st).variable(!1))});const Rt=Array.isArray(l)?l[V].tensor:l[A];if(null==Rt)return;const Kt=this.accumulatedGrads[V].variable,Gt=this.accumulatedUpdates[V].variable;(0,te.lu)(()=>{const ye=(0,ge.I)((0,Me.d)(Kt,this.rho),(0,Me.d)((0,We.h)(Rt),1-this.rho)),Jt=(0,Me.d)((0,Ae.h)((0,yn._)((0,ge.I)(Gt,this.epsilon)),(0,yn._)((0,ge.I)(Kt,this.epsilon))),Rt),le=(0,ge.I)((0,Me.d)(Gt,this.rho),(0,Me.d)((0,We.h)(Jt),1-this.rho));Kt.assign(ye),Gt.assign(le);const Te=(0,ge.I)((0,Me.d)(Jt,-this.learningRate),st);st.assign(Te)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&((0,te.B9)(this.accumulatedGrads.map(l=>l.variable)),(0,te.B9)(this.accumulatedUpdates.map(l=>l.variable)))}getWeights(){var l=this;return(0,ht.Z)(function*(){const y=[...l.accumulatedGrads,...l.accumulatedUpdates];return[yield l.saveIterations()].concat(y.map(A=>({name:A.originalName,tensor:A.variable})))})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){const A=(l=yield y.extractIterations(l)).length/2;y.accumulatedGrads=l.slice(0,A).map(st=>({originalName:st.name,variable:st.tensor.variable(!1)})),y.accumulatedUpdates=l.slice(A,2*A).map(st=>({originalName:st.name,variable:st.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(l,y){return new l(y.learningRate,y.rho,y.epsilon)}}var yr=t(2787);class Vr extends $n{static get className(){return"Adagrad"}constructor(l,y=.1){super(),this.learningRate=l,this.initialAccumulatorValue=y,this.accumulatedGrads=[]}applyGradients(l){(Array.isArray(l)?l.map(A=>A.name):Object.keys(l)).forEach((A,V)=>{const st=m.BV.registeredVariables[A];null==this.accumulatedGrads[V]&&(this.accumulatedGrads[V]={originalName:`${A}/accumulator`,variable:(0,te.lu)(()=>(0,yr.h)(st.shape,this.initialAccumulatorValue).variable(!1))});const Tt=Array.isArray(l)?l[V].tensor:l[A];if(null==Tt)return;const Rt=this.accumulatedGrads[V].variable;(0,te.lu)(()=>{const Kt=(0,ge.I)(Rt,(0,We.h)(Tt));Rt.assign(Kt);const Gt=(0,ge.I)((0,Me.d)((0,Ae.h)(Tt,(0,yn._)((0,ge.I)(Kt,m.BV.backend.epsilon()))),-this.learningRate),st);st.assign(Gt)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&(0,te.B9)(this.accumulatedGrads.map(l=>l.variable))}getWeights(){var l=this;return(0,ht.Z)(function*(){return[yield l.saveIterations()].concat(l.accumulatedGrads.map(y=>({name:y.originalName,tensor:y.variable})))})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){l=yield y.extractIterations(l),y.accumulatedGrads=l.map(V=>({originalName:V.name,variable:V.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(l,y){return new l(y.learningRate,y.initialAccumulatorValue)}}var Mr=t(2962),ur=t(1191);class Ir extends $n{static get className(){return"Adam"}constructor(l,y,A,V=null){super(),this.learningRate=l,this.beta1=y,this.beta2=A,this.epsilon=V,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],(0,te.lu)(()=>{this.accBeta1=(0,wn.i)(y).variable(),this.accBeta2=(0,wn.i)(A).variable()}),null==V&&(this.epsilon=m.BV.backend.epsilon())}applyGradients(l){const y=Array.isArray(l)?l.map(A=>A.name):Object.keys(l);(0,te.lu)(()=>{const A=(0,ur.l)(1,this.accBeta1),V=(0,ur.l)(1,this.accBeta2);y.forEach((st,Tt)=>{const Rt=m.BV.registeredVariables[st];null==this.accumulatedFirstMoment[Tt]&&(this.accumulatedFirstMoment[Tt]={originalName:`${st}/m`,variable:(0,te.lu)(()=>(0,Le.P)(Rt).variable(!1))}),null==this.accumulatedSecondMoment[Tt]&&(this.accumulatedSecondMoment[Tt]={originalName:`${st}/v`,variable:(0,te.lu)(()=>(0,Le.P)(Rt).variable(!1))});const Gt=Array.isArray(l)?l[Tt].tensor:l[st];if(null==Gt)return;const ye=this.accumulatedFirstMoment[Tt].variable,Jt=this.accumulatedSecondMoment[Tt].variable,le=(0,ge.I)((0,Me.d)(ye,this.beta1),(0,Me.d)(Gt,1-this.beta1)),Te=(0,ge.I)((0,Me.d)(Jt,this.beta2),(0,Me.d)((0,We.h)(Gt),1-this.beta2)),Xe=(0,Ae.h)(le,A),Ze=(0,Ae.h)(Te,V);ye.assign(le),Jt.assign(Te);const je=(0,ge.I)((0,Me.d)((0,Ae.h)(Xe,(0,ge.I)((0,yn._)(Ze),this.epsilon)),-this.learningRate),Rt);Rt.assign(je)}),this.accBeta1.assign((0,Me.d)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,Me.d)(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,te.B9)(this.accumulatedFirstMoment.map(l=>l.variable)),null!=this.accumulatedSecondMoment&&(0,te.B9)(this.accumulatedSecondMoment.map(l=>l.variable))}getWeights(){var l=this;return(0,ht.Z)(function*(){const y=[...l.accumulatedFirstMoment,...l.accumulatedSecondMoment];return[yield l.saveIterations()].concat(y.map(A=>({name:A.originalName,tensor:A.variable})))})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){l=yield y.extractIterations(l),(0,te.lu)(()=>{y.accBeta1.assign((0,Mr.s)(y.beta1,y.iterations_+1)),y.accBeta2.assign((0,Mr.s)(y.beta2,y.iterations_+1))});const A=l.length/2;y.accumulatedFirstMoment=l.slice(0,A).map(st=>({originalName:st.name,variable:st.tensor.variable(!1)})),y.accumulatedSecondMoment=l.slice(A,2*A).map(st=>({originalName:st.name,variable:st.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(l,y){return new l(y.learningRate,y.beta1,y.beta2,y.epsilon)}}var Hn=t(6989),wr=t(765);class Er extends $n{static get className(){return"Adamax"}constructor(l,y,A,V=null,st=0){super(),this.learningRate=l,this.beta1=y,this.beta2=A,this.epsilon=V,this.decay=st,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],(0,te.lu)(()=>{this.iteration=(0,wn.i)(0).variable(),this.accBeta1=(0,wn.i)(y).variable()}),null==V&&(this.epsilon=m.BV.backend.epsilon())}applyGradients(l){const y=Array.isArray(l)?l.map(A=>A.name):Object.keys(l);(0,te.lu)(()=>{const A=(0,ur.l)(1,this.accBeta1),V=(0,Ae.h)(-this.learningRate,(0,ge.I)((0,Me.d)(this.iteration,this.decay),1));y.forEach((st,Tt)=>{const Rt=m.BV.registeredVariables[st];null==this.accumulatedFirstMoment[Tt]&&(this.accumulatedFirstMoment[Tt]={originalName:`${st}/m`,variable:(0,Le.P)(Rt).variable(!1)}),null==this.accumulatedWeightedInfNorm[Tt]&&(this.accumulatedWeightedInfNorm[Tt]={originalName:`${st}/v`,variable:(0,Le.P)(Rt).variable(!1)});const Gt=Array.isArray(l)?l[Tt].tensor:l[st];if(null==Gt)return;const ye=this.accumulatedFirstMoment[Tt].variable,Jt=this.accumulatedWeightedInfNorm[Tt].variable,le=(0,ge.I)((0,Me.d)(ye,this.beta1),(0,Me.d)(Gt,1-this.beta1)),Te=(0,Me.d)(Jt,this.beta2),Xe=(0,Hn.W)(Gt),Ze=(0,wr.g)(Te,Xe);ye.assign(le),Jt.assign(Ze);const je=(0,ge.I)((0,Me.d)((0,Ae.h)(V,A),(0,Ae.h)(le,(0,ge.I)(Ze,this.epsilon))),Rt);Rt.assign(je)}),this.iteration.assign((0,ge.I)(this.iteration,1)),this.accBeta1.assign((0,Me.d)(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,te.B9)(this.accumulatedFirstMoment.map(l=>l.variable)),null!=this.accumulatedWeightedInfNorm&&(0,te.B9)(this.accumulatedWeightedInfNorm.map(l=>l.variable))}getWeights(){return(0,ht.Z)(function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})()}setWeights(l){return(0,ht.Z)(function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(l,y){return new l(y.learningRate,y.beta1,y.beta2,y.epsilon,y.decay)}}class br extends $n{static get className(){return"SGD"}constructor(l){super(),this.learningRate=l,this.setLearningRate(l)}applyGradients(l){(Array.isArray(l)?l.map(A=>A.name):Object.keys(l)).forEach((A,V)=>{const st=Array.isArray(l)?l[V].tensor:l[A];if(null==st)return;const Tt=m.BV.registeredVariables[A];(0,te.lu)(()=>{const Rt=(0,ge.I)((0,Me.d)(this.c,st),Tt);Tt.assign(Rt)})}),this.incrementIterations()}setLearningRate(l){this.learningRate=l,null!=this.c&&this.c.dispose(),this.c=(0,te.Cn)((0,wn.i)(-l))}dispose(){this.c.dispose()}getWeights(){var l=this;return(0,ht.Z)(function*(){return[yield l.saveIterations()]})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){if(0!==(l=yield y.extractIterations(l)).length)throw new Error("SGD optimizer does not have settable weights.")})()}getConfig(){return{learningRate:this.learningRate}}static fromConfig(l,y){return new l(y.learningRate)}}class Un extends br{static get className(){return"Momentum"}constructor(l,y,A=!1){super(l),this.learningRate=l,this.momentum=y,this.useNesterov=A,this.accumulations=[],this.m=(0,wn.i)(this.momentum)}applyGradients(l){(Array.isArray(l)?l.map(A=>A.name):Object.keys(l)).forEach((A,V)=>{const st=m.BV.registeredVariables[A];null==this.accumulations[V]&&(this.accumulations[V]={originalName:`${A}/momentum`,variable:(0,te.lu)(()=>(0,Le.P)(st).variable(!1))});const Tt=this.accumulations[V].variable,Rt=Array.isArray(l)?l[V].tensor:l[A];null!=Rt&&(0,te.lu)(()=>{let Kt;const Gt=(0,ge.I)((0,Me.d)(this.m,Tt),Rt);Kt=(0,ge.I)((0,Me.d)(this.c,this.useNesterov?(0,ge.I)(Rt,(0,Me.d)(Gt,this.m)):Gt),st),Tt.assign(Gt),st.assign(Kt)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&(0,te.B9)(this.accumulations.map(l=>l.variable))}setMomentum(l){this.momentum=l}getWeights(){var l=this;return(0,ht.Z)(function*(){return[yield l.saveIterations()].concat(l.accumulations.map(y=>({name:y.originalName,tensor:y.variable})))})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){l=yield y.extractIterations(l),y.accumulations=l.map(V=>({originalName:V.name,variable:V.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(l,y){return new l(y.learningRate,y.momentum,y.useNesterov)}}class u extends $n{static get className(){return"RMSProp"}constructor(l,y=.9,A=0,V=null,st=!1){if(super(),this.learningRate=l,this.decay=y,this.momentum=A,this.epsilon=V,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=st,null==V&&(this.epsilon=m.BV.backend.epsilon()),null==l)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(l){(Array.isArray(l)?l.map(A=>A.name):Object.keys(l)).forEach((A,V)=>{const st=m.BV.registeredVariables[A];null==this.accumulatedMeanSquares[V]&&(this.accumulatedMeanSquares[V]={originalName:`${A}/rms`,variable:(0,te.lu)(()=>(0,Le.P)(st).variable(!1))}),null==this.accumulatedMoments[V]&&(this.accumulatedMoments[V]={originalName:`${A}/momentum`,variable:(0,te.lu)(()=>(0,Le.P)(st).variable(!1))}),null==this.accumulatedMeanGrads[V]&&this.centered&&(this.accumulatedMeanGrads[V]={originalName:`${A}/mg`,variable:(0,te.lu)(()=>(0,Le.P)(st).variable(!1))});const Rt=Array.isArray(l)?l[V].tensor:l[A];if(null==Rt)return;const Kt=this.accumulatedMeanSquares[V].variable,Gt=this.accumulatedMoments[V].variable;(0,te.lu)(()=>{const ye=(0,ge.I)((0,Me.d)(Kt,this.decay),(0,Me.d)((0,We.h)(Rt),1-this.decay));if(this.centered){const Jt=this.accumulatedMeanGrads[V].variable,le=(0,ge.I)((0,Me.d)(Jt,this.decay),(0,Me.d)(Rt,1-this.decay)),Te=(0,Ae.h)((0,Me.d)(Rt,this.learningRate),(0,yn._)((0,ur.l)(ye,(0,ge.I)((0,We.h)(le),this.epsilon)))),Xe=(0,ge.I)((0,Me.d)(Gt,this.momentum),Te);Kt.assign(ye),Jt.assign(le),Gt.assign(Xe);const Ze=(0,ur.l)(st,Xe);st.assign(Ze)}else{const Jt=(0,ge.I)((0,Me.d)(Kt,this.decay),(0,Me.d)((0,We.h)(Rt),1-this.decay)),le=(0,ge.I)((0,Me.d)(Gt,this.momentum),(0,Ae.h)((0,Me.d)(Rt,this.learningRate),(0,yn._)((0,ge.I)(Jt,this.epsilon))));Kt.assign(Jt),Gt.assign(le);const Te=(0,ur.l)(st,le);st.assign(Te)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&(0,te.B9)(this.accumulatedMeanSquares.map(l=>l.variable)),null!=this.accumulatedMeanGrads&&this.centered&&(0,te.B9)(this.accumulatedMeanGrads.map(l=>l.variable)),null!=this.accumulatedMoments&&(0,te.B9)(this.accumulatedMoments.map(l=>l.variable))}getWeights(){var l=this;return(0,ht.Z)(function*(){const y=[...l.accumulatedMeanSquares,...l.accumulatedMoments];return l.centered&&y.push(...l.accumulatedMeanGrads),[yield l.saveIterations()].concat(y.map(A=>({name:A.originalName,tensor:A.variable})))})()}setWeights(l){var y=this;return(0,ht.Z)(function*(){l=yield y.extractIterations(l);const A=y.centered?l.length/3:l.length/2,V=!1;y.accumulatedMeanSquares=l.slice(0,A).map(st=>({originalName:st.name,variable:st.tensor.variable(V)})),y.accumulatedMoments=l.slice(A,2*A).map(st=>({originalName:st.name,variable:st.tensor.variable(V)})),y.centered&&(y.accumulatedMeanGrads=l.slice(2*A,3*A).map(st=>({originalName:st.name,variable:st.tensor.variable(V)})))})()}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(l,y){return new l(y.learningRate,y.decay,y.momentum,y.epsilon,y.centered)}}const _=[kr,Vr,Ir,Er,Un,u,br];function wt(p){return new Promise(l=>setTimeout(l)).then(p)}let Vt=(()=>{class p{constructor(y){if(!(0,Q.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");y.startsWith(p.URL_SCHEME)&&(y=y.slice(p.URL_SCHEME.length)),(null==y||0===y.length)&&(y="model"),this.modelJsonFileName=y+".json",this.weightDataFileName=y+".weights.bin"}save(y){var A=this;return(0,ht.Z)(function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const V=N.join(y.weightData),st=window.URL.createObjectURL(new Blob([V],{type:"application/octet-stream"}));if(y.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const Rt=ce(y,[{paths:["./"+A.weightDataFileName],weights:y.weightSpecs}]),Kt=window.URL.createObjectURL(new Blob([JSON.stringify(Rt)],{type:"application/json"})),Gt=null==A.modelJsonAnchor?document.createElement("a"):A.modelJsonAnchor;if(Gt.download=A.modelJsonFileName,Gt.href=Kt,yield wt(()=>Gt.dispatchEvent(new MouseEvent("click"))),null!=y.weightData){const ye=null==A.weightDataAnchor?document.createElement("a"):A.weightDataAnchor;ye.download=A.weightDataFileName,ye.href=st,yield wt(()=>ye.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:ke(y)}}})()}}return p.URL_SCHEME="downloads://",p})();class re{constructor(l){if(null==l||l.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${l}`);this.jsonFile=l[0],this.weightsFiles=l.slice(1)}load(){var l=this;return(0,ht.Z)(function*(){return new Promise((y,A)=>{const V=new FileReader;V.onload=st=>{const Tt=JSON.parse(st.target.result),Rt=Tt.modelTopology;if(null==Rt)return void A(new Error(`modelTopology field is missing from file ${l.jsonFile.name}`));if(null==Tt.weightsManifest)return void A(new Error(`weightManifest field is missing from file ${l.jsonFile.name}`));if(0===l.weightsFiles.length)return void y({modelTopology:Rt});const Gt=Pe(Tt,ye=>l.loadWeights(ye));y(Gt)},V.onerror=st=>A(`Failed to read model topology and weights manifest JSON from file '${l.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),V.readAsText(l.jsonFile)})})()}loadWeights(l){const y=[],A=[];for(const Tt of l)y.push(...Tt.weights),A.push(...Tt.paths);const V=this.checkManifestAndWeightFiles(l),st=A.map(Tt=>this.loadWeightsFile(Tt,V[Tt]));return Promise.all(st).then(Tt=>[y,Tt])}loadWeightsFile(l,y){return new Promise((A,V)=>{const st=new FileReader;st.onload=Tt=>{A(Tt.target.result)},st.onerror=Tt=>V(`Failed to weights data from file of path '${l}'.`),st.readAsArrayBuffer(y)})}checkManifestAndWeightFiles(l){const y=[],A=this.weightsFiles.map(st=>Qt(st.name)),V={};for(const st of l)st.paths.forEach(Tt=>{const Rt=Qt(Tt);if(-1!==y.indexOf(Rt))throw new Error(`Duplicate file basename found in weights manifest: '${Rt}'`);if(y.push(Rt),-1===A.indexOf(Rt))throw new Error(`Weight file with basename '${Rt}' is not provided.`);V[Tt]=this.weightsFiles[A.indexOf(Rt)]});if(y.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${y.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return V}}function an(p){return new re(p)}function Qe(p,l,y,A){(function Tt(Kt){(0,et.hu)(null!=Kt&&Array.isArray(Kt)&&Kt.length>0,()=>"promises must be a none empty array")})(p),function Rt(Kt,Gt){(0,et.hu)(Kt>=0&&Kt<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${Kt}`),(0,et.hu)(Gt>=0&&Gt<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${Gt}`),(0,et.hu)(Gt>=Kt,()=>`startFraction must be no more than endFraction, but got startFraction ${Kt} and endFraction ${Gt}`)}(y=null==y?0:y,A=null==A?1:A);let V=0;return Promise.all(p.map(Kt=>(Kt.then(Gt=>{const ye=y+ ++V/p.length*(A-y);return l(ye),Gt}),Kt)))}function $e(p,l){return _e.apply(this,arguments)}function _e(){return(_e=(0,ht.Z)(function*(p,l){null==l&&(l={});const y=null==l.fetchFunc?(0,Q.OB)().platform.fetch:l.fetchFunc,A=p.map(Jt=>y(Jt,l.requestInit,{isBinary:!0})),Rt=(null==l.onProgress?yield Promise.all(A):yield Qe(A,l.onProgress,0,.5)).map(Jt=>Jt.arrayBuffer());return null==l.onProgress?yield Promise.all(Rt):yield Qe(Rt,l.onProgress,.5,1)})).apply(this,arguments)}function Re(p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,ht.Z)(function*(p,l="",y,A){return en(Tt=>$e(Tt,{requestInit:A}))(p,l,y)})).apply(this,arguments)}function en(p){return function(){var l=(0,ht.Z)(function*(y,A="",V){const st=y.map(()=>!1),Tt={},Rt=null!=V?V.map(()=>!1):[],Kt=[];if(y.forEach((Xe,Ze)=>{let je=0;Xe.weights.forEach(Rn=>{const ys=nt["quantization"in Rn?Rn.quantization.dtype:Rn.dtype]*et.NA(Rn.shape),Cs=()=>{st[Ze]=!0,null==Tt[Ze]&&(Tt[Ze]=[]),Tt[Ze].push({manifestEntry:Rn,groupOffset:je,sizeBytes:ys})};null!=V?V.forEach((Ys,Ia)=>{Ys===Rn.name&&(Cs(),Rt[Ia]=!0)}):Cs(),Kt.push(Rn.name),je+=ys})}),!Rt.every(Xe=>Xe)){const Xe=V.filter((Ze,je)=>!Rt[je]);throw new Error(`Could not find weights in manifest with names: ${Xe.join(", ")}. \nManifest JSON has weights with names: ${Kt.join(", ")}.`)}const Gt=st.reduce((Xe,Ze,je)=>(Ze&&Xe.push(je),Xe),[]),ye=[];Gt.forEach(Xe=>{y[Xe].paths.forEach(Ze=>{const je=A+(A.endsWith("/")?"":"/")+Ze;ye.push(je)})});const Jt=yield p(ye),le={};let Te=0;return Gt.forEach(Xe=>{const Ze=y[Xe].paths.length,je=new N(Jt.slice(Te,Te+Ze));Tt[Xe].forEach(kn=>{const Cs=a(je.slice(kn.groupOffset,kn.groupOffset+kn.sizeBytes),[kn.manifestEntry]);for(const Ys in Cs)le[Ys]=Cs[Ys]}),Te+=Ze}),le});return function(y){return l.apply(this,arguments)}}()}Je.registerSaveRouter(p=>(0,Q.OB)().getBool("IS_BROWSER")&&!Array.isArray(p)&&p.startsWith(Vt.URL_SCHEME)?function we(p="model"){return new Vt(p)}(p.slice(Vt.URL_SCHEME.length)):null);let n=(()=>{class p{constructor(y,A){if(this.DEFAULT_METHOD="POST",null==A&&(A={}),this.weightPathPrefix=A.weightPathPrefix,this.onProgress=A.onProgress,this.weightUrlConverter=A.weightUrlConverter,null!=A.fetchFunc?((0,et.hu)("function"==typeof A.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=A.fetchFunc):this.fetch=(0,Q.OB)().platform.fetch,(0,et.hu)(null!=y&&y.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(y)&&(0,et.hu)(2===y.length,()=>`URL paths for http must have a length of 2, (actual length is ${y.length}).`),this.path=y,null!=A.requestInit&&null!=A.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=A.requestInit||{}}save(y){var A=this;return(0,ht.Z)(function*(){if(y.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const V=Object.assign({method:A.DEFAULT_METHOD},A.requestInit);V.body=new FormData;const Tt=ce(y,[{paths:["./model.weights.bin"],weights:y.weightSpecs}]);if(V.body.append("model.json",new Blob([JSON.stringify(Tt)],{type:"application/json"}),"model.json"),null!=y.weightData){const Kt=N.join(y.weightData);V.body.append("model.weights.bin",new Blob([Kt],{type:"application/octet-stream"}),"model.weights.bin")}const Rt=yield A.fetch(A.path,V);if(Rt.ok)return{modelArtifactsInfo:ke(y),responses:[Rt]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${Rt.status}.`)})()}load(){var y=this;return(0,ht.Z)(function*(){const A=yield y.fetch(y.path,y.requestInit);if(!A.ok)throw new Error(`Request to ${y.path} failed with status code ${A.status}. Please verify this URL points to the model JSON of the model to load.`);let V;try{V=yield A.json()}catch{let Kt=`Failed to parse model JSON of response from ${y.path}.`;throw y.path.endsWith(".pb")?Kt+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":Kt+=" Please make sure the server is serving valid JSON for this request.",new Error(Kt)}if(null==V.modelTopology&&null==V.weightsManifest)throw new Error(`The JSON from HTTP path ${y.path} contains neither model topology or manifest for weights.`);return Pe(V,Rt=>y.loadWeights(Rt))})()}loadWeights(y){var A=this;return(0,ht.Z)(function*(){const V=Array.isArray(A.path)?A.path[1]:A.path,[st,Tt]=function o(p){const l=p.lastIndexOf("/"),y=p.lastIndexOf("?");return[p.substring(0,l)+"/",y>l?p.substring(y):""]}(V),Rt=A.weightPathPrefix||st,Kt=Se(y),Gt=[],ye=[];for(const le of y)for(const Te of le.paths)null!=A.weightUrlConverter?ye.push(A.weightUrlConverter(Te)):Gt.push(Rt+Te+Tt);return A.weightUrlConverter&&Gt.push(...yield Promise.all(ye)),[Kt,yield $e(Gt,{requestInit:A.requestInit,fetchFunc:A.fetch,onProgress:A.onProgress})]})()}}return p.URL_SCHEME_REGEX=/^https?:\/\//,p})();function D(p){return null!=p.match(n.URL_SCHEME_REGEX)}const P=(p,l)=>{if(typeof fetch>"u"&&(null==l||null==l.fetchFunc))return null;{let y=!0;if(y=Array.isArray(p)?p.every(A=>D(A)):D(p),y)return F(p,l)}return null};function F(p,l){return new n(p,l)}function K(p,l){return F(p,l)}Je.registerSaveRouter(P),Je.registerLoadRouter(P);class ot{constructor(l){this.modelArtifacts=l}load(){return this.modelArtifacts}}class Lt{constructor(l){this.saveHandler=l}save(l){return this.saveHandler(l)}}class Zt{constructor(l){l.load&&(this.load=()=>Promise.resolve(l.load())),l.save&&(this.save=y=>Promise.resolve(l.save(y)))}}function ue(p,l,y,A){return new Zt(fe(...arguments))}function fe(p,l,y,A){return 1===arguments.length?null!=p.modelTopology||null!=p.weightSpecs?new ot(p):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ot({modelTopology:p})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ot({modelTopology:p,weightSpecs:l,weightData:y,trainingConfig:A}))}function be(p){return new Lt(p)}function ze(p){return new Lt(p)}var Ge=t(1257),ve=t(7648),nn=t(5618),Dn=t(4195),Jn=t(9194);const pn=(0,Dn.op)({confusionMatrix_:function lr(p,l,y){const A=(0,Ge._1)(p,"labels","confusionMatrix"),V=(0,Ge._1)(l,"predictions","confusionMatrix");et.hu(null==y||y>0&&Number.isInteger(y),()=>`If provided, numClasses must be a positive integer, but got ${y}`),et.hu(1===A.rank,()=>`Expected the rank of labels to be 1, but got ${A.rank}`),et.hu(1===V.rank,()=>`Expected the rank of predictions to be 1, but got ${V.rank}`),et.hu(A.shape[0]===V.shape[0],()=>`Mismatch in the number of examples: ${A.shape[0]} vs. ${V.shape[0]}. Labels and predictions should have the same number of elements.`),et.hu(y>0&&Number.isInteger(y),()=>`numClasses is required to be a positive integer, but got ${y}`);const st=(0,nn.l)((0,De.p)(A,"int32"),y),Tt=(0,nn.l)((0,De.p)(V,"int32"),y),Rt=(0,Jn.p)(st),Kt=(0,ve.O)(Rt,Tt);return(0,De.p)(Kt,"int32")}});var ar=t(3239),Pt=t(4251),Xn=t(8987),Es=t(2786);let _r,qr=!1;function _s(p,l=3){if(l>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==p)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let y=!1,A=!1,V=!1,st=!1,Tt=!1,Rt=!1;if(p.data instanceof Uint8Array)y=!0;else if(typeof ImageData<"u"&&p instanceof ImageData)A=!0;else if(typeof HTMLVideoElement<"u"&&p instanceof HTMLVideoElement)V=!0;else if(typeof HTMLImageElement<"u"&&p instanceof HTMLImageElement)st=!0;else if(null!=p.getContext)Tt=!0;else{if(!(typeof ImageBitmap<"u"&&p instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${p.constructor.name}`);Rt=!0}if(null!=(0,Xn.pI)(Pt.eBW,m.BV.backendName))return m.BV.runKernel(Pt.eBW,{pixels:p},{numChannels:l});const[Gt,ye]=V?[p.videoWidth,p.videoHeight]:[p.width,p.height];let Jt,le;if(Tt)Jt=p.getContext("2d").getImageData(0,0,Gt,ye).data;else if(A||y)Jt=p.data;else if(st||V||Rt){if(null==_r)if(typeof document>"u"){if(!(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u"))throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");_r=new OffscreenCanvas(1,1).getContext("2d")}else _r=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});_r.canvas.width=Gt,_r.canvas.height=ye,_r.drawImage(p,0,0,Gt,ye),Jt=_r.getImageData(0,0,Gt,ye).data}if(4===l)le=new Int32Array(Jt);else{const Xe=Gt*ye;le=new Int32Array(Xe*l);for(let Ze=0;Ze<Xe;Ze++)for(let je=0;je<l;++je)le[Ze*l+je]=Jt[4*Ze+je]}return(0,Es.w)(le,[ye,Gt,l],"int32")}function na(p){return Os.apply(this,arguments)}function Os(){return(Os=(0,ht.Z)(function*(p,l=3){let y=null;if((0,Q.OB)().getBool("WRAP_TO_IMAGEBITMAP")&&function vs(p){return function ea(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}()&&!(p instanceof ImageBitmap)&&function ga(p){return null!=p&&0!==p.width&&0!==p.height}(p)&&!function Ls(p){return null!=p&&p.data instanceof Uint8Array}(p)}(p)){let A;try{A=yield createImageBitmap(p,{premultiplyAlpha:"none"})}catch{A=null}y=null!=A&&A.width===p.width&&A.height===p.height?A:p}else y=p;return _s(y,l)})).apply(this,arguments)}function Ts(p){if(2!==p.rank&&3!==p.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${p.rank}.`);const l=2===p.rank?1:p.shape[2];if(l>4||2===l)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${l}`);if("float32"!==p.dtype&&"int32"!==p.dtype)throw new Error(`Unsupported type for toPixels: ${p.dtype}. Please use float32 or int32 tensors.`)}function ra(p,l){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,ht.Z)(function*(p,l){let y=(0,Ge._1)(p,"img","toPixels");if(!(p instanceof Ne.es)){const Gt=y;y=(0,De.p)(Gt,"int32"),Gt.dispose()}Ts(y);const[A,V]=y.shape.slice(0,2),st=2===y.rank?1:y.shape[2],Tt=yield y.data(),Rt="float32"===y.dtype?255:1,Kt=new Uint8ClampedArray(V*A*4);for(let Gt=0;Gt<A*V;++Gt){const ye=[0,0,0,255];for(let le=0;le<st;le++){const Te=Tt[Gt*st+le];if("float32"===y.dtype){if(Te<0||Te>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${Te}.`)}else if("int32"===y.dtype&&(Te<0||Te>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${Te}.`);1===st?(ye[0]=Te*Rt,ye[1]=Te*Rt,ye[2]=Te*Rt):ye[le]=Te*Rt}const Jt=4*Gt;Kt[Jt+0]=Math.round(ye[0]),Kt[Jt+1]=Math.round(ye[1]),Kt[Jt+2]=Math.round(ye[2]),Kt[Jt+3]=Math.round(ye[3])}if(null!=l){qr||null!=(0,Xn.pI)(Pt.hGc,m.BV.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),qr=!0),l.width=V,l.height=A;const Gt=l.getContext("2d"),ye=new ImageData(Kt,V,A);Gt.putImageData(ye,0,0)}return y!==p&&y.dispose(),Kt})).apply(this,arguments)}function Us(p,l,y){let A=(0,Ge._1)(p,"img","draw");if(!(p instanceof Ne.es)){const Tt=A;A=(0,De.p)(Tt,"int32"),Tt.dispose()}Ts(A),function $s(p){const l=(null==p?void 0:p.alpha)||1;if(l>1||l<0)throw new Error(`Alpha value ${l} is suppoed to be in range [0 - 1].`)}(null==y?void 0:y.imageOptions),m.BV.runKernel(Pt.hGc,{image:A},{canvas:l,options:y})}const sa=(0,Dn.op)({fromPixels_:_s});function Ps(p,l){const y=p.shape.length,A=l.shape.length;if(y<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${y}.`);if(A<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${A}.`);if("int32"!==l.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${l.dtype}.`);if(l.shape[A-1]>y)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${l.shape[A-1]} vs. ${y}`);if(0===(0,et.NA)(p.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${p.shape}.`);const V=l.shape,st=V[V.length-1];let Tt=1;for(let Jt=0;Jt<V.length-1;++Jt)Tt*=V[Jt];const Rt=p.shape,Kt=V.slice();Kt.pop();let Gt=1;for(let Jt=st;Jt<y;++Jt)Gt*=Rt[Jt],Kt.push(Rt[Jt]);const ye=[...(0,et.e3)(p.shape).map(Jt=>Jt/Gt),1].slice(0,st);return[Kt,Tt,Gt,ye]}var as=t(1876),ts=t(2320),Ws=t(7664);const As=.001,Rr=.1;function Sr(p,l,y){return null==y&&(y=Ms()),os(p,l,(A,V)=>hs(A,V,y))}function Ms(){return 32===m.BV.backend.floatPrecision()?As:Rr}function os(p,l,y){let A=!0;if(((0,x.isTypedArray)(p)||(0,x.isTypedArray)(l))&&(A=!1),(0,x.isTypedArray)(p)&&(0,x.isTypedArray)(l)&&(A=!0),A){const Tt=p.constructor.name,Rt=l.constructor.name;if(Tt!==Rt)throw new Error(`Arrays are of different type. Actual: ${Tt}. Expected: ${Rt}`)}if(Array.isArray(p)&&Array.isArray(l)){const Tt=(0,Ge.C)(p),Rt=(0,Ge.C)(l);if(!(0,et.cO)(Tt,Rt))throw new Error(`Arrays have different shapes. Actual: [${Tt}]. Expected: [${Rt}]`)}const V=(0,x.isTypedArray)(p)?p:(0,x.flatten)(p),st=(0,x.isTypedArray)(l)?l:(0,x.flatten)(l);if(V.length!==st.length)throw new Error(`Arrays have different lengths actual: ${V.length} vs expected: ${st.length}.\nActual:   ${V}.\nExpected: ${st}.`);for(let Tt=0;Tt<st.length;++Tt){const Rt=V[Tt],Kt=st[Tt];if(!y(Rt,Kt))throw new Error(`Arrays differ: actual[${Tt}] = ${Rt}, expected[${Tt}] = ${Kt}.\nActual:   ${V}.\nExpected: ${st}.`)}typeof expect<"u"&&expect().nothing()}function Ks(p,l){p().then(()=>l.fail(),()=>l()),typeof expect<"u"&&expect().nothing()}function es(p,l){const y="string"==typeof l||"number"==typeof l||"boolean"==typeof l?[l]:l;return(0,et.HD)(p)||(0,et.HD)(p[0])||(0,et.HD)(l)||(0,et.HD)(l[0])?os(p,y,(A,V)=>A==V):os(p,l,(A,V)=>hs(A,V,0))}function vr(p,l,y){if(null==y&&(y=Ms()),!hs(p,l,y))throw new Error(`Numbers differ: actual === ${p}, expected === ${l}`);typeof expect<"u"&&expect().nothing()}function hs(p,l,y){return!isFinite(p)&&!isFinite(l)||!(isNaN(p)||isNaN(l)||Math.abs(p-l)>y)}function is(p,l,y){for(let A=0;A<p.length;A++)if(p[A]<l||p[A]>y)throw new Error(`Value out of range:${p[A]} low: ${l}, high: ${y}`)}function Fs(p,l){const y=new Float32Array(p),A=new Float32Array(l);if(y.length!==A.length)throw new Error(`Expected ArrayBuffer to be of length ${A.length}, but it was ${y.length}`);for(let V=0;V<A.length;V++)if(y[V]!==A[V])throw new Error(`Expected ArrayBuffer value at ${V} to be ${A[V]} but got ${y[V]} instead`)}function fs(p){for(let l=0;l<p.length;l++){const y=p[l];Array.isArray(y)?fs(y):p[l]=(0,x.encodeString)(y)}return p}function aa(p){const l=document.createElement("video");return"playsInline"in l&&(l.playsInline=!0),l.muted=!0,l.loop=!0,l.style.position="fixed",l.style.left="0px",l.style.top="0px",l.preload="auto",l.appendChild(p),new Promise(y=>{l.addEventListener("loadeddata",A=>y(l)),l.load()})}function oa(p){return ns.apply(this,arguments)}function ns(){return(ns=(0,ht.Z)(function*(p){yield p.play(),"requestVideoFrameCallback"in p&&(yield new Promise(l=>{p.requestVideoFrameCallback(l)}))})).apply(this,arguments)}const Is="4.11.0";class bs{static sgd(l){return new br(l)}static momentum(l,y,A=!1){return new Un(l,y,A)}static rmsprop(l,y=.9,A=0,V=null,st=!1){return new u(l,y,A,V,st)}static adam(l=.001,y=.9,A=.999,V=null){return new Ir(l,y,A,V)}static adadelta(l=.001,y=.95,A=null){return new kr(l,y,A)}static adamax(l=.002,y=.9,A=.999,V=null,st=0){return new Er(l,y,A,V,st)}static adagrad(l,y=.1){return new Vr(l,y)}}var In=t(1216),Ot=t(3667),Ss=t(4839);const Xr=bs,ks=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:p=>p();function ds(){return new Promise(p=>ks(()=>p()))}var zr=t(929);function Vs(p,l){const y=p[0].length;p.forEach((V,st)=>{et.hu(V.length===y,()=>`Error in concat${y}D: rank of tensors[${st}] must be the same as the rank of the rest (${y})`)}),et.hu(l>=0&&l<y,()=>`Error in concat${y}D: axis must be between 0 and ${y-1}.`);const A=p[0];p.forEach((V,st)=>{for(let Tt=0;Tt<y;Tt++)et.hu(Tt===l||V[Tt]===A[Tt],()=>`Error in concat${y}D: Shape of tensors[${st}] (${V}) does not match the shape of the rest (${A}) along the non-concatenated axis ${st}.`)})}function zs(p,l){const y=p[0].slice();for(let A=1;A<p.length;A++)y[l]+=p[A][l];return y}var Or=t(5551),ps=t(6254),Cr=function(p){return p[p.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",p[p.VALUE_ROWIDS=1]="VALUE_ROWIDS",p[p.ROW_LENGTHS=2]="ROW_LENGTHS",p[p.ROW_SPLITS=3]="ROW_SPLITS",p[p.ROW_LIMITS=4]="ROW_LIMITS",p[p.ROW_STARTS=5]="ROW_STARTS",p}(Cr||{});function ia(p,l,y){let A=new Array;if(null==y&&null==l)return A;if(null==l)for(;A.length<p+y.length;)A.push(-1);else A=l.slice();if(null==y)return A;if(p+y.length!==A.length)throw new Error(`rt input.shape and shape=${l} are incompatible: rt input.rank = ${p+y.length}, but shape.rank = ${A.length}`);for(let V=1;V<y.length;++V){const st=y[V],Tt=A[A.length-y.length+V],Rt=A[Tt];if(st>=0)if(Rt>=0){if(Rt!==st)throw new Error(`rt input.shape and shape=${l} are incompatible: rt input.shape[${V+p}] = ${st} but shape[${V+p}] = ${Rt}`)}else A[Tt]=st}return A}function ua(p){const l={FIRST_DIM_SIZE:Cr.FIRST_DIM_SIZE,VALUE_ROWIDS:Cr.VALUE_ROWIDS,ROW_LENGTHS:Cr.ROW_LENGTHS,ROW_SPLITS:Cr.ROW_SPLITS,ROW_LIMITS:Cr.ROW_LIMITS,ROW_STARTS:Cr.ROW_STARTS},y=[];for(const A of p){if(!(A in l))break;y.push(l[A])}return y}function Ns(p){return 0===p.length?0:p[0]===Cr.FIRST_DIM_SIZE?p.length-1:p.length}function js(p,l){if(null==p||null==l)return;const y=p.length,A=l.length;if(y>=A)throw new Error(`defaultValue.shape=${p} and ragged tensor flatValues.shape=${l}, are incompatible: defaultValue.rank = ${y} must be less than ragged tensor input flatValues.rank = ${A})`);for(let V=0;V<Math.min(y,A-1);++V){const st=p[V],Tt=l[V+1];if(st>=0&&Tt>=0&&1!==st&&st!==Tt)throw new Error(`defaultValue.shape=${p}, and ragged tensor input flatValues.shape=${l} are incompatible: defaultValue.shape[${V-p.length}] = ${st} but ragged tensor input.flatValues.shape[${V-p.length}] = ${Tt}`)}}const Bs=30;function la(p){return p<=Bs?p:(0,et.jP)(p,Math.floor(Math.sqrt(p)))}function ca(p,l,y){return[y*("number"==typeof p?p:p[0]),l*("number"==typeof p?p:p[1])]}function Gs(p,l,y,A=!0){let V=[];if(A)V=V.concat(l.slice(0)),V.push(p[0]/y),V=V.concat(p.slice(1));else{V=V.concat(p[0]);const st=l.length;for(let Tt=0;Tt<st;++Tt)V=V.concat([p[Tt+1]/l[Tt],l[Tt]]);V=V.concat(p.slice(st+1))}return V}function xs(p,l,y=!0){const A=[];if(y){A.push(l);for(let V=l+1;V<p;++V)V<=2*l?(A.push(V),A.push(V-(l+1))):A.push(V)}else{const V=[],st=[];for(let Tt=1;Tt<p;++Tt)Tt>=2*l+1||Tt%2==1?st.push(Tt):V.push(Tt);A.push(...V),A.push(0),A.push(...st)}return A}function Hs(p,l,y,A=!0){const V=[];V.push(A?p[0]/y:p[0]*y);for(let st=1;st<p.length;++st)V.push(st<=l.length?A?l[st-1]*p[st]:p[st]/l[st-1]:p[st]);return V}function us(p,l){const y=[0];for(let A=0;A<l;++A)y.push(p[A][0]);return y}function Xs(p,l,y){const A=p.slice(0,1);for(let V=0;V<y;++V)A.push(p[V+1]-l[V][0]-l[V][1]);return A}var ms=t(2152);const gs=.3275911,i=.254829592,I=-.284496736,W=1.421413741,X=-1.453152027,ft=1.061405429;var at=t(2932);function lt(p,l){if(p.length!==l.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${p.length}, imag: ${l.length}.`);const y=new Float32Array(2*p.length);for(let A=0;A<y.length;A+=2)y[A]=p[A/2],y[A+1]=l[A/2];return y}function St(p){const l=new Float32Array(p.length/2),y=new Float32Array(p.length/2);for(let A=0;A<p.length;A+=2)l[A/2]=p[A],y[A/2]=p[A+1];return{real:l,imag:y}}function Xt(p){const l=Math.ceil(p.length/4),y=new Float32Array(l),A=new Float32Array(l);for(let V=0;V<p.length;V+=4)y[Math.floor(V/4)]=p[V],A[Math.floor(V/4)]=p[V+1];return{real:y,imag:A}}function he(p){const l=Math.floor(p.length/4),y=new Float32Array(l),A=new Float32Array(l);for(let V=2;V<p.length;V+=4)y[Math.floor(V/4)]=p[V],A[Math.floor(V/4)]=p[V+1];return{real:y,imag:A}}function pe(p,l){return{real:p[2*l],imag:p[2*l+1]}}function Be(p,l,y,A){p[2*A]=l,p[2*A+1]=y}function Ke(p,l){const y=new Float32Array(p/2),A=new Float32Array(p/2);for(let V=0;V<Math.ceil(p/2);V++){const st=(l?2:-2)*Math.PI*(V/p);y[V]=Math.cos(st),A[V]=Math.sin(st)}return{real:y,imag:A}}function Oe(p,l,y){const A=(y?2:-2)*Math.PI*(p/l);return{real:Math.cos(A),imag:Math.sin(A)}}const He="->",sn=/->/g,mn=",",Tn="...";function qn(p,l){const y=((p=p.replace(/\s/g,"")).length-p.replace(sn,"").length)/He.length;if(y<1)throw new Error("Equations without an arrow are not supported.");if(y>1)throw new Error(`Equation must contain exactly one arrow ("${He}").`);const[A,V]=p.split(He);(0,et.hu)(-1===A.indexOf(Tn),()=>`The ellipsis notation ("${Tn}") is not supported yet.`);const st=A.split(mn),Tt=st.length;if(l!==Tt)throw new Error(`Expected ${Tt} input tensors, received ${l}`);if(Tt>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const Rt=[];for(let le=0;le<V.length;++le){const Te=V[le];if(!st.some(Xe=>-1!==Xe.indexOf(Te)))throw new Error(`Output subscripts contain the label ${Te} not present in the input subscripts.`);-1===Rt.indexOf(Te)&&Rt.push(Te)}for(let le=0;le<A.length;++le){const Te=A[le];-1===Rt.indexOf(Te)&&Te!==mn&&Rt.push(Te)}const Kt=new Array(st.length);for(let le=0;le<Tt;++le){if(new Set(st[le].split("")).size!==st[le].length)throw new Error(`Found duplicate axes in input component ${st[le]}. Support for duplicate axes in input is not implemented yet.`);Kt[le]=[];for(let Te=0;Te<st[le].length;++Te)Kt[le].push(Rt.indexOf(st[le][Te]))}const Gt=Rt.length,Jt=[];for(let le=V.length;le<Gt;++le)Jt.push(le);return{allDims:Rt,summedDims:Jt,idDims:Kt}}function Tr(p,l){let y=new Array(p);y.fill(-1);for(let V=0;V<l.length;++V)y[l[V]]=V;const A=[];for(let V=0;V<p;++V)-1===y[V]&&A.push(V);return y=y.filter(V=>-1!==V),{permutationIndices:y,expandDims:A}}function or(p,l,y){const A=new Array(p);for(let V=0;V<y.length;++V){const st=y[V].shape;for(let Tt=0;Tt<l[V].length;++Tt)void 0===A[l[V][Tt]]?A[l[V][Tt]]=st[Tt]:(0,et.hu)(A[l[V][Tt]]===st[Tt],()=>`Expected dimension ${A[l[V][Tt]]} at axis ${Tt} of input shaped ${JSON.stringify(st)}, but got dimension ${st[Tt]}`)}}function dn(p,l){const y=p,A=[];let V=0;0===p.length&&y.push(-1),V=p.length+1;for(let Tt=0;Tt<V;++Tt)A.push([]);const st=[];for(let Tt=0;Tt<y.length;++Tt){const Kt=Zr(l,y[Tt]);for(const Gt of Kt)-1===st.indexOf(Gt)&&(A[Tt].push(Gt),st.push(Gt))}return{path:y,steps:A}}function Fn(p){return p.every((l,y)=>l===y)}function Zr(p,l){const y=[];for(let A=0;A<p.length;++A)(0===p[A].length||-1!==p[A].indexOf(l)||-1===l)&&y.push(A);return y}function jr(p,l,y=0){let A=[];if("number"==typeof l)(0,et.hu)(p.shape[y]%l==0,()=>"Number of splits must evenly divide the axis."),A=new Array(l).fill(p.shape[y]/l);else{const V=l.reduce((Tt,Rt)=>(-1===Rt&&(Tt+=1),Tt),0);(0,et.hu)(V<=1,()=>"There should be only one negative value in split array.");const st=l.indexOf(-1);if(-1!==st){const Tt=l.reduce((Rt,Kt)=>Kt>0?Rt+Kt:Rt);l[st]=p.shape[y]-Tt}(0,et.hu)(p.shape[y]===l.reduce((Tt,Rt)=>Tt+Rt),()=>"The sum of sizes must match the size of the axis dimension."),A=l}return A}function Zs(p){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${p}`}function rs(p,l){return`indices(${p}, 0) is invalid: ${l} < 0`}function Lr(p,l,y){return`indices(${p}, 0) is invalid: ${l} >= ${y}`}function ws(p,l){return`only one output dimension may be -1, not both ${p} and ${l}`}function va(p,l){return`size ${p} must be non-negative, not ${l}`}function ha(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function ya(p,l){return`Input to reshape is a SparseTensor with ${(0,et.NA)(p)}\n  dense values, but the requested shape requires a multiple of ${(0,et.NA)(l)}. inputShape=${p} outputShape= ${l}`}function Ea(p,l){return`Input to reshape is a tensor with ${(0,et.NA)(p)} dense values, but the requested shape has ${(0,et.NA)(l)}. inputShape=${p} outputShape=${l}`}function Oa(){return"segment ids must be >= 0"}function Ta(){return"segment ids are not increasing"}function fa(p,l){return`Segment id ${p} out of range [0, ${l}), possibly because segmentIds input is not sorted.`}function Da(p,l,y){return`Bad: indices[${p}] == ${l} out of range [0, ${y})`}function da(p,l){let A,y=!1;for(p<=Bs?(A=p,y=!0):A=(0,et.jP)(p,Math.floor(Math.sqrt(p)));!y;)A>l||A===p?y=!0:A=(0,et.jP)(p,A+1);return A}function pa(p,l,y){const A=[],V=p.length;for(let st=0;st<V;st++)A.push(st!==l?p[st]:y);return A}function Rs(p,l,y,A){const V=l.shape.length,st=p.shape.length;if(0!==A&&(A<-V||A>V))throw new Error(`Expect batchDims in the range of [-${V}, ${V}], but got ${A}`);if(A<0&&(A+=V),A>st)throw new Error(`batchDims (${A}) must be less than rank(x) (\n    ${st}).`);if(y<A)throw new Error(`batchDims (${A}) must be less than or equal to axis (${y}).`);for(let Jt=0;Jt<A;++Jt)if(p.shape[Jt]!==l.shape[Jt])throw new Error(`x.shape[${Jt}]: ${p.shape[Jt]} should be equal to indices.shape[${Jt}]: ${l.shape[Jt]}.`);const Tt=p.shape[y],Rt=[];let Kt=1,Gt=1,ye=1;for(let Jt=0;Jt<A;++Jt)Rt.push(p.shape[Jt]),Kt*=p.shape[Jt];for(let Jt=A;Jt<y;Jt++)Rt.push(p.shape[Jt]),Gt*=p.shape[Jt];for(let Jt=A;Jt<V;Jt++)Rt.push(l.shape[Jt]);for(let Jt=y+1;Jt<st;Jt++)Rt.push(p.shape[Jt]),ye*=p.shape[Jt];return{batchSize:Kt,sliceSize:ye,outerSize:Gt,dimSize:Tt,outputShape:Rt}}function Pa(p){try{return p.map(l=>(0,x.decodeString)(l))}catch(l){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${l}`)}}function Aa(p){return p.map(l=>(0,x.encodeString)(l))}var ma=t(5672),Ma=t(7349),_a=t(7173);!function T(){for(const p of _)sr(p)}()},4251:(vt,L,t)=>{"use strict";t.d(L,{$HU:()=>$n,$g6:()=>Ve,$w:()=>An,Acj:()=>On,BMI:()=>_t,BiW:()=>rr,Byc:()=>ie,CAk:()=>$r,CQl:()=>Fr,D2d:()=>e,DlI:()=>ir,Eh3:()=>a,FKq:()=>we,G3Y:()=>Ge,GBy:()=>an,Gcp:()=>_e,HEU:()=>qe,HZH:()=>yr,Hhh:()=>yt,Hmb:()=>Mr,IKK:()=>v,IMb:()=>dt,J$2:()=>Qn,J7O:()=>Et,J_u:()=>fn,JhU:()=>$,Kgp:()=>Le,L8s:()=>$e,Ly9:()=>nt,M2y:()=>d,MIZ:()=>ue,MRv:()=>se,MZg:()=>Sn,NEP:()=>tr,NZg:()=>De,O3z:()=>Re,OAf:()=>$t,OR:()=>Br,OU7:()=>Ht,OV7:()=>Mt,Omj:()=>un,Oyi:()=>S,PYm:()=>tn,PhF:()=>T,QCc:()=>j,QRR:()=>ke,Qg5:()=>Ar,QiL:()=>yn,Qvg:()=>Dn,RFZ:()=>N,ROF:()=>Y,RQH:()=>Ft,RuY:()=>lr,SIB:()=>u,SX0:()=>rn,SYM:()=>b,SbG:()=>Hn,SpW:()=>h,T0n:()=>Se,TQc:()=>Qe,TR1:()=>ce,ToN:()=>nn,Tr8:()=>Lt,Uyb:()=>Nr,VGw:()=>B,Vbg:()=>me,VcC:()=>ae,VfG:()=>mr,Vn9:()=>Bt,W0H:()=>ge,XDQ:()=>Jn,XLW:()=>ht,XkS:()=>ot,Xze:()=>O,Y0y:()=>zn,YFo:()=>hr,YoZ:()=>gt,ZbH:()=>Ur,ZjV:()=>r,Zz9:()=>H,_JP:()=>F,_V0:()=>Es,_Yw:()=>ur,_k9:()=>Q,_tC:()=>n,a5O:()=>re,aJk:()=>s,avt:()=>pr,b9H:()=>Pt,bK0:()=>o,bV0:()=>br,c17:()=>Yt,cWu:()=>be,cie:()=>on,cye:()=>te,dDz:()=>Kr,deh:()=>xn,dpD:()=>Vr,e07:()=>Er,e0R:()=>D,e6w:()=>sr,e7N:()=>bn,eBW:()=>ar,eEB:()=>x,eZ0:()=>tt,ekb:()=>ct,gJX:()=>c,h8e:()=>pn,hCO:()=>et,hGc:()=>zt,hdR:()=>Kn,i5y:()=>Vt,iHb:()=>Pe,iJz:()=>dr,iWB:()=>pt,iZT:()=>fr,ik2:()=>kt,jMg:()=>g,jQk:()=>P,jQs:()=>oe,jeX:()=>xr,kU:()=>Mn,kpP:()=>ve,kuV:()=>Ee,luS:()=>_r,lyA:()=>We,mKl:()=>wr,mTV:()=>Nt,mc4:()=>Qt,mhS:()=>bt,mm_:()=>M,n9L:()=>fe,nhH:()=>Ce,nr8:()=>_,o0g:()=>wn,o2y:()=>At,oFR:()=>rt,oHH:()=>de,oT6:()=>E,p2w:()=>It,p4S:()=>Je,pe_:()=>Nn,q1x:()=>Yn,q2K:()=>xt,q8u:()=>qt,qCd:()=>gr,qIC:()=>Wr,qWM:()=>Ae,qi_:()=>Gn,qkr:()=>kr,qw7:()=>m,r7n:()=>er,s1s:()=>K,sEM:()=>Zt,sHE:()=>Pn,sJF:()=>f,sL$:()=>_n,usg:()=>Xn,uv1:()=>Ue,vFR:()=>jt,vtC:()=>Ye,vwp:()=>jn,w3H:()=>en,w6g:()=>nr,wUP:()=>q,wYB:()=>wt,wYn:()=>xe,we_:()=>Me,wm:()=>it,wx7:()=>ze,x12:()=>Dt,xJR:()=>Jr,xQA:()=>Un,xnO:()=>R,y7R:()=>vn,yQU:()=>Ne,yj2:()=>ut,zbQ:()=>Ir,zvY:()=>G,zws:()=>Wt});const b="Abs",B="Acos",h="Acosh",M="Add",O="AddN",E="All",v="Any",f="ArgMax",s="ArgMin",d="Asin",m="Asinh",g="Atan",S="Atanh",j="Atan2",$="AvgPool",Y="AvgPoolGrad",Q="AvgPool3D",dt="AvgPool3DGrad",ht="BatchMatMul",Wt="BatchToSpaceND",G="Bincount",et="BitwiseAnd",nt="BroadcastTo",x="BroadcastArgs",N="Cast",c="Ceil",R="ClipByValue",H="Complex",ut="ComplexAbs",a="Concat",bt="Conv2D",q="Conv2DBackpropFilter",it="Conv2DBackpropInput",Dt="Conv3D",At="Conv3DBackpropFilterV2",kt="Conv3DBackpropInputV2",Qt="Cos",ce="Cosh",ie="Cumprod",Pe="Cumsum",ae="CropAndResize",ke="DenseBincount",Se="DepthToSpace",on="DepthwiseConv2dNative",_n="DepthwiseConv2dNativeBackpropFilter",vn="DepthwiseConv2dNativeBackpropInput",An="Diag",Je="Dilation2D",ct="Dilation2DBackpropInput",Bt="Dilation2DBackpropFilter",zt="Draw",de="RealDiv",Ve="Einsum",rn="Elu",qe="EluGrad",un="Erf",Kn="Equal",tr="Exp",hr="ExpandDims",zn="Expm1",jn="FFT",xn="Fill",Nr="FlipLeftRight",Br="Floor",xr="FloorDiv",Pn="FusedBatchNorm",Gn="GatherV2",Yn="GatherNd",fr="Greater",On="GreaterEqual",dr="Identity",Ar="IFFT",fn="Imag",pr="IsFinite",pt="IsInf",er="IsNan",Qn="LeakyRelu",Ye="Less",$r="LessEqual",bn="LinSpace",Ur="Log",Mn="Log1p",tn="LogicalAnd",mr="LogicalNot",Sn="LogicalOr",nr="LogicalXor",gr="LogSoftmax",Wr="LowerBound",tt="LRN",yt="LRNGrad",Et="MatrixBandPart",gt="Max",_t="Maximum",Nt="MaxPool",Mt="MaxPoolGrad",$t="MaxPool3D",Ht="MaxPool3DGrad",jt="MaxPoolWithArgmax",xt="Mean",Yt="Min",qt="Minimum",oe="MirrorPad",me="Mod",De="Multinomial",xe="Multiply",Ee="Neg",Ne="NotEqual",Ue="NonMaxSuppressionV3",te="NonMaxSuppressionV4",ge="NonMaxSuppressionV5",Ae="OnesLike",Me="OneHot",yn="Pack",We="PadV2",Le="Pool",Nn="Pow",wn="Prelu",ir="Prod",Kr="RaggedGather",Fr="RaggedRange",rr="RaggedTensorToTensor",sr="Range",Jr="Real",$n="Reciprocal",kr="Relu",yr="Reshape",Vr="ResizeNearestNeighbor",Mr="ResizeNearestNeighborGrad",ur="ResizeBilinear",Ir="ResizeBilinearGrad",Hn="Relu6",wr="Reverse",Er="Round",br="Rsqrt",Un="ScatterNd",u="TensorScatterUpdate",_="SearchSorted",T="Select",rt="Selu",It="Slice",Ft="Sin",wt="Sinh",Vt="Sign",re="Sigmoid",se="Softplus",we="Sqrt",an="Sum",Qe="SpaceToBatchND",$e="SplitV",_e="Softmax",Re="SparseFillEmptyRows",Ce="SparseReshape",en="SparseSegmentMean",r="SparseSegmentSum",e="SparseToDense",n="SquaredDifference",o="Square",D="StaticRegexReplace",P="StridedSlice",F="StringNGrams",K="StringSplit",ot="StringToHashBucketFast",Lt="Sub",Zt="Tan",ue="Tanh",fe="Tile",be="TopK",ze="Transform",Ge="Transpose",ve="Unique",nn="Unpack",Dn="UnsortedSegmentSum",Jn="UpperBound",lr="ZerosLike",pn="Step",ar="FromPixels",Pt="RotateWithOffset",Xn="_FusedMatMul",Es="FusedConv2D",_r="FusedDepthwiseConv2D"},8987:(vt,L,t)=>{"use strict";t.d(L,{Li:()=>d,T3:()=>S,bt:()=>g,nE:()=>m,pI:()=>E,tr:()=>f,uk:()=>v,wC:()=>s});var b=t(5527),B=t(2918),h=t(2932);const M=(0,B.R)("kernelRegistry",()=>new Map),O=(0,B.R)("gradRegistry",()=>new Map);function E($,Y){const Q=j($,Y);return M.get(Q)}function v($){return O.get($)}function f($){const Y=M.entries(),Q=[];for(;;){const{done:dt,value:ht}=Y.next();if(dt)break;const[Wt,G]=ht,[et]=Wt.split("_");et===$&&Q.push(G)}return Q}function s($){const{kernelName:Y,backendName:Q}=$,dt=j(Y,Q);M.has(dt)&&h.Z(`The kernel '${Y}' for backend '${Q}' is already registered`),M.set(dt,$)}function d($){const{kernelName:Y}=$;O.has(Y)&&(0,b.OB)().getBool("DEBUG")&&h.Z(`Overriding the gradient for '${Y}'`),O.set(Y,$)}function m($,Y){const Q=j($,Y);if(!M.has(Q))throw new Error(`The kernel '${$}' for backend '${Y}' is not registered`);M.delete(Q)}function g($){if(!O.has($))throw new Error(`The gradient '${$}' for backend is not registered`);O.delete($)}function S($,Y){f($).forEach(dt=>{s(Object.assign({},dt,{backendName:Y}))})}function j($,Y){return`${Y}_${$}`}},2932:(vt,L,t)=>{"use strict";t.d(L,{Z:()=>B,c:()=>h});var b=t(5527);function B(...M){(0,b.OB)().getBool("IS_TEST")||(0,b.OB)().getBool("PROD")||console.warn(...M)}function h(...M){(0,b.OB)().getBool("IS_TEST")||(0,b.OB)().getBool("PROD")||console.log(...M)}},6989:(vt,L,t)=>{"use strict";t.d(L,{W:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({abs_:function O(v){const f=(0,h._1)(v,"x","abs");return b.BV.runKernel("complex64"===f.dtype?B.yj2:B.SYM,{x:f})}})},1184:(vt,L,t)=>{"use strict";t.d(L,{K:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({acos_:function O(v){const s={x:(0,h._1)(v,"x","acos")};return b.BV.runKernel(B.VGw,s)}})},5622:(vt,L,t)=>{"use strict";t.d(L,{_:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({acosh_:function O(v){const s={x:(0,h._1)(v,"x","acosh")};return b.BV.runKernel(B.SpW,s)}})},7066:(vt,L,t)=>{"use strict";t.d(L,{I:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({add_:function E(f,s){let d=(0,M._1)(f,"a","add"),m=(0,M._1)(s,"b","add");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.mm_,{a:d,b:m})}})},1862:(vt,L,t)=>{"use strict";t.d(L,{$:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({all_:function O(v,f=null,s=!1){const m={x:(0,h._1)(v,"x","all","bool")};return b.BV.runKernel(B.oT6,m,{axis:f,keepDims:s})}})},876:(vt,L,t)=>{"use strict";t.d(L,{Y:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({any_:function O(v,f=null,s=!1){const m={x:(0,h._1)(v,"x","any","bool")};return b.BV.runKernel(B.IKK,m,{axis:f,keepDims:s})}})},5784:(vt,L,t)=>{"use strict";t.d(L,{N:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({argMax_:function O(v,f=0){const d={x:(0,h._1)(v,"x","argMax")};return b.BV.runKernel(B.sJF,d,{axis:f})}})},8340:(vt,L,t)=>{"use strict";t.d(L,{v:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({argMin_:function O(v,f=0){const d={x:(0,h._1)(v,"x","argMin")};return b.BV.runKernel(B.aJk,d,{axis:f})}})},586:(vt,L,t)=>{"use strict";t.d(L,{Z:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({asin_:function O(v){const s={x:(0,h._1)(v,"x","asin")};return b.BV.runKernel(B.M2y,s)}})},8355:(vt,L,t)=>{"use strict";t.d(L,{V:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({asinh_:function O(v){const s={x:(0,h._1)(v,"x","asinh")};return b.BV.runKernel(B.qw7,s)}})},7881:(vt,L,t)=>{"use strict";t.d(L,{z:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({atan_:function O(v){const s={x:(0,h._1)(v,"x","atan")};return b.BV.runKernel(B.jMg,s)}})},5825:(vt,L,t)=>{"use strict";t.d(L,{f:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({atan2_:function E(f,s){let d=(0,M._1)(f,"a","atan2"),m=(0,M._1)(s,"b","atan2");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.QCc,{a:d,b:m})}})},7932:(vt,L,t)=>{"use strict";t.d(L,{C:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({atanh_:function O(v){const s={x:(0,h._1)(v,"x","atanh")};return b.BV.runKernel(B.Oyi,s)}})},6903:(vt,L,t)=>{"use strict";t.d(L,{w:()=>d});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(3062),E=t(5551),v=t(4195),f=t(5715);const d=(0,v.op)({avgPool_:function s(m,g,S,j,$){const Y=(0,h._1)(m,"x","avgPool","float32");M.hu(E.jT(S,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${S} and dilations '1'`);let dt=Y,ht=!1;3===Y.rank&&(ht=!0,dt=(0,f.X)(Y,[1,Y.shape[0],Y.shape[1],Y.shape[2]])),M.hu(4===dt.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${dt.rank}.`),E.m("avgPool",j,$);let et=b.BV.runKernel(B.JhU,{x:dt},{filterSize:g,strides:S,pad:j,dimRoundingMode:$});return et=(0,O.p)(et,Y.dtype),ht?(0,f.X)(et,[et.shape[1],et.shape[2],et.shape[3]]):et}})},929:(vt,L,t)=>{"use strict";t.d(L,{LJ:()=>f,Q3:()=>v,Vh:()=>h,YB:()=>B,kz:()=>M,lB:()=>E,rv:()=>O,sY:()=>s});var b=t(5359);function B(d,m){for(let g=0;g<d.length;++g)if(d[d.length-g-1]!==m-1-g)return!1;return!0}function h(d,m,g){const S=d.length+m.length,j=[];let $=0,Y=0;for(let Q=0;Q<S;Q++)-1===g.indexOf(Q)?j.push(d[$++]):j.push(m[Y++]);return j}function M(d,m){const g=[],S=d.length;for(let $=0;$<S;$++)-1===m.indexOf($)&&g.push(d[$]);return[g,m.map($=>d[$])]}function O(d,m){return h(d,m.map(S=>1),m)}function E(d,m,g){b.hu(B(m,g),()=>`${d} supports only inner-most axes for now. Got axes ${m} and rank-${g} input.`)}function v(d,m){if(B(d,m))return null;const g=[];for(let S=0;S<m;++S)-1===d.indexOf(S)&&g.push(S);return d.forEach(S=>g.push(S)),g}function f(d){return d.map((m,g)=>[g,m]).sort((m,g)=>m[1]-g[1]).map(m=>m[0])}function s(d,m){const g=[];for(let S=m-d;S<m;++S)g.push(S);return g}},2782:(vt,L,t)=>{"use strict";t.d(L,{E:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({batchToSpaceND_:function E(f,s,d){const m=(0,h._1)(f,"x","batchToSpaceND"),g=s.reduce(($,Y)=>$*Y);return M.hu(m.rank>=1+s.length,()=>`input rank is ${m.rank} but should be > than blockShape.length ${s.length}`),M.hu(d.length===s.length,()=>`crops.length is ${d.length} but should be equal to blockShape.length  ${s.length}`),M.hu(m.shape[0]%g==0,()=>`input tensor batch is ${m.shape[0]} but is not divisible by the product of the elements of blockShape ${s.join(" * ")} === ${g}`),b.BV.runKernel(B.zws,{x:m},{blockShape:s,crops:d})}})},5307:(vt,L,t)=>{"use strict";t.d(L,{t:()=>s});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(5715);function E(d){let m;return m=0===d.rank||1===d.rank?(0,O.X)(d,[1,1,1,d.size]):2===d.rank?(0,O.X)(d,[1,1,d.shape[0],d.shape[1]]):3===d.rank?(0,O.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]):d,m}const s=(0,t(4195).op)({batchNorm_:function f(d,m,g,S,j,$){null==$&&($=.001);const Y=(0,h._1)(d,"x","batchNorm"),Q=(0,h._1)(m,"mean","batchNorm"),dt=(0,h._1)(g,"variance","batchNorm");let ht,Wt;null!=j&&(ht=(0,h._1)(j,"scale","batchNorm")),null!=S&&(Wt=(0,h._1)(S,"offset","batchNorm")),M.hu(Q.rank===dt.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),M.hu(null==Wt||Q.rank===Wt.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),M.hu(null==ht||Q.rank===ht.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const et={x:E(Y),scale:ht,offset:Wt,mean:Q,variance:dt},x=b.BV.runKernel(B.sHE,et,{varianceEpsilon:$});return(0,O.X)(x,Y.shape)}})},983:(vt,L,t)=>{"use strict";t.d(L,{U:()=>s});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(7315),E=t(4195),v=t(5715);const s=(0,E.op)({broadcastTo_:function f(d,m){let g=(0,h._1)(d,"broadcastTo","x");const S=g.shape;if((0,M.Mu)(m),m.length<g.rank)throw new Error(`broadcastTo(): shape.length=${m.length} < input.rank=${g.rank}.`);if(m.length>g.rank){const ht=g.shape.slice();for(;ht.length<m.length;)ht.unshift(1);g=(0,v.X)(g,ht)}const j=g.shape,$=Array.from(m);for(let ht=m.length-1;ht>=0;ht--)if(j[ht]===m[ht])$[ht]=1;else if(1!==g.shape[ht])throw new Error(`broadcastTo(): [${S}] cannot be broadcast to [${m}].`);return 0===$.map((ht,Wt)=>ht>1?Wt:-1).filter(ht=>ht>=0).length?(0,O.d)(g):b.BV.runKernel(B.n9L,{x:g},{reps:$})}})},3239:(vt,L,t)=>{"use strict";function b(M,O){const E=M.length,v=[];for(let f=0;f<E;f++){const s=E-1-f;(O[O.length-1-f]||1)>1&&1===(M[s]||1)&&v.unshift(s)}return v}function B(M,O){const E=[];for(let v=0;v<O.length;v++){const f=M[M.length-v-1],s=O.length-v-1;(null==f||1===f&&O[s]>1)&&E.unshift(s)}return E}function h(M,O){const E=Math.max(M.length,O.length),v=new Array(E);for(let f=0;f<E;f++){let s=M[M.length-f-1];null==s&&(s=1);let d=O[O.length-f-1];if(null==d&&(d=1),1===s)v[E-f-1]=d;else if(1===d)v[E-f-1]=s;else{if(s!==d)throw Error(`Operands could not be broadcast together with shapes ${M} and ${O}.`);v[E-f-1]=s}}return v}t.r(L),t.d(L,{assertAndGetBroadcastShape:()=>h,getBroadcastDims:()=>b,getReductionAxes:()=>B})},582:(vt,L,t)=>{"use strict";t.d(L,{f:()=>h});var b=t(4945),B=t(5359);function h(M,O="float32",E){return O=O||"float32",B.Mu(M),new b.YD(M,O,E)}},3062:(vt,L,t)=>{"use strict";t.d(L,{p:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({cast_:function E(f,s){const d=(0,h._1)(f,"x","cast");if(!M.LP(s))throw new Error(`Failed to cast to unknown dtype ${s}`);if("string"===s&&"string"!==d.dtype||"string"!==s&&"string"===d.dtype)throw new Error("Only strings can be casted to strings");return b.BV.runKernel(B.RFZ,{x:d},{dtype:s})}})},9723:(vt,L,t)=>{"use strict";t.d(L,{m:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({ceil_:function O(v){const s={x:(0,h._1)(v,"x","ceil","float32")};return b.BV.runKernel(B.gJX,s)}})},6672:(vt,L,t)=>{"use strict";t.d(L,{i:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(2787);const f=(0,t(4195).op)({clipByValue_:function v(s,d,m){const g=(0,h._1)(s,"x","clipByValue");return M.hu(d<=m,()=>`Error in clip: min (${d}) must be less than or equal to max (${m}).`),d===m?(0,O.h)(g.shape,d,g.dtype):b.BV.runKernel(B.xnO,{x:g},{clipValueMin:d,clipValueMax:m})}})},7315:(vt,L,t)=>{"use strict";t.d(L,{d:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({clone_:function O(v){const s={x:(0,h._1)(v,"x","clone","string_or_numeric")};return b.BV.runKernel(B.iJz,s)}})},3037:(vt,L,t)=>{"use strict";t.d(L,{P:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({complex_:function E(f,s){const d=(0,h._1)(f,"real","complex"),m=(0,h._1)(s,"imag","complex");return M.k5(d.shape,m.shape,`real and imag shapes, ${d.shape} and ${m.shape}, must match in call to tf.complex().`),b.BV.runKernel(B.Zz9,{real:d,imag:m})}})},4111:(vt,L,t)=>{"use strict";t.d(L,{z:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(7315);const f=(0,t(4195).op)({concat_:function v(s,d=0){(0,M.hu)(s.length>=1,()=>"Pass at least one tensor to concat");const m=(0,h.sI)(s,"tensors","concat","string_or_numeric");return"complex64"===m[0].dtype&&m.forEach(j=>{if("complex64"!==j.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${j.dtype}. `)}),1===m.length?(0,O.d)(m[0]):b.BV.runKernel(B.Eh3,m,{axis:d})}})},8577:(vt,L,t)=>{"use strict";t.d(L,{P:()=>f});var b=t(1257),B=t(5359),h=t(4451),M=t(5551),O=t(4195),E=t(5715);const f=(0,O.op)({conv1d_:function v(s,d,m,g,S="NWC",j=1,$){const Y=(0,b._1)(s,"x","conv1d"),Q=(0,b._1)(d,"filter","conv1d");let dt=Y,ht=!1;2===Y.rank&&(ht=!0,dt=(0,E.X)(Y,[1,Y.shape[0],Y.shape[1]])),B.hu(3===dt.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${dt.rank}.`),B.hu(3===Q.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${Q.rank}.`),M.m("conv1d",g,$),B.hu(dt.shape[2]===Q.shape[1],()=>`Error in conv1d: depth of input (${dt.shape[2]}) must match input depth for filter ${Q.shape[1]}.`),B.hu(M.jT(m,j),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${m} and dilation '${j}'`),B.hu(M.U3(j),()=>"Error in conv1D: Dilated rates should be larger than 0."),B.hu(M.U3(m),()=>"Error in conv1D: Stride should be larger than 0."),B.hu("NWC"===S,()=>`Error in conv1d: got dataFormat of ${S} but only NWC is currently supported.`);const Wt=(0,E.X)(Q,[1,Q.shape[0],Q.shape[1],Q.shape[2]]),G=(0,E.X)(dt,[dt.shape[0],1,dt.shape[1],dt.shape[2]]),N=(0,h.T)(G,Wt,[1,m],g,"NHWC",[1,j],$);return(0,E.X)(N,ht?[N.shape[2],N.shape[3]]:[N.shape[0],N.shape[2],N.shape[3]])}})},4451:(vt,L,t)=>{"use strict";t.d(L,{T:()=>s});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(5551),E=t(4195),v=t(5715);const s=(0,E.op)({conv2d_:function f(d,m,g,S,j="NHWC",$=[1,1],Y){const Q=(0,h._1)(d,"x","conv2d","float32"),dt=(0,h._1)(m,"filter","conv2d","float32");let ht=Q,Wt=!1;3===Q.rank&&(Wt=!0,ht=(0,v.X)(Q,[1,Q.shape[0],Q.shape[1],Q.shape[2]])),M.hu(4===ht.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${ht.rank}.`),M.hu(4===dt.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${dt.rank}.`),O.m("conv2d",S,Y);const G="NHWC"===j?ht.shape[3]:ht.shape[1];M.hu(G===dt.shape[2],()=>`Error in conv2d: depth of input (${G}) must match input depth for filter ${dt.shape[2]}.`),M.hu(O.jT(g,$),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${g} and dilations '${$}'`),M.hu(O.U3($),()=>"Error in conv2D: Dilated rates should be larger than 0."),M.hu(O.U3(g),()=>"Error in conv2D: Strides should be larger than 0.");const x=b.BV.runKernel(B.mhS,{x:ht,filter:dt},{strides:g,pad:S,dataFormat:j,dilations:$,dimRoundingMode:Y});return Wt?(0,v.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},443:(vt,L,t)=>{"use strict";t.d(L,{p:()=>f});var b=t(687),B=t(4251),h=t(5359),M=t(5551),O=t(4195),E=t(5715);const f=(0,O.op)({conv2DBackpropFilter_:function v(s,d,m,g,S,j="NHWC",$){let Y=s;3===s.rank&&(Y=(0,E.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]]));let Q=d;3===Q.rank&&(Q=(0,E.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),h.hu(4===Y.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${Y.shape}.`),h.hu(4===Q.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${Q.shape}.`),h.hu(4===m.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${m}.`);const dt="NHWC"===j?Y.shape[3]:Y.shape[1],ht="NHWC"===j?Q.shape[3]:Q.shape[1];return h.hu(dt===m[2],()=>`Error in conv2dDerFilter: depth of input ${dt}) must match input depth in filter (${m[2]}.`),h.hu(ht===m[3],()=>`Error in conv2dDerFilter: depth of dy (${ht}) must match output depth for filter (${m[3]}).`),M.m("conv2dDerFilter",S,$),b.BV.runKernel(B.wUP,{x:Y,dy:Q},{strides:g,pad:S,dataFormat:j,dimRoundingMode:$,filterShape:m})}})},5743:(vt,L,t)=>{"use strict";t.d(L,{_:()=>f});var b=t(687),B=t(4251),h=t(5359),M=t(5551),O=t(4195),E=t(5715);const f=(0,O.op)({conv2DBackpropInput_:function v(s,d,m,g,S,j="NHWC",$){h.hu(s.length===d.rank,()=>`Length of inShape (${s.length}) and rank of dy (${d.rank}) must match`);let Y=s,Q=d,dt=!1;3===d.rank&&(dt=!0,Q=(0,E.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),Y=[1,s[0],s[1],s[2]]),h.hu(4===Y.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${Y.length}.`),h.hu(4===Q.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${Q.rank}`),h.hu(4===m.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${m.rank}`);const ht="NHWC"===j?Y[3]:Y[1],Wt="NHWC"===j?Q.shape[3]:Q.shape[1];h.hu(ht===m.shape[2],()=>`Error in conv2dDerInput: depth of input (${ht}) must match input depth for filter ${m.shape[2]}.`),h.hu(Wt===m.shape[3],()=>`Error in conv2dDerInput: depth of output (${Wt}) must match output depth for filter ${m.shape[3]}.`),M.m("conv2dDerInput",S,$);const nt=b.BV.runKernel(B.wm,{dy:Q,filter:m},{strides:g,pad:S,dataFormat:j,dimRoundingMode:$,inputShape:Y});return dt?(0,E.X)(nt,[nt.shape[1],nt.shape[2],nt.shape[3]]):nt}})},8554:(vt,L,t)=>{"use strict";t.d(L,{b:()=>O});var b=t(1257),B=t(5743);const O=(0,t(4195).op)({conv2dTranspose_:function M(E,v,f,s,d,m){const g=(0,b._1)(E,"x","conv2dTranspose"),S=(0,b._1)(v,"filter","conv2dTranspose");return(0,B._)(f,g,S,s,d,"NHWC",m)}})},7022:(vt,L,t)=>{"use strict";t.d(L,{_:()=>v});var b=t(687),B=t(4251),h=t(5359),M=t(4195),O=t(5715);const v=(0,M.op)({conv3DBackpropInput_:function E(f,s,d,m,g){h.hu(f.length===s.rank,()=>`Length of inShape (${f.length}) and rank of dy (${s.rank}) must match`);let S=f,j=s,$=!1;4===s.rank&&($=!0,j=(0,O.X)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),S=[1,f[0],f[1],f[2],f[3]]);const Y=S[4],Q=j.shape[4];h.hu(5===S.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${S.length}.`),h.hu(5===j.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${j.rank}`),h.hu(5===d.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${d.rank}`),h.hu(Y===d.shape[3],()=>`Error in conv3dDerInput: depth of input (${Y}) must match input depth for filter ${d.shape[3]}.`),h.hu(Q===d.shape[4],()=>`Error in conv3dDerInput: depth of output (${Q}) must match output depth for filter ${d.shape[4]}.`);const Wt=b.BV.runKernel(B.ik2,{dy:j,filter:d},{pad:g,strides:m,inputShape:S});return $?(0,O.X)(Wt,[Wt.shape[1],Wt.shape[2],Wt.shape[3],Wt.shape[4]]):Wt}})},5551:(vt,L,t)=>{"use strict";t.d(L,{I0:()=>Y,Ix:()=>O,Rf:()=>B,U3:()=>dt,Xw:()=>h,aO:()=>s,jT:()=>Q,jw:()=>E,m:()=>Wt,pl:()=>M,sl:()=>ht});var b=t(5359);function B(G,et,nt,x,N="NHWC",c){return O(G,[...et,G[3]],nt,c,x,null,null,ht(N))}function h(G,et,nt,x,N,c,R="channelsLast"){const[H,ut]=d(et);let a;if("channelsLast"===R)a=[H,ut,G[3],G[3]];else{if("channelsFirst"!==R)throw new Error(`Unknown dataFormat ${R}`);a=[H,ut,G[1],G[1]]}return O(G,a,nt,x,N,c,!1,R)}function M(G,et,nt,x,N,c,R="NDHWC"){const[H,ut,a]=m(et);let bt,q;if("NDHWC"===R)q="channelsLast",bt=[H,ut,a,G[4],G[4]];else{if("NCDHW"!==R)throw new Error(`Unknown dataFormat ${R}`);q="channelsFirst",bt=[H,ut,a,G[1],G[1]]}return E(G,bt,nt,x,N,!1,q,c)}function O(G,et,nt,x,N,c,R=!1,H="channelsLast"){let[ut,a,bt,q]=[-1,-1,-1,-1];if("channelsLast"===H)[ut,a,bt,q]=G;else{if("channelsFirst"!==H)throw new Error(`Unknown dataFormat ${H}`);[ut,q,a,bt]=G}const[it,Dt,,At]=et,[kt,Qt]=d(nt),[ce,ie]=d(x),Pe=g(it,ce),ae=g(Dt,ie),{padInfo:ke,outHeight:Se,outWidth:on}=function S(G,et,nt,x,N,c,R,H,ut){let a,bt,q;if("number"==typeof G){a={top:G,bottom:G,left:G,right:G,type:0===G?"VALID":"NUMBER"};const Dt=function v(G,et,nt,x,N){null==x&&(x=s(G,et,nt));const R=G[1];return[$((G[0]-et+2*x)/nt+1,N),$((R-et+2*x)/nt+1,N)]}([et,nt],c,x,G,H);bt=Dt[0],q=Dt[1]}else if("same"===G){bt=Math.ceil(et/x),q=Math.ceil(nt/N);const it=Math.max(0,(bt-1)*x+c-et),Dt=Math.max(0,(q-1)*N+R-nt),At=Math.floor(it/2),kt=it-At,Qt=Math.floor(Dt/2);a={top:At,bottom:kt,left:Qt,right:Dt-Qt,type:"SAME"}}else if("valid"===G)a={top:0,bottom:0,left:0,right:0,type:"VALID"},bt=Math.ceil((et-c+1)/x),q=Math.ceil((nt-R+1)/N);else{if("object"!=typeof G)throw Error(`Unknown padding parameter: ${G}`);{const it="channelsLast"===ut?G[1][0]:G[2][0],Dt="channelsLast"===ut?G[1][1]:G[2][1],At="channelsLast"===ut?G[2][0]:G[3][0],kt="channelsLast"===ut?G[2][1]:G[3][1];a={top:it,bottom:Dt,left:At,right:kt,type:0===it&&0===Dt&&0===At&&0===kt?"VALID":"EXPLICIT"},bt=$((et-c+it+Dt)/x+1,H),q=$((nt-R+At+kt)/N+1,H)}}return{padInfo:a,outHeight:bt,outWidth:q}}(N,a,bt,kt,Qt,Pe,ae,c,H),_n=R?At*q:At;let vn;return"channelsFirst"===H?vn=[ut,_n,Se,on]:"channelsLast"===H&&(vn=[ut,Se,on,_n]),{batchSize:ut,dataFormat:H,inHeight:a,inWidth:bt,inChannels:q,outHeight:Se,outWidth:on,outChannels:_n,padInfo:ke,strideHeight:kt,strideWidth:Qt,filterHeight:it,filterWidth:Dt,effectiveFilterHeight:Pe,effectiveFilterWidth:ae,dilationHeight:ce,dilationWidth:ie,inShape:G,outShape:vn,filterShape:et}}function E(G,et,nt,x,N,c=!1,R="channelsLast",H){let[ut,a,bt,q,it]=[-1,-1,-1,-1,-1];if("channelsLast"===R)[ut,a,bt,q,it]=G;else{if("channelsFirst"!==R)throw new Error(`Unknown dataFormat ${R}`);[ut,it,a,bt,q]=G}const[Dt,At,kt,,Qt]=et,[ce,ie,Pe]=m(nt),[ae,ke,Se]=m(x),on=g(Dt,ae),_n=g(At,ke),vn=g(kt,Se),{padInfo:An,outDepth:Je,outHeight:ct,outWidth:Bt}=function j(G,et,nt,x,N,c,R,H,ut,a,bt){let q,it,Dt,At;if("valid"===G&&(G=0),"number"==typeof G){q={top:G,bottom:G,left:G,right:G,front:G,back:G,type:0===G?"VALID":"NUMBER"};const Qt=function f(G,et,nt,x,N,c){null==N&&(N=s(G,et[0],x[0]));const R=[0,0,0,nt];for(let H=0;H<3;H++)G[H]+2*N>=et[H]&&(R[H]=$((G[H]-et[H]+2*N)/x[H]+1,c));return R}([et,nt,x,1],[H,ut,a],1,[N,c,R],G,bt);it=Qt[0],Dt=Qt[1],At=Qt[2]}else{if("same"!==G)throw Error(`Unknown padding parameter: ${G}`);{it=Math.ceil(et/N),Dt=Math.ceil(nt/c),At=Math.ceil(x/R);const kt=(it-1)*N+H-et,Qt=(Dt-1)*c+ut-nt,ce=(At-1)*R+a-x,ie=Math.floor(kt/2),Pe=kt-ie,ae=Math.floor(Qt/2),ke=Qt-ae,Se=Math.floor(ce/2);q={top:ae,bottom:ke,left:Se,right:ce-Se,front:ie,back:Pe,type:"SAME"}}}return{padInfo:q,outDepth:it,outHeight:Dt,outWidth:At}}(N,a,bt,q,ce,ie,Pe,on,_n,vn,H),zt=c?Qt*it:Qt;let de;return"channelsFirst"===R?de=[ut,zt,Je,ct,Bt]:"channelsLast"===R&&(de=[ut,Je,ct,Bt,zt]),{batchSize:ut,dataFormat:R,inDepth:a,inHeight:bt,inWidth:q,inChannels:it,outDepth:Je,outHeight:ct,outWidth:Bt,outChannels:zt,padInfo:An,strideDepth:ce,strideHeight:ie,strideWidth:Pe,filterDepth:Dt,filterHeight:At,filterWidth:kt,effectiveFilterDepth:on,effectiveFilterHeight:_n,effectiveFilterWidth:vn,dilationDepth:ae,dilationHeight:ke,dilationWidth:Se,inShape:G,outShape:de,filterShape:et}}function s(G,et,nt,x=1){const N=g(et,x);return Math.floor((G[0]*(nt-1)-nt+N)/2)}function d(G){return"number"==typeof G?[G,G,G]:2===G.length?[G[0],G[1],1]:G}function m(G){return"number"==typeof G?[G,G,G]:G}function g(G,et){return et<=1?G:G+(G-1)*(et-1)}function $(G,et){if(!et)return Math.trunc(G);switch(et){case"round":return Math.round(G);case"ceil":return Math.ceil(G);case"floor":return Math.floor(G);default:throw new Error(`Unknown roundingMode ${et}`)}}function Y(G){const[et,nt,x]=d(G);return 1===et&&1===nt&&1===x}function Q(G,et){return Y(G)||Y(et)}function dt(G){return d(G).every(et=>et>0)}function ht(G){if("NHWC"===G)return"channelsLast";if("NCHW"===G)return"channelsFirst";throw new Error(`Unknown dataFormat ${G}`)}function Wt(G,et,nt){if(null!=nt){if("string"==typeof et)throw Error(`Error in ${G}: pad must be an integer when using dimRoundingMode ${nt} but got pad ${et}.`);if("number"==typeof et)b.hu(b.GN(et),()=>`Error in ${G}: pad must be an integer when using dimRoundingMode ${nt} but got pad ${et}.`);else{if("object"!=typeof et)throw Error(`Error in ${G}: Unknown padding parameter: ${et}`);et.forEach(x=>{x.forEach(N=>{b.hu(b.GN(N),()=>`Error in ${G}: pad must be an integer when using dimRoundingMode ${nt} but got pad ${N}.`)})})}}}},9018:(vt,L,t)=>{"use strict";t.d(L,{m:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({cos_:function O(v){const s={x:(0,h._1)(v,"x","cos","float32")};return b.BV.runKernel(B.mc4,s)}})},3237:(vt,L,t)=>{"use strict";t.d(L,{f:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({cosh_:function O(v){const s={x:(0,h._1)(v,"x","cosh","float32")};return b.BV.runKernel(B.TR1,s)}})},9267:(vt,L,t)=>{"use strict";t.d(L,{$:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({cumprod_:function O(v,f=0,s=!1,d=!1){const g={x:(0,h._1)(v,"x","cumprod")};return b.BV.runKernel(B.Byc,g,{axis:f,exclusive:s,reverse:d})}})},7157:(vt,L,t)=>{"use strict";t.d(L,{z:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({cumsum_:function O(v,f=0,s=!1,d=!1){const g={x:(0,h._1)(v,"x","cumsum")};return b.BV.runKernel(B.iHb,g,{axis:f,exclusive:s,reverse:d})}})},3961:(vt,L,t)=>{"use strict";t.d(L,{n:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({depthToSpace_:function E(f,s,d="NHWC"){const m=(0,h._1)(f,"x","depthToSpace","float32"),g="NHWC"===d?m.shape[1]:m.shape[2],S="NHWC"===d?m.shape[2]:m.shape[3],j="NHWC"===d?m.shape[3]:m.shape[1];return M.hu(s>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${s}`),M.hu(g*s>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${g} and ${s}  for depthToSpace with input shape\n    ${m.shape}`),M.hu(S*s>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${S} and ${s} for depthToSpace with input shape\n        ${m.shape}`),M.hu(j%(s*s)==0,()=>`Dimension size must be evenly divisible by ${s*s} but is ${j} for depthToSpace with input shape ${m.shape}`),b.BV.runKernel(B.T0n,{x:m},{blockSize:s,dataFormat:d})}})},1172:(vt,L,t)=>{"use strict";t.d(L,{B:()=>s});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(5551),E=t(4195),v=t(5715);const s=(0,E.op)({depthwiseConv2d_:function f(d,m,g,S,j="NHWC",$=[1,1],Y){const Q=(0,h._1)(d,"x","depthwiseConv2d","float32"),dt=(0,h._1)(m,"filter","depthwiseConv2d","float32");let ht=Q,Wt=!1;3===Q.rank&&(Wt=!0,ht=(0,v.X)(Q,[1,Q.shape[0],Q.shape[1],Q.shape[2]])),M.hu(4===ht.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${ht.rank}.`),M.hu(4===dt.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${dt.rank}.`);const G="NHWC"===j?ht.shape[3]:ht.shape[1];M.hu(G===dt.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${G}) must match the inChannels dimension in filter ${dt.shape[2]}.`),O.m("depthwiseConv2d",S,Y);const x=b.BV.runKernel(B.cie,{x:ht,filter:dt},{strides:g,pad:S,dataFormat:j,dilations:$,dimRoundingMode:Y});return Wt?(0,v.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},366:(vt,L,t)=>{"use strict";t.d(L,{z:()=>E});var b=t(687),B=t(4251),h=t(4195),M=t(5715);const E=(0,h.op)({depthwiseConv2dNativeBackpropFilter_:function O(v,f,s,d,m,g=[1,1],S){let j=v;3===v.rank&&(j=(0,M.X)(v,[1,v.shape[0],v.shape[1],v.shape[2]]));let $=f;return 3===$.rank&&($=(0,M.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),b.BV.runKernel(B.sL$,{x:j,dy:$},{strides:d,pad:m,dimRoundingMode:S,dilations:g,filterShape:s})}})},519:(vt,L,t)=>{"use strict";t.d(L,{v:()=>E});var b=t(687),B=t(4251),h=t(4195),M=t(5715);const E=(0,h.op)({depthwiseConv2dNativeBackpropInput_:function O(v,f,s,d,m,g=[1,1],S){let j=f,$=!1;3===f.rank&&($=!0,j=(0,M.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]]));const dt=b.BV.runKernel(B.y7R,{dy:j,filter:s},{strides:d,pad:m,dimRoundingMode:S,dilations:g,inputShape:v});return $?(0,M.X)(dt,[dt.shape[1],dt.shape[2],dt.shape[3]]):dt}})},2395:(vt,L,t)=>{"use strict";t.d(L,{W:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(4195),E=t(5715);const f=(0,O.op)({dilation2d_:function v(s,d,m,g,S=[1,1],j="NHWC"){const $=(0,h._1)(s,"x","dilation2d"),Y=(0,h._1)(d,"filter","dilation2d");M.hu(3===$.rank||4===$.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${$.rank}.`),M.hu(3===Y.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${Y.rank}.`),M.hu("NHWC"===j,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${j}`);let Q=$,dt=!1;3===$.rank&&(Q=(0,E.X)($,[1,$.shape[0],$.shape[1],$.shape[2]]),dt=!0),M.hu(Q.shape[3]===Y.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${Q.shape[3]} vs ${Y.shape[2]}`);const G=b.BV.runKernel(B.p4S,{x:Q,filter:Y},{strides:m,pad:g,dilations:S});return dt?(0,E.X)(G,[G.shape[1],G.shape[2],G.shape[3]]):G}})},3530:(vt,L,t)=>{"use strict";t.d(L,{h:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(1030);const f=(0,t(4195).op)({div_:function v(s,d){let m=(0,M._1)(s,"a","div"),g=(0,M._1)(d,"b","div");return[m,g]=(0,h.makeTypesMatch)(m,g),"int32"===m.dtype&&"int32"===g.dtype?(0,O.q)(m,g):b.BV.runKernel(B.oHH,{a:m,b:g},{})}})},4373:(vt,L,t)=>{"use strict";t.d(L,{N:()=>s});var b=t(7664),B=t(1257),h=t(3530),M=t(4456),O=t(4195),E=t(2190),v=t(3143);const s=(0,O.op)({divNoNan_:function f(d,m){let g=(0,B._1)(d,"a","div"),S=(0,B._1)(m,"b","div");[g,S]=(0,b.makeTypesMatch)(g,S);const j=(0,h.h)(g,S),$=(0,v.P)(j),Y=(0,M.D)(S,$);return(0,E.a)(Y,$,j)}})},5106:(vt,L,t)=>{"use strict";t.d(L,{A:()=>v});var b=t(1257),B=t(5359),h=t(7648),M=t(4195),O=t(5715);const v=(0,M.op)({dot_:function E(f,s){const d=(0,b._1)(f,"t1","dot"),m=(0,b._1)(s,"t2","dot");B.hu(!(1!==d.rank&&2!==d.rank||1!==m.rank&&2!==m.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${d.rank} and ${m.rank}.`);const g=1===d.rank?d.size:d.shape[1],S=1===m.rank?m.size:m.shape[0];if(B.hu(g===S,()=>`Error in dot: inner dimensions of inputs must match, but got ${g} and ${S}.`),1===d.rank&&1===m.rank){const j=(0,O.X)(d,[1,-1]),$=(0,O.X)(m,[-1,1]),Y=(0,h.O)(j,$);return(0,O.X)(Y,[])}if(1===d.rank&&2===m.rank){const j=(0,O.X)(d,[1,-1]),$=(0,O.X)(m,[m.shape[0],m.shape[1]]),Y=(0,h.O)(j,$);return(0,O.X)(Y,[Y.size])}if(2===d.rank&&1===m.rank){const j=(0,O.X)(m,[-1,1]),$=(0,h.O)(d,j);return(0,O.X)($,[$.size])}{const j=(0,O.X)(m,[m.shape[0],m.shape[1]]);return(0,h.O)(d,j)}}})},9529:(vt,L,t)=>{"use strict";t.d(L,{p:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({elu_:function O(v){const s={x:(0,h._1)(v,"x","elu","float32")};return b.BV.runKernel(B.SX0,s)}})},4456:(vt,L,t)=>{"use strict";t.d(L,{D:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({equal_:function v(s,d){let m=(0,M._1)(s,"a","equal","string_or_numeric"),g=(0,M._1)(d,"b","equal","string_or_numeric");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B.hdR,{a:m,b:g})}})},4634:(vt,L,t)=>{"use strict";t.d(L,{q:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(3062);const f=(0,t(4195).op)({erf_:function v(s){let d=(0,h._1)(s,"x","erf");return M.hu("int32"===d.dtype||"float32"===d.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===d.dtype&&(d=(0,O.p)(d,"float32")),b.BV.runKernel(B.Omj,{x:d})}})},4279:(vt,L,t)=>{"use strict";t.d(L,{d:()=>M});var b=t(3717);const M=(0,t(4195).op)({euclideanNorm_:function h(O,E=null,v=!1){return(0,b.K)(O,"euclidean",E,v)}})},5109:(vt,L,t)=>{"use strict";t.d(L,{Q:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({exp_:function O(v){const s={x:(0,h._1)(v,"x","exp")};return b.BV.runKernel(B.NEP,s)}})},7228:(vt,L,t)=>{"use strict";t.d(L,{d:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({expandDims_:function E(f,s=0){const d=(0,h._1)(f,"x","expandDims","string_or_numeric");return M.hu(s<=d.rank,()=>"Axis must be <= rank of the tensor"),b.BV.runKernel(B.YFo,{input:d},{dim:s})}})},5748:(vt,L,t)=>{"use strict";t.d(L,{t:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({expm1_:function O(v){const s={x:(0,h._1)(v,"x","expm1")};return b.BV.runKernel(B.Y0y,s)}})},2787:(vt,L,t)=>{"use strict";t.d(L,{h:()=>M});var b=t(687),B=t(4251),h=t(5359);function M(O,E,v){return(0,h.Mu)(O),v=v||(0,h.D2)(E),b.BV.runKernel(B.deh,{},{shape:O,value:E,dtype:v})}},8208:(vt,L,t)=>{"use strict";t.d(L,{G:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({floor_:function O(v){const s={x:(0,h._1)(v,"x","floor","float32")};return b.BV.runKernel(B.OR,s)}})},1030:(vt,L,t)=>{"use strict";t.d(L,{q:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({floorDiv_:function E(f,s){let d=(0,M._1)(f,"a","floorDiv"),m=(0,M._1)(s,"b","floorDiv");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.jeX,{a:d,b:m})}})},6254:(vt,L,t)=>{"use strict";t.d(L,{Fr:()=>g,QH:()=>j,pf:()=>S,uy:()=>$});var b=t(3239),B=t(9529),h=t(9424),M=t(8737),O=t(1584),E=t(8586),v=t(4917),f=t(5715),s=t(6139),d=t(6034),m=t(9929);function g(Y,Q,dt){if(null==dt||"linear"===dt)return Y;if("relu"===dt)return(0,M.d)(Y,(0,d.N)(Q));throw new Error(`Cannot compute gradient for fused activation ${dt}.`)}function S(Y,Q){let dt=Q;const ht=b.getReductionAxes(Y.shape,Q.shape);return ht.length>0&&(dt=(0,m.S)(dt,ht)),(0,f.X)(dt,Y.shape)}function j(Y,Q,dt,ht){if("linear"===Q)return Y;if("relu"===Q)return(0,E.U)(Y);if("elu"===Q)return(0,B.p)(Y);if("relu6"===Q)return(0,v.b)(Y);if("prelu"===Q)return(0,O.A)(Y,dt);if("leakyrelu"===Q)return(0,h.h)(Y,ht);if("sigmoid"===Q)return(0,s.X)(Y);throw new Error(`Unknown fused activation ${Q}.`)}const $=(Y,Q)=>!(Y>0)||"linear"===Q},6117:(vt,L,t)=>{"use strict";t.d(L,{I:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({gather_:function O(v,f,s=0,d=0){const m=(0,h._1)(v,"x","gather"),g=(0,h._1)(f,"indices","gather","int32");return b.BV.runKernel(B.qi_,{x:m,indices:g},{axis:s,batchDims:d})}})},4803:(vt,L,t)=>{"use strict";t.d(L,{p:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({greater_:function v(s,d){let m=(0,M._1)(s,"a","greater","string_or_numeric"),g=(0,M._1)(d,"b","greater","string_or_numeric");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B.iZT,{a:m,b:g})}})},9886:(vt,L,t)=>{"use strict";t.d(L,{b:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({greaterEqual_:function v(s,d){let m=(0,M._1)(s,"a","greaterEqual","string_or_numeric"),g=(0,M._1)(d,"b","greaterEqual","string_or_numeric");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B.Acj,{a:m,b:g})}})},1844:(vt,L,t)=>{"use strict";t.d(L,{a:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({imag_:function O(v){const s={input:(0,h._1)(v,"input","imag")};return b.BV.runKernel(B.J_u,s)}})},1353:(vt,L,t)=>{"use strict";t.d(L,{I:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(4195),E=t(5715);const f=(0,O.op)({resizeBilinear_:function v(s,d,m=!1,g=!1){const S=(0,h._1)(s,"images","resizeBilinear");M.hu(3===S.rank||4===S.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${S.rank}.`),M.hu(2===d.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${d}.`),M.hu(!1===g||!1===m,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let j=S,$=!1;3===S.rank&&($=!0,j=(0,E.X)(S,[1,S.shape[0],S.shape[1],S.shape[2]]));const[]=d,dt=b.BV.runKernel(B._Yw,{images:j},{alignCorners:m,halfPixelCenters:g,size:d});return $?(0,E.X)(dt,[dt.shape[1],dt.shape[2],dt.shape[3]]):dt}})},7373:(vt,L,t)=>{"use strict";t.d(L,{j:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(4195),E=t(5715);const f=(0,O.op)({resizeNearestNeighbor_:function v(s,d,m=!1,g=!1){const S=(0,h._1)(s,"images","resizeNearestNeighbor");M.hu(3===S.rank||4===S.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${S.rank}.`),M.hu(2===d.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${d}.`),M.hu("float32"===S.dtype||"int32"===S.dtype,()=>"`images` must have `int32` or `float32` as dtype"),M.hu(!1===g||!1===m,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let j=S,$=!1;3===S.rank&&($=!0,j=(0,E.X)(S,[1,S.shape[0],S.shape[1],S.shape[2]]));const[]=d,dt=b.BV.runKernel(B.dpD,{images:j},{alignCorners:m,halfPixelCenters:g,size:d});return $?(0,E.X)(dt,[dt.shape[1],dt.shape[2],dt.shape[3]]):dt}})},8821:(vt,L,t)=>{"use strict";t.d(L,{x:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({isFinite_:function O(v){const s={x:(0,h._1)(v,"x","isFinite")};return b.BV.runKernel(B.avt,s)}})},8381:(vt,L,t)=>{"use strict";t.d(L,{U:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({isInf_:function O(v){const s={x:(0,h._1)(v,"x","isInf")};return b.BV.runKernel(B.iWB,s)}})},6483:(vt,L,t)=>{"use strict";t.d(L,{i:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({isNaN_:function O(v){const s={x:(0,h._1)(v,"x","isNaN")};return b.BV.runKernel(B.r7n,s)}})},9424:(vt,L,t)=>{"use strict";t.d(L,{h:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({leakyRelu_:function O(v,f=.2){const d={x:(0,h._1)(v,"x","leakyRelu")};return b.BV.runKernel(B.J$2,d,{alpha:f})}})},2761:(vt,L,t)=>{"use strict";t.d(L,{d:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({less_:function v(s,d){let m=(0,M._1)(s,"a","less","string_or_numeric"),g=(0,M._1)(d,"b","less","string_or_numeric");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B.vtC,{a:m,b:g})}})},2223:(vt,L,t)=>{"use strict";t.d(L,{z:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({lessEqual_:function v(s,d){let m=(0,M._1)(s,"a","lessEqual","string_or_numeric"),g=(0,M._1)(d,"b","lessEqual","string_or_numeric");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B.CAk,{a:m,b:g})}})},1523:(vt,L,t)=>{"use strict";t.d(L,{G:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(4195),E=t(5715);const f=(0,O.op)({localResponseNormalization_:function v(s,d=5,m=1,g=1,S=.5){const j=(0,h._1)(s,"x","localResponseNormalization");M.hu(4===j.rank||3===j.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${j.rank}.`),M.hu(M.GN(d),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${d}.`);let $=j,Y=!1;3===j.rank&&(Y=!0,$=(0,E.X)(j,[1,j.shape[0],j.shape[1],j.shape[2]]));const ht=b.BV.runKernel(B.eZ0,{x:$},{depthRadius:d,bias:m,alpha:g,beta:S});return Y?(0,E.X)(ht,[ht.shape[1],ht.shape[2],ht.shape[3]]):ht}})},5919:(vt,L,t)=>{"use strict";t.d(L,{c:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({log_:function O(v){const s={x:(0,h._1)(v,"x","log","float32")};return b.BV.runKernel(B.ZbH,s)}})},4088:(vt,L,t)=>{"use strict";t.d(L,{K:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({log1p_:function O(v){const s={x:(0,h._1)(v,"x","log1p")};return b.BV.runKernel(B.kU,s)}})},4034:(vt,L,t)=>{"use strict";t.d(L,{e:()=>s});var b=t(3537),B=t(1257),h=t(8737),M=t(5048),O=t(4195),E=t(6139),v=t(4487);const s=(0,O.op)({logSigmoid_:function f(d){const m=(0,B._1)(d,"x","logSigmoid");return(0,b.cb)(S=>({value:(0,M.W)((0,v.W)((0,M.W)(S))),gradFunc:Y=>(0,h.d)(Y,(0,E.X)((0,M.W)(S)))}))(m)}})},6455:(vt,L,t)=>{"use strict";t.d(L,{C:()=>g});var b=t(3537),B=t(1257),h=t(3062),M=t(5109),O=t(5919),E=t(3043),v=t(8737),f=t(4195),s=t(1191),d=t(9929);const g=(0,f.op)({logSoftmax_:function m(S,j=-1){const $=(0,B._1)(S,"logits","logSoftmax");if(-1===j&&(j=$.rank-1),j!==$.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${$.rank} and axis was ${j}`);return(0,b.cb)((Q,dt)=>{const Wt=(0,E.F)(Q,j,!0),G=(0,s.l)(Q,Wt),et=(0,s.l)((0,h.p)(G,"float32"),(0,O.c)((0,d.S)((0,M.Q)(G),j,!0)));return dt([et]),{value:et,gradFunc:(x,N)=>{const[c]=N,H=(0,M.Q)(c);return(0,s.l)(x,(0,v.d)((0,d.S)(x,j,!0),H))}}})($)}})},6735:(vt,L,t)=>{"use strict";t.d(L,{l:()=>S});var b=t(1257),B=t(5359),h=t(7066),M=t(929),O=t(5109),E=t(5919),v=t(3043),f=t(4195),s=t(5715),d=t(1191),m=t(9929);const S=(0,f.op)({logSumExp_:function g(j,$=null,Y=!1){const Q=(0,b._1)(j,"x","logSumExp"),dt=(0,B.EC)($,Q.shape),ht=(0,v.F)(Q,dt,!0),Wt=(0,d.l)(Q,ht),G=(0,O.Q)(Wt),et=(0,m.S)(G,dt),nt=(0,E.c)(et),x=(0,h.I)((0,s.X)(ht,nt.shape),nt);if(Y){const N=(0,M.rv)(x.shape,dt);return(0,s.X)(x,N)}return x}})},3080:(vt,L,t)=>{"use strict";t.d(L,{H:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(3239);const v=(0,t(4195).op)({logicalAnd_:function E(f,s){const d=(0,h._1)(f,"a","logicalAnd","bool"),m=(0,h._1)(s,"b","logicalAnd","bool");return(0,M.assertAndGetBroadcastShape)(d.shape,m.shape),b.BV.runKernel(B.PYm,{a:d,b:m})}})},6399:(vt,L,t)=>{"use strict";t.d(L,{h:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({logicalNot_:function O(v){const s={x:(0,h._1)(v,"x","logicalNot","bool")};return b.BV.runKernel(B.VfG,s)}})},2693:(vt,L,t)=>{"use strict";t.d(L,{K:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(3239);const v=(0,t(4195).op)({logicalOr_:function E(f,s){const d=(0,h._1)(f,"a","logicalOr","bool"),m=(0,h._1)(s,"b","logicalOr","bool");return(0,M.assertAndGetBroadcastShape)(d.shape,m.shape),b.BV.runKernel(B.MZg,{a:d,b:m})}})},4574:(vt,L,t)=>{"use strict";t.d(L,{e:()=>f});var b=t(1257),B=t(3239),h=t(3080),M=t(6399),O=t(2693);const f=(0,t(4195).op)({logicalXor_:function v(s,d){const m=(0,b._1)(s,"a","logicalXor","bool"),g=(0,b._1)(d,"b","logicalXor","bool");return(0,B.assertAndGetBroadcastShape)(m.shape,g.shape),(0,h.H)((0,O.K)(s,d),(0,M.h)((0,h.H)(s,d)))}})},4839:(vt,L,t)=>{"use strict";t.d(L,{I:()=>b});var b=function(B){return B[B.NONE=0]="NONE",B[B.MEAN=1]="MEAN",B[B.SUM=2]="SUM",B[B.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",B}(b||{})},7648:(vt,L,t)=>{"use strict";t.d(L,{O:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({matMul_:function E(f,s,d=!1,m=!1){let g=(0,M._1)(f,"a","matMul"),S=(0,M._1)(s,"b","matMul");return[g,S]=(0,h.makeTypesMatch)(g,S),b.BV.runKernel(B.XLW,{a:g,b:S},{transposeA:d,transposeB:m})}})},3043:(vt,L,t)=>{"use strict";t.d(L,{F:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({max_:function O(v,f=null,s=!1){const m={x:(0,h._1)(v,"x","max")};return b.BV.runKernel(B.YoZ,m,{reductionIndices:f,keepDims:s})}})},2444:(vt,L,t)=>{"use strict";t.d(L,{_:()=>s});var b=t(687),B=t(4251),h=t(1257),M=t(5359),O=t(5551),E=t(4195),v=t(5715);const s=(0,E.op)({maxPool_:function f(d,m,g,S,j){const $=(0,h._1)(d,"x","maxPool");let Q=$,dt=!1;3===$.rank&&(dt=!0,Q=(0,v.X)($,[1,$.shape[0],$.shape[1],$.shape[2]])),M.hu(4===Q.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${Q.rank}.`),M.hu(O.jT(g,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${g} and dilations '1'`),O.m("maxPool",S,j);const G=b.BV.runKernel(B.mTV,{x:Q},{filterSize:m,strides:g,pad:S,dimRoundingMode:j});return dt?(0,v.X)(G,[G.shape[1],G.shape[2],G.shape[3]]):G}})},765:(vt,L,t)=>{"use strict";t.d(L,{g:()=>s});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239),E=t(3062);const s=(0,t(4195).op)({maximum_:function f(d,m){let g=(0,M._1)(d,"a","maximum"),S=(0,M._1)(m,"b","maximum");return[g,S]=(0,h.makeTypesMatch)(g,S),"bool"===g.dtype&&(g=(0,E.p)(g,"int32"),S=(0,E.p)(S,"int32")),(0,O.assertAndGetBroadcastShape)(g.shape,S.shape),b.BV.runKernel(B.BMI,{a:g,b:S})}})},9357:(vt,L,t)=>{"use strict";t.d(L,{J:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({mean_:function O(v,f=null,s=!1){const m={x:(0,h._1)(v,"x","mean")};return b.BV.runKernel(B.q2K,m,{axis:f,keepDims:s})}})},9602:(vt,L,t)=>{"use strict";t.d(L,{V:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({min_:function O(v,f=null,s=!1){const m={x:(0,h._1)(v,"x","min")};return b.BV.runKernel(B.c17,m,{axis:f,keepDims:s})}})},2684:(vt,L,t)=>{"use strict";t.d(L,{L:()=>s});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239),E=t(3062);const s=(0,t(4195).op)({minimum_:function f(d,m){let g=(0,M._1)(d,"a","minimum"),S=(0,M._1)(m,"b","minimum");return[g,S]=(0,h.makeTypesMatch)(g,S),"bool"===g.dtype&&(g=(0,E.p)(g,"int32"),S=(0,E.p)(S,"int32")),(0,O.assertAndGetBroadcastShape)(g.shape,S.shape),b.BV.runKernel(B.q8u,{a:g,b:S})}})},4639:(vt,L,t)=>{"use strict";t.d(L,{V:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({mirrorPad_:function E(f,s,d){M.hu("reflect"===d||"symmetric"===d,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${d}.`);const m=(0,h._1)(f,"x","mirrorPad");if(0===m.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");M.hu(s.length===m.rank,()=>`Padding doesn't match input. Must be ${m.rank}. Got ${s.length}.`);const g="reflect"===d?1:0;for(let $=0;$<m.rank;$++)M.hu(2===s[$].length,()=>"Invalid number of paddings. Must be length of 2 each."),M.hu(s[$][0]>=0&&s[$][0]<=m.shape[$]-g&&s[$][1]>=0&&s[$][1]<=m.shape[$]-g,()=>`Padding in dimension ${$} cannot be greater than or equal to ${m.shape[$]-g} or less than 0 for input of shape ${m.shape}`);return b.BV.runKernel(B.jQs,{x:m},{paddings:s,mode:d})}})},1612:(vt,L,t)=>{"use strict";t.d(L,{w:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({mod_:function E(f,s){let d=(0,M._1)(f,"a","mod"),m=(0,M._1)(s,"b","mod");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.Vbg,{a:d,b:m})}})},8737:(vt,L,t)=>{"use strict";t.d(L,{d:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({mul_:function E(f,s){let d=(0,M._1)(f,"a","mul"),m=(0,M._1)(s,"b","mul");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.wYn,{a:d,b:m})}})},5048:(vt,L,t)=>{"use strict";t.d(L,{W:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({neg_:function O(v){const s={x:(0,h._1)(v,"x","neg")};return b.BV.runKernel(B.kuV,s)}})},3717:(vt,L,t)=>{"use strict";t.d(L,{K:()=>Y});var b=t(1257),B=t(5359),h=t(6989),M=t(929),O=t(3043),E=t(9602),v=t(4195),f=t(2962),s=t(5715),d=t(8661),m=t(930),g=t(7527),S=t(9929);function $(Q,dt,ht=null){if(0===Q.rank)return(0,h.W)(Q);if(1!==Q.rank&&null===ht)return $((0,s.X)(Q,[-1]),dt,ht);if(1===Q.rank||"number"==typeof ht||Array.isArray(ht)&&1===ht.length){if(1===dt)return(0,S.S)((0,h.W)(Q),ht);if(dt===1/0)return(0,O.F)((0,h.W)(Q),ht);if(dt===-1/0)return(0,E.V)((0,h.W)(Q),ht);if("euclidean"===dt||2===dt)return(0,m._)((0,S.S)((0,f.s)((0,h.W)(Q),(0,d.i)(2,"int32")),ht));throw new Error(`Error in norm: invalid ord value: ${dt}`)}if(Array.isArray(ht)&&2===ht.length){if(1===dt)return(0,O.F)((0,S.S)((0,h.W)(Q),ht[0]),ht[1]-1);if(dt===1/0)return(0,O.F)((0,S.S)((0,h.W)(Q),ht[1]),ht[0]);if(dt===-1/0)return(0,E.V)((0,S.S)((0,h.W)(Q),ht[1]),ht[0]);if("fro"===dt||"euclidean"===dt)return(0,m._)((0,S.S)((0,g.h)(Q),ht));throw new Error(`Error in norm: invalid ord value: ${dt}`)}throw new Error(`Error in norm: invalid axis: ${ht}`)}const Y=(0,v.op)({norm_:function j(Q,dt="euclidean",ht=null,Wt=!1){const G=$(Q=(0,b._1)(Q,"x","norm"),dt,ht);let et=G.shape;if(Wt){const nt=(0,B.EC)(ht,Q.shape);et=M.rv(G.shape,nt)}return(0,s.X)(G,et)}})},4015:(vt,L,t)=>{"use strict";t.d(L,{Q:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({notEqual_:function v(s,d){let m=(0,M._1)(s,"a","notEqual","string_or_numeric"),g=(0,M._1)(d,"b","notEqual","string_or_numeric");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B.yQU,{a:m,b:g})}})},5618:(vt,L,t)=>{"use strict";t.d(L,{l:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({oneHot_:function O(v,f,s=1,d=0,m="int32"){if(f<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${f}`);const S={indices:(0,h._1)(v,"indices","oneHot","int32")};return b.BV.runKernel(B.we_,S,{dtype:m,depth:f,onValue:s,offValue:d})}})},4968:(vt,L,t)=>{"use strict";t.d(L,{i:()=>O});var b=t(687),B=t(5359),h=t(3037),M=t(6467);function O(E,v="float32"){if((0,B.Mu)(E),"complex64"===v){const s=O(E,"float32"),d=(0,M.l)(E,"float32");return(0,h.P)(s,d)}const f=(0,B.p8)((0,B.NA)(E),v);return b.BV.makeTensor(f,E,v)}},5034:(vt,L,t)=>{"use strict";t.d(L,{J:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({onesLike_:function O(v){const s={x:(0,h._1)(v,"x","onesLike")};return b.BV.runKernel(B.qWM,s)}})},4195:(vt,L,t)=>{"use strict";t.d(L,{op:()=>M,z:()=>h});var b=t(687),B=t(5359);const h="__op";function M(O){const E=Object.keys(O);if(1!==E.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${E.length} keys.`);let v=E[0];const f=O[v];v.endsWith("_")&&(v=v.substring(0,v.length-1)),v+=h;const s=(...d)=>{b.BV.startScope(v);try{const m=f(...d);return(0,B.tI)(m)&&console.error("Cannot return a Promise inside of tidy."),b.BV.endScope(m),m}catch(m){throw b.BV.endScope(null),m}};return Object.defineProperty(s,"name",{value:v,configurable:!0}),s}},3667:(vt,L,t)=>{"use strict";t.d(L,{zvA:()=>d.z,WnP:()=>B.W,Khb:()=>h.K,__u:()=>M._,IHx:()=>O.I,QBD:()=>g,$6P:()=>S.$,YjB:()=>j.Y,NqF:()=>$.N,vHJ:()=>Y.v,ZRM:()=>Q.Z,VfV:()=>dt.V,z4N:()=>ht.z,fvJ:()=>Wt.f,C80:()=>G.C,wS1:()=>et.w,uR5:()=>R,zEQ:()=>At,tgs:()=>Qt.t,Dxk:()=>ie,JY5:()=>ae,p3b:()=>Se,E4h:()=>kt.E,yE8:()=>_n,ycw:()=>An,anm:()=>Da,XsQ:()=>ct,UFq:()=>Bt.U,f3b:()=>zt.f,pju:()=>nt.p,mDi:()=>de.m,iUl:()=>Ve.i,d9v:()=>rn.d,PYB:()=>qe.P,zoF:()=>H.z,gME:()=>Kn,Izb:()=>hr,MNy:()=>jn,ZaL:()=>Nr,PAt:()=>Br.P,Tek:()=>xr.T,bc:()=>Pn.b,pdZ:()=>Yn,$QV:()=>dr,mCk:()=>Ar.m,f9Y:()=>fn.f,mew:()=>Kt,$Gn:()=>pr.$,zbp:()=>pt.z,ppE:()=>Qn,nTT:()=>Ye.n,B10:()=>$r.B,Ka3:()=>Ur,WmZ:()=>Mn.W,hiC:()=>tn.h,NTj:()=>mr.N,AKD:()=>Sn.A,rvX:()=>Tt,WYO:()=>gr,pyx:()=>Wr.p,GRh:()=>Rt,EDe:()=>yt,DgJ:()=>Et.D,qNN:()=>gt.q,d2q:()=>_t.d,Qqt:()=>Nt.Q,dt4:()=>Mt.d,t$B:()=>$t.t,iyy:()=>xt,kp_:()=>Hs.k,hlL:()=>Yt.h,GWj:()=>qt.G,qPi:()=>oe.q,imm:()=>b,Iqj:()=>me.I,dbB:()=>A,pjt:()=>De.p,brS:()=>xe.b,Sxn:()=>us.S,asL:()=>Ee.a,BHj:()=>ci,V3u:()=>Jt,wx0:()=>Xs.w,xVT:()=>Ne.x,UWc:()=>Ue.U,i2d:()=>te.i,hi7:()=>ge.h,d9m:()=>Ae.d,zN1:()=>Me.z,$r2:()=>hi,SX3:()=>yn,G9k:()=>We.G,cM7:()=>Le.c,Krr:()=>Nn.K,e_t:()=>wn.e,CmS:()=>ir.C,l_t:()=>Kr.l,HvI:()=>Fr.H,hJK:()=>rr.h,K5V:()=>sr.K,egP:()=>Jr.e,MB5:()=>fi,eab:()=>Vr,OI3:()=>ut.O,Fp7:()=>Mr.F,_sB:()=>ur._,YQQ:()=>Hn,Ip$:()=>Er,gWQ:()=>br.g,J69:()=>Un.J,ry_:()=>T,VV$:()=>rt.V,LTh:()=>It.L,VdP:()=>Ft.V,wQq:()=>wt.w,Gi7:()=>an,p_:()=>Aa,dC7:()=>a.d,rq4:()=>$e,SJ_:()=>Re,W76:()=>Ce.W,KOy:()=>pa.K,Quu:()=>en.Q,lfX:()=>r.l,iUs:()=>u.i,JpU:()=>e.J,op:()=>d.op,N2O:()=>o,vku:()=>D.v,pNR:()=>F,koy:()=>ot,t1L:()=>Zt,lGY:()=>fe,d_R:()=>be.d,sQ3:()=>ze.s,AL3:()=>Ge.A,S0v:()=>ve.S,WVs:()=>nn.W,$gW:()=>Jn,VT$:()=>pn,N89:()=>Pt,TN_:()=>Es,wzB:()=>ra,nGf:()=>Us,ruB:()=>Ps,LGj:()=>ts,pe5:()=>As,w6H:()=>Rr,kwC:()=>Sr.k,M25:()=>Ms.M,UYe:()=>os.U,btT:()=>Ks.b,XLQ:()=>N.X,GYS:()=>es.G,SDf:()=>hs,diP:()=>Fs,sx7:()=>aa,mG2:()=>ns,QEs:()=>ms.Q,NMM:()=>Is.N,bp0:()=>bs.b,iD$:()=>In.i,snQ:()=>Ma,zcT:()=>yr,U8D:()=>Ot.U,U_I:()=>Ss.U,ODp:()=>zr,XD2:()=>bt.X,Xxe:()=>Vs.X,tdS:()=>li,O$l:()=>zs.O,R_K:()=>Or.R,tPi:()=>q.t,jZU:()=>Cr,SmN:()=>ua,CnO:()=>js,p0P:()=>la,XAC:()=>ca.X,Wvh:()=>Gs.W,fBT:()=>xs.f,rVs:()=>di,ers:()=>l,uN7:()=>ui,Vl2:()=>gs.V,_b3:()=>i._,h62:()=>re.h,$i:()=>I.$,L9e:()=>W.L,knu:()=>X.k,Nbs:()=>ft.N,NXj:()=>at.N,Z_8:()=>pi,luU:()=>se.l,Smz:()=>lt.S,ORZ:()=>St.O,AEp:()=>it.A,XeE:()=>Xt.X,RRF:()=>pe,odF:()=>Be,wOQ:()=>Ke.w,yXz:()=>Oe,Bfx:()=>He,xZs:()=>sn,Pg0:()=>qn,Gg6:()=>Ht.G,hg7:()=>Tr.h,p4s:()=>da.p,Xu6:()=>dn,Two:()=>Fn.T,pUJ:()=>Zr.p,HHK:()=>jr.H,GaM:()=>Zs,VD$:()=>rs,arb:()=>Lr.a,itS:()=>ya,lls:()=>Ea.l,P84:()=>Oa.P});var b={};t.r(b),t.d(b,{conv2d:()=>kn,depthwiseConv2d:()=>Ia,matMul:()=>La});var B=t(6989),h=t(1184),M=t(5622),O=t(7066),E=t(687),v=t(4251),f=t(1257),s=t(5359),d=t(4195);const g=(0,d.op)({addN_:function m(k){s.hu(Array.isArray(k),()=>"The argument passed to tf.addN() must be a list of tensors"),s.hu(k.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${k.length}`);const C=k.map((z,Z)=>(0,f._1)(z,`tensors${Z}`,"addN")),w=C[0];return C.forEach(z=>{if(z.dtype!==w.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),C.forEach(z=>{if(!s.cO(z.shape,w.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),E.BV.runKernel(v.Xze,C)}});var S=t(1862),j=t(876),$=t(5784),Y=t(8340),Q=t(586),dt=t(8355),ht=t(7881),Wt=t(5825),G=t(7932),et=t(6903),nt=t(3062),x=t(5551),N=t(5715);const R=(0,d.op)({avgPool3d_:function c(k,C,w,U,z,Z="NDHWC"){const J=(0,f._1)(k,"x","avgPool3d","float32");let mt=J,Ct=!1;4===J.rank&&(Ct=!0,mt=(0,N.X)(J,[1,J.shape[0],J.shape[1],J.shape[2],J.shape[3]])),s.hu(5===mt.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${mt.rank}.`),s.hu("NDHWC"===Z,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${Z}`),s.hu("number"==typeof w&&w>0||Array.isArray(w)&&w[0]>0&&w[1]>0&&w[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${w}'`),(0,x.m)("avgPool3d",U,z);let ne=E.BV.runKernel(v._k9,{x:mt},{filterSize:C,strides:w,pad:U,dimRoundingMode:z,dataFormat:Z});return ne=(0,nt.p)(ne,mt.dtype),Ct?(0,N.X)(ne,[ne.shape[1],ne.shape[2],ne.shape[3],ne.shape[4]]):ne}});var H=t(4111),ut=t(7648),a=t(8737),bt=t(6139),q=t(8317),it=t(5987);const At=(0,d.op)({basicLSTMCell_:function Dt(k,C,w,U,z,Z){const J=(0,f._1)(k,"forgetBias","basicLSTMCell"),mt=(0,f._1)(C,"lstmKernel","basicLSTMCell"),Ct=(0,f._1)(w,"lstmBias","basicLSTMCell"),Ut=(0,f._1)(U,"data","basicLSTMCell"),ee=(0,f._1)(z,"c","basicLSTMCell"),ne=(0,f._1)(Z,"h","basicLSTMCell"),Ie=(0,H.z)([Ut,ne],1),Fe=(0,ut.O)(Ie,mt),ln=(0,O.I)(Fe,Ct),cn=ln.shape[1]/4,En=[ln.shape[0],cn],cr=(0,q.t)(ln,[0,0],En),Dr=(0,q.t)(ln,[0,cn],En),Pr=(0,q.t)(ln,[0,2*cn],En),Zn=(0,q.t)(ln,[0,3*cn],En),hn=(0,O.I)((0,a.d)((0,bt.X)(cr),(0,it.A)(Dr)),(0,a.d)(ee,(0,bt.X)((0,O.I)(J,Pr))));return[hn,(0,a.d)((0,it.A)(hn),(0,bt.X)(Zn))]}});var kt=t(2782),Qt=t(5307);const ie=(0,d.op)({batchNorm2d_:function ce(k,C,w,U,z,Z){const J=(0,f._1)(k,"x","batchNorm"),mt=(0,f._1)(C,"mean","batchNorm"),Ct=(0,f._1)(w,"variance","batchNorm");let Ut,ee;return null!=z&&(Ut=(0,f._1)(z,"scale","batchNorm")),null!=U&&(ee=(0,f._1)(U,"offset","batchNorm")),s.hu(2===J.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${J.rank}.`),s.hu(2===mt.rank||1===mt.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${mt.rank}.`),s.hu(2===Ct.rank||1===Ct.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${Ct.rank}.`),null!=Ut&&s.hu(2===Ut.rank||1===Ut.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${Ut.rank}.`),null!=ee&&s.hu(2===ee.rank||1===ee.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${ee.rank}.`),(0,Qt.t)(J,mt,Ct,ee,Ut,Z)}}),ae=(0,d.op)({batchNorm3d_:function Pe(k,C,w,U,z,Z){const J=(0,f._1)(k,"x","batchNorm"),mt=(0,f._1)(C,"mean","batchNorm"),Ct=(0,f._1)(w,"variance","batchNorm");let Ut,ee;return null!=z&&(Ut=(0,f._1)(z,"scale","batchNorm")),null!=U&&(ee=(0,f._1)(U,"offset","batchNorm")),s.hu(3===J.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${J.rank}.`),s.hu(3===mt.rank||1===mt.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${mt.rank}.`),s.hu(3===Ct.rank||1===Ct.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${Ct.rank}.`),null!=Ut&&s.hu(3===Ut.rank||1===Ut.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${Ut.rank}.`),null!=ee&&s.hu(3===ee.rank||1===ee.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${ee.rank}.`),(0,Qt.t)(J,mt,Ct,ee,Ut,Z)}}),Se=(0,d.op)({batchNorm4d_:function ke(k,C,w,U,z,Z){const J=(0,f._1)(k,"x","batchNorm"),mt=(0,f._1)(C,"mean","batchNorm"),Ct=(0,f._1)(w,"variance","batchNorm");let Ut,ee;return null!=z&&(Ut=(0,f._1)(z,"scale","batchNorm")),null!=U&&(ee=(0,f._1)(U,"offset","batchNorm")),s.hu(4===J.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${J.rank}.`),s.hu(4===mt.rank||1===mt.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${mt.rank}.`),s.hu(4===Ct.rank||1===Ct.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${Ct.rank}.`),null!=Ut&&s.hu(4===Ut.rank||1===Ut.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${Ut.rank}.`),null!=ee&&s.hu(4===ee.rank||1===ee.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${ee.rank}.`),(0,Qt.t)(J,mt,Ct,ee,Ut,Z)}}),_n=(0,d.op)({bincount_:function on(k,C,w){const U=(0,f._1)(k,"x","bincount"),z=(0,f._1)(C,"weights","bincount");return s.hu("int32"===U.dtype,()=>`Error in bincount: input dtype must be int32, but got ${U.dtype}`),s.hu(w>=0,()=>`size must be non-negative, but got ${w}.`),s.hu(z.size===U.size||0===z.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${U.shape}, weights shape: ${z.shape}.`),E.BV.runKernel(v.zvY,{x:U,weights:z},{size:w})}}),An=(0,d.op)({bitwiseAnd_:function vn(k,C){const w=(0,f._1)(k,"x","bitwiseAnd"),U=(0,f._1)(C,"y","bitwiseAnd");if(!(0,s.cO)(w.shape,U.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${w.shape}, y: ${U.shape}`);if("int32"!==w.dtype||"int32"!==U.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${w.dtype} and type of y: ${U.dtype}`);return E.BV.runKernel(v.hCO,{a:w,b:U})}}),ct=(0,d.op)({broadcastArgs_:function Je(k,C){const w=(0,f._1)(k,"s0","broadcastArgs","int32"),U=(0,f._1)(C,"s1","broadcastArgs","int32");if(1!==w.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${w.rank}`);if(1!==U.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${U.rank}`);return E.BV.runKernel(v.eEB,{s0:w,s1:U})}});var Bt=t(983),zt=t(582),de=t(9723),Ve=t(6672),rn=t(7315),qe=t(3037);const Kn=(0,d.op)({concat1d_:function un(k){return(0,H.z)(k,0)}}),hr=(0,d.op)({concat2d_:function tr(k,C){return(0,H.z)(k,C)}}),jn=(0,d.op)({concat3d_:function zn(k,C){return(0,H.z)(k,C)}}),Nr=(0,d.op)({concat4d_:function xn(k,C){return(0,H.z)(k,C)}});var Br=t(8577),xr=t(4451),Pn=t(8554);const Yn=(0,d.op)({conv3d_:function Gn(k,C,w,U,z="NDHWC",Z=[1,1,1]){const J=(0,f._1)(k,"x","conv3d"),mt=(0,f._1)(C,"filter","conv3d");let Ct=J,Ut=!1;4===J.rank&&(Ut=!0,Ct=(0,N.X)(J,[1,J.shape[0],J.shape[1],J.shape[2],J.shape[3]])),s.hu(5===Ct.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${Ct.rank}.`),s.hu(5===mt.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${mt.rank}.`),s.hu(Ct.shape[4]===mt.shape[3],()=>`Error in conv3d: depth of input (${Ct.shape[4]}) must match input depth for filter ${mt.shape[3]}.`),s.hu((0,x.jT)(w,Z),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${w} and dilations '${Z}'`),s.hu("NDHWC"===z,()=>`Error in conv3d: got dataFormat of ${z} but only NDHWC is currently supported.`),s.hu((0,x.U3)(Z),()=>"Error in conv3D: Dilated rates should be larger than 0."),s.hu((0,x.U3)(w),()=>"Error in conv3D: Strides should be larger than 0.");const Ie=E.BV.runKernel(v.x12,{x:Ct,filter:mt},{strides:w,pad:U,dataFormat:z,dilations:Z});return Ut?(0,N.X)(Ie,[Ie.shape[1],Ie.shape[2],Ie.shape[3],Ie.shape[4]]):Ie}});var fr=t(7022);const dr=(0,d.op)({conv3dTranspose_:function On(k,C,w,U,z){const Z=(0,f._1)(k,"x","conv3dTranspose"),J=(0,f._1)(C,"filter","conv3dTranspose");return(0,fr._)(w,Z,J,U,z)}});var Ar=t(9018),fn=t(3237),pr=t(9267),pt=t(7157);const Qn=(0,d.op)({denseBincount_:function er(k,C,w,U=!1){const z=(0,f._1)(k,"x","denseBincount"),Z=(0,f._1)(C,"weights","denseBincount");return s.hu("int32"===z.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${z.dtype}`),s.hu(z.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${z.rank}.`),s.hu(w>=0,()=>`size must be non-negative, but got ${w}.`),s.hu(Z.size===z.size||0===Z.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${z.shape}, weights shape: ${Z.shape}.`),E.BV.runKernel(v.QRR,{x:z,weights:Z},{size:w,binaryOutput:U})}});var Ye=t(3961),$r=t(1172);const Ur=(0,d.op)({diag_:function bn(k){const w={x:(0,f._1)(k,"x","diag")};return E.BV.runKernel(v.$w,w)}});var Mn=t(2395),tn=t(3530),mr=t(4373),Sn=t(5106);const gr=(0,d.op)({einsum_:function nr(k,...C){const w=C.map((z,Z)=>(0,f._1)(z,`tensors${Z}`,"einsum"));return E.BV.runKernel(v.$g6,w,{equation:k})}});var Wr=t(9529);const yt=(0,d.op)({ensureShape_:function tt(k,C){const w=(0,f._1)(k,"x","ensureShape","string_or_numeric");if(!(0,s.DK)(w.shape,C))throw new Error(`EnsureShape: Shape of tensor ${w.shape} is not compatible with expected shape ${C}`);return k}});var Et=t(4456),gt=t(4634),_t=t(4279),Nt=t(5109),Mt=t(7228),$t=t(5748),Ht=t(2005);const xt=(0,d.op)({eye_:function jt(k,C,w,U="float32"){null==C&&(C=k);const z=(0,zt.f)([k,C],U),Z=k<=C?k:C;for(let mt=0;mt<Z;++mt)z.set(1,mt,mt);const J=(0,N.X)(z.toTensor(),[k,C]);if(null==w)return J;if(1===w.length)return(0,Ht.G)((0,Mt.d)(J,0),[w[0],1,1]);if(2===w.length)return(0,Ht.G)((0,Mt.d)((0,Mt.d)(J,0),0),[w[0],w[1],1,1]);if(3===w.length)return(0,Ht.G)((0,Mt.d)((0,Mt.d)((0,Mt.d)(J,0),0),0),[w[0],w[1],w[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${w.length}D.`)}});var Yt=t(2787),qt=t(8208),oe=t(1030),me=t(6117),De=t(4803),xe=t(9886),Ee=t(1844),Ne=t(8821),Ue=t(8381),te=t(6483),ge=t(9424),Ae=t(2761),Me=t(2223);function yn(k,C,w){if(w<=0)throw new Error("The number of values should be positive.");return E.BV.runKernel(v.e7N,{},{start:k,stop:C,num:w})}var We=t(1523),Le=t(5919),Nn=t(4088),wn=t(4034),ir=t(6455),Kr=t(6735),Fr=t(3080),rr=t(6399),sr=t(2693),Jr=t(4574);const $n=2147483648,yr=(0,d.op)({searchSorted_:function kr(k,C,w="left"){const U=(0,f._1)(k,"sortedSequence","searchSorted"),z=(0,f._1)(C,"values","searchSorted"),J=z.shape[z.shape.length-1],mt=(0,N.X)(U,[-1,U.shape[U.shape.length-1]]),Ct=(0,N.X)(z,[-1,J]);if(mt.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(mt.shape[0]!==Ct.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,s.NA)(Ct.shape)>=$n)throw new Error(`values tensor size must less than ${$n}`);if(mt.shape[1]>=$n)throw new Error(`trailing dim_size must less than ${$n} for int32 output type, was ${mt.shape[1]}`);return E.BV.runKernel(v.nr8,{sortedSequence:mt,values:Ct},{side:w})}});function Vr(k,C){return yr(k,C,"left")}var Mr=t(3043),ur=t(2444);const Hn=(0,d.op)({maxPool3d_:function Ir(k,C=[1,1,1],w,U,z,Z="NDHWC"){const J=(0,f._1)(k,"x","maxPool3d");let mt=J,Ct=!1;4===J.rank&&(Ct=!0,mt=(0,N.X)(J,[1,J.shape[0],J.shape[1],J.shape[2],J.shape[3]])),s.hu(5===mt.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${mt.rank}.`),s.hu("NDHWC"===Z,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${Z}`),(0,x.m)("maxPool3d",U,z);const ne=E.BV.runKernel(v.OAf,{x:mt},{filterSize:C,strides:w,pad:U,dimRoundingMode:z,dataFormat:Z});return Ct?(0,N.X)(ne,[ne.shape[1],ne.shape[2],ne.shape[3],ne.shape[4]]):ne}}),Er=(0,d.op)({maxPoolWithArgmax_:function wr(k,C,w,U,z=!1){const J={x:(0,f._1)(k,"x","maxPoolWithArgmax")},Ct=E.BV.runKernel(v.vFR,J,{filterSize:C,strides:w,pad:U,includeBatchInIndex:z});return{result:Ct[0],indexes:Ct[1]}}});var br=t(765),Un=t(9357),u=t(4968),_=t(4945);function T(k,C,{indexing:w="xy"}={}){if("xy"!==w&&"ij"!==w)throw new TypeError(`${w} is not a valid third argument to meshgrid`);if(void 0===k)return[];let U=(0,f._1)(k,"x","meshgrid",k instanceof _.es?k.dtype:"float32");if(void 0===C)return[U];let z=(0,f._1)(C,"y","meshgrid",C instanceof _.es?C.dtype:"float32");const Z=(0,s.NA)(U.shape),J=(0,s.NA)(z.shape);return"xy"===w?(U=(0,N.X)(U,[1,-1]),z=(0,N.X)(z,[-1,1]),[(0,ut.O)((0,u.i)([J,1],U.dtype),U),(0,ut.O)(z,(0,u.i)([1,Z],z.dtype))]):(U=(0,N.X)(U,[-1,1]),z=(0,N.X)(z,[1,-1]),[(0,ut.O)(U,(0,u.i)([1,J],U.dtype)),(0,ut.O)((0,u.i)([Z,1],z.dtype),z)])}var rt=t(9602),It=t(2684),Ft=t(4639),wt=t(1612),Vt=t(929),re=t(7527),se=t(1191);const an=(0,d.op)({moments_:function we(k,C=null,w=!1){k=(0,f._1)(k,"x","moments");const U=(0,s.EC)(C,k.shape),z=(0,Un.J)(k,U,w);let Z=z.shape;w||(Z=(0,Vt.rv)(z.shape,U));const J=(0,re.h)((0,se.l)((0,nt.p)(k,"float32"),(0,N.X)(z,Z)));return{mean:z,variance:(0,Un.J)(J,U,w)}}}),$e=(0,d.op)({multiRNNCell_:function Qe(k,C,w,U){const z=(0,f._1)(C,"data","multiRNNCell"),Z=(0,f.sI)(w,"c","multiRNNCell"),J=(0,f.sI)(U,"h","multiRNNCell");let mt=z;const Ct=[];for(let ne=0;ne<k.length;ne++){const Ie=k[ne](mt,Z[ne],J[ne]);Ct.push(Ie[0]),Ct.push(Ie[1]),mt=Ie[1]}const Ut=[],ee=[];for(let ne=0;ne<Ct.length;ne+=2)Ut.push(Ct[ne]),ee.push(Ct[ne+1]);return[Ut,ee]}}),Re=(0,d.op)({multinomial_:function _e(k,C,w,U=!1){const z=(0,f._1)(k,"logits","multinomial"),Z=z.size,J=z.rank;if(Z<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${Z}.`);if(J>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${J}`);w=w||Math.random();const Ct={logits:1===J?(0,N.X)(z,[1,-1]):z},ee=E.BV.runKernel(v.NZg,Ct,{numSamples:C,seed:w,normalized:U});return 1===J?(0,N.X)(ee,[ee.size]):ee}});var Ce=t(5048),en=t(4015),r=t(5618),e=t(5034);const o=(0,d.op)({outerProduct_:function n(k,C){const w=(0,f._1)(k,"v1","outerProduct"),U=(0,f._1)(C,"v2","outerProduct");s.hu(1===w.rank&&1===U.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${w.rank} and ${U.rank}.`);const z=(0,N.X)(w,[-1,1]),Z=(0,N.X)(U,[1,-1]);return(0,ut.O)(z,Z)}});var D=t(404);const F=(0,d.op)({pad1d_:function P(k,C,w=0){return(0,s.hu)(2===C.length,()=>"Invalid number of paddings. Must be length of 2."),(0,D.v)(k,[C],w)}}),ot=(0,d.op)({pad2d_:function K(k,C,w=0){return(0,s.hu)(2===C.length&&2===C[0].length&&2===C[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),(0,D.v)(k,C,w)}}),Zt=(0,d.op)({pad3d_:function Lt(k,C,w=0){return(0,s.hu)(3===C.length&&2===C[0].length&&2===C[1].length&&2===C[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),(0,D.v)(k,C,w)}}),fe=(0,d.op)({pad4d_:function ue(k,C,w=0){return(0,s.hu)(4===C.length&&2===C[0].length&&2===C[1].length&&2===C[2].length&&2===C[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),(0,D.v)(k,C,w)}});var be=t(1640),ze=t(2962),Ge=t(1584),ve=t(3006),nn=t(794);const Jn=(0,d.op)({raggedGather_:function Dn(k,C,w,U){const z=k.map((ee,ne)=>(0,f._1)(ee,`tensors${ne}`,"raggedGather","int32")),Z=(0,f._1)(C,"paramsDenseValues","raggedGather"),J=(0,f._1)(w,"indices","raggedGather","int32"),Ut=E.BV.runKernel(v.dDz,{paramsNestedSplits:z,paramsDenseValues:Z,indices:J},{outputRaggedRank:U});return{outputNestedSplits:Ut.slice(0,Ut.length-1),outputDenseValues:Ut[Ut.length-1]}}}),pn=(0,d.op)({raggedRange_:function lr(k,C,w){const U=(0,f._1)(k,"starts","raggedRange"),z=(0,f._1)(C,"limits","raggedRange",U.dtype),Z=(0,f._1)(w,"deltas","raggedRange",U.dtype),mt=E.BV.runKernel(v.CQl,{starts:U,limits:z,deltas:Z});return{rtNestedSplits:mt[0],rtDenseValues:mt[1]}}}),Pt=(0,d.op)({raggedTensorToTensor_:function ar(k,C,w,U,z){const Z=(0,f._1)(k,"shape","raggedTensorToTensor","int32"),J=(0,f._1)(C,"values","raggedTensorToTensor"),mt=(0,f._1)(w,"defaultValue","raggedTensorToTensor",J.dtype),Ct=U.map((ne,Ie)=>(0,f._1)(ne,`tensors${Ie}`,"raggedTensorToTensor","int32"));return E.BV.runKernel(v.BiW,{shape:Z,values:J,defaultValue:mt,rowPartitionTensors:Ct},{rowPartitionTypes:z})}}),Es=(0,d.op)({rand_:function Xn(k,C,w){(0,s.Mu)(k);const U=(0,s.NA)(k);let z=null;if(null==w||"float32"===w)z=new Float32Array(U);else if("int32"===w)z=new Int32Array(U);else{if("bool"!==w)throw new Error(`Unknown data type ${w}`);z=new Uint8Array(U)}for(let Z=0;Z<U;Z++)z[Z]=C();return E.BV.makeTensor(z,k,w)}});var _r=t(9128);class qr{constructor(C,w,U,z,Z){this.mean=C,this.stdDev=w,this.dtype=U,this.nextVal=NaN,this.truncated=z,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const J=Z||Math.random();this.random=_r.alea(J.toString())}nextValue(){if(!isNaN(this.nextVal)){const z=this.nextVal;return this.nextVal=NaN,z}let C,w,U=!1;for(;!U;){let z,Z,J;do{z=2*this.random()-1,Z=2*this.random()-1,J=z*z+Z*Z}while(J>=1||0===J);const mt=Math.sqrt(-2*Math.log(J)/J);C=this.mean+this.stdDev*z*mt,w=this.mean+this.stdDev*Z*mt,(!this.truncated||this.isValidTruncated(C))&&(U=!0)}return(!this.truncated||this.isValidTruncated(w))&&(this.nextVal=this.convertValue(w)),this.convertValue(C)}convertValue(C){return null==this.dtype||"float32"===this.dtype?C:Math.round(C)}isValidTruncated(C){return C<=this.upper&&C>=this.lower}}class _s{constructor(C,w,U,z){this.alpha=C,this.beta=1/w,this.dtype=U;const Z=z||Math.random();this.randu=_r.alea(Z.toString()),this.randn=new qr(0,1,U,!1,this.randu()),this.d=C<1?C+2/3:C-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let C,w,U,z,Z,J;for(;;){do{z=this.randn.nextValue(),J=1+this.c*z}while(J<=0);if(J*=J*J,C=z*z,w=1-.331*C*C,U=.5*C+this.d*(1-J+Math.log(J)),Z=this.randu(),Z<w||Math.log(Z)<U)break}return J*=1/this.beta*this.d,this.alpha<1&&(J*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(J)}convertValue(C){return"float32"===this.dtype?C:Math.round(C)}}class Ls{constructor(C=0,w=1,U,z){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=C,this.range=w-C,this.dtype=U,null==z&&(z=Math.random()),"number"==typeof z&&(z=z.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${C} - ${w} <= 1 and dtype is not float`);this.random=_r.alea(z)}convertValue(C){return this.canReturnFloat()?C:Math.round(C)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const ra=(0,d.op)({randomGamma_:function $s(k,C,w=1,U="float32",z){if((0,s.Mu)(k),null==w&&(w=1),null==U&&(U="float32"),"float32"!==U&&"int32"!==U)throw new Error(`Unsupported data type ${U}`);const Z=new _s(C,w,U,z),J=(0,zt.f)(k,U);for(let mt=0;mt<J.values.length;mt++)J.values[mt]=Z.nextValue();return J.toTensor()}}),Us=(0,d.op)({randomNormal_:function Ds(k,C=0,w=1,U,z){if((0,s.Mu)(k),null!=U&&"bool"===U)throw new Error(`Unsupported data type ${U}`);const Z=new qr(C,w,U,!1,z),J=(0,zt.f)(k,U);for(let mt=0;mt<J.values.length;mt++)J.values[mt]=Z.nextValue();return J.toTensor()}}),Ps=(0,d.op)({randomStandardNormal_:function sa(k,C,w){if(null!=C&&"bool"===C)throw new Error(`Unsupported data type ${C}`);return Us(k,0,1,C,w)}}),ts=(0,d.op)({randomUniform_:function as(k,C=0,w=1,U="float32",z){(0,s.Mu)(k);const Z=(0,zt.f)(k,U),J=new Ls(C,w,null,z);for(let mt=0;mt<Z.values.length;mt++)Z.values[mt]=J.nextValue();return Z.toTensor()}}),As=(0,d.op)({randomUniformInt_:function Ws(k,C,w,U){return ts(k,C,w,"int32",U)}});function Rr(k,C,w=1,U="float32"){if(0===w)throw new Error("Cannot have a step of zero");return E.BV.runKernel(v.e6w,{},{start:k,stop:C,step:w,dtype:U})}var Sr=t(6027),Ms=t(4831),os=t(8586),Ks=t(4917),es=t(6825);const hs=(0,d.op)({reverse1d_:function vr(k){const C=(0,f._1)(k,"x","reverse");return s.hu(1===C.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${C.rank}.`),(0,es.G)(C,0)}}),Fs=(0,d.op)({reverse2d_:function is(k,C){const w=(0,f._1)(k,"x","reverse");return s.hu(2===w.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${w.rank}.`),(0,es.G)(w,C)}}),aa=(0,d.op)({reverse3d_:function fs(k,C){const w=(0,f._1)(k,"x","reverse");return s.hu(3===w.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${w.rank}.`),(0,es.G)(w,C)}}),ns=(0,d.op)({reverse4d_:function oa(k,C){const w=(0,f._1)(k,"x","reverse");return s.hu(4===w.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${w.rank}.`),(0,es.G)(w,C)}});var Is=t(1974),bs=t(8893),In=t(8661),Ot=t(9614),Ss=t(6762),Xr=t(5861);function ds(){return(ds=(0,Xr.Z)(function*(k,C){const w=(0,f._1)(k,"x","setdiff1d"),U=(0,f._1)(C,"y","setdiff1d");s.hu(w.dtype===U.dtype,()=>`x and y should have the same dtype, but got x (${w.dtype}) and y (${U.dtype}).`),s.hu(1===w.rank,()=>`x should be 1D tensor, but got x (${w.shape}).`),s.hu(1===U.rank,()=>`y should be 1D tensor, but got y (${U.shape}).`);const z=yield w.data(),Z=yield U.data(),J=new Set(Z);let mt=0;for(let ee=0;ee<z.length;ee++)J.has(z[ee])||mt++;const Ct=new _.YD([mt],w.dtype),Ut=new _.YD([mt],"int32");for(let ee=0,ne=0;ee<z.length;ee++)J.has(z[ee])||(Ct.values[ne]=z[ee],Ut.values[ne]=ee,ne++);return[Ct.toTensor(),Ut.toTensor()]})).apply(this,arguments)}const zr=function ks(k,C){return ds.apply(this,arguments)};var Vs=t(4058),zs=t(2438),Or=t(319);const Cr=(0,d.op)({slice1d_:function ps(k,C,w){const U=(0,f._1)(k,"x","slice1d");return s.hu(1===U.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${U.rank} tensor`),(0,q.t)(U,[C],[w])}}),ua=(0,d.op)({slice2d_:function ia(k,C,w){const U=(0,f._1)(k,"x","slice2d");return s.hu(2===U.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${U.rank} tensor`),(0,q.t)(U,C,w)}}),js=(0,d.op)({slice3d_:function Ns(k,C,w){const U=(0,f._1)(k,"x","slice3d");return s.hu(3===U.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${U.rank} tensor`),(0,q.t)(U,C,w)}}),la=(0,d.op)({slice4d_:function Bs(k,C,w){const U=(0,f._1)(k,"x","slice4d");return s.hu(4===U.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${U.rank} tensor`),(0,q.t)(U,C,w)}});var ca=t(8683),Gs=t(4487),xs=t(9619),Hs=t(9738),us=t(527),Xs=t(6065),ms=t(1638),gs=t(8874),i=t(930),I=t(9539),W=t(2494),X=t(7958),ft=t(6034),at=t(5367),lt=t(9929),St=t(2500),Xt=t(3905),he=t(7431);function pe(k,C){(0,s.Cq)(k);const w=(0,f.C)(k,C);if(1!==w.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,he.H)(k,null,w,C)}function Be(k,C,w){if((0,s.Cq)(k),null!=C&&2!==C.length)throw new Error("tensor2d() requires shape to have two numbers");const U=(0,f.C)(k,w);if(2!==U.length&&1!==U.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===U.length&&null==C)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,he.H)(k,C,U,w)}var Ke=t(2786);function Oe(k,C,w){if((0,s.Cq)(k),null!=C&&4!==C.length)throw new Error("tensor4d() requires shape to have four numbers");const U=(0,f.C)(k,w);if(4!==U.length&&1!==U.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===U.length&&null==C)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,he.H)(k,C,U,w)}function He(k,C,w){if((0,s.Cq)(k),null!=C&&5!==C.length)throw new Error("tensor5d() requires shape to have five numbers");const U=(0,f.C)(k,w);if(5!==U.length&&1!==U.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===U.length&&null==C)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,he.H)(k,C,U,w)}function sn(k,C,w){if((0,s.Cq)(k),null!=C&&6!==C.length)throw new Error("tensor6d() requires shape to have six numbers");const U=(0,f.C)(k,w);if(6!==U.length&&1!==U.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===U.length&&null==C)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return(0,he.H)(k,C=C||U,U,w)}var mn=t(1876);const qn=(0,d.op)({tensorScatterUpdate_:function Tn(k,C,w){const U=(0,f._1)(k,"tensor","tensorScatterupdate"),z=(0,f._1)(C,"indices","tensorScatterupdate","int32"),Z=(0,f._1)(w,"updates","tensorScatterupdate");if(mn.validateInput(Z,z,U.shape),U.dtype!==Z.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${U.dtype} and ${Z.dtype}.`);return E.BV.runKernel(v.SIB,{tensor:U,indices:z,updates:Z},{})}});var Tr=t(4927);const dn=(0,d.op)({truncatedNormal_:function or(k,C=0,w=1,U,z){if((0,s.Mu)(k),null!=U&&"bool"===U)throw new Error("Unsupported data type $ { dtype }");const Z=new qr(C,w,U,!0,z),J=(0,zt.f)(k,U);for(let mt=0;mt<J.values.length;mt++)J.values[mt]=Z.nextValue();return J.toTensor()}});var Fn=t(8130),Zr=t(9059),jr=t(2219);function Zs(k,C){return yr(k,C,"right")}function rs(k,C=!0,w,U){return E.BV.makeVariable(k,C,w,U)}var Lr=t(2190),ws=t(7349);function ha(){return(ha=(0,Xr.Z)(function*(k){const C=(0,f._1)(k,"condition","whereAsync","bool"),w=yield C.data(),U=(0,ws.Z)(C.shape,w);return k!==C&&C.dispose(),U})).apply(this,arguments)}const ya=function va(k){return ha.apply(this,arguments)};var Ea=t(6467),Oa=t(3143);function fa(){return(fa=(0,Xr.Z)(function*(k,C,w){const U=(0,f._1)(k,"tensor","boolMask"),z=(0,f._1)(C,"mask","boolMask","bool"),Z=null==w?0:w,J=z.rank,mt=U.shape;s.hu(J>0,()=>"mask cannot be scalar"),s.k5(mt.slice(Z,Z+J),z.shape,"mask's shape must match the first K dimensions of tensor's shape,");let Ct=1;for(let gn=Z;gn<Z+J;gn++)Ct*=mt[gn];const Ut=mt.slice(0,Z).concat([Ct],mt.slice(Z+J)),ee=(0,N.X)(U,Ut),ne=(0,N.X)(z,[-1]),Ie=yield ya(ne),Fe=(0,W.L)(Ie,[1]),ln=(0,me.I)(ee,Fe,Z);return k!==U&&U.dispose(),C!==z&&z.dispose(),Fe.dispose(),ee.dispose(),ne.dispose(),Ie.dispose(),ln})).apply(this,arguments)}const Da=function Ta(k,C,w){return fa.apply(this,arguments)};var da=t(9194),pa=t(3717),Rs=t(7664);const Aa=(0,d.op)({movingAverage_:function Pa(k,C,w,U,z=!0){const Z=(0,f._1)(k,"v","movingAverage"),J=(0,f._1)(C,"x","movingAverage"),mt=(0,f._1)(w,"decay","movingAverage");(0,Rs.assertTypesMatch)(Z,J),s.hu(s.cO(Z.shape,J.shape),()=>"Shape mismatch in v and x");const Ct=(0,In.i)(1),Ut=(0,se.l)(Ct,mt);let ee=(0,a.d)((0,se.l)(J,Z),Ut);if(z){s.hu(null!=U,()=>"When using zeroDebias: true, step is required.");const ne=(0,f._1)(U,"step","movingAverage");ee=(0,tn.h)(ee,(0,se.l)(Ct,(0,ze.s)(mt,ne)))}return(0,O.I)(Z,ee)}}),Ma=(0,d.op)({scatterND_:function ma(k,C,w){(0,s.Mu)(w);const U=(0,f._1)(k,"indices","scatterND","int32"),z=(0,f._1)(C,"updates","scatterND");return mn.validateInput(z,U,w),E.BV.runKernel(v.xQA,{indices:U,updates:z},{shape:w})}}),l=(0,d.op)({sparseToDense_:function p(k,C,w,U=0){(0,s.Mu)(w);const z=(0,f._1)(k,"sparseIndices","sparseToDense","int32"),Z=(0,f._1)(C,"sparseValues","sparseToDense","string_or_numeric"),J=(0,f._1)(U,"defaultValue","sparseToDense",Z.dtype);return function _a(k,C,w,U){if("int32"!==k.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${k.dtype}.`);if(k.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${k.shape}.`);const z=k.rank>0?k.shape[0]:1,Z=k.rank>1?k.shape[1]:1;if(w.length!==Z)throw new Error(`outputShape has incorrect number of elements:, ${w.length}, should be: ${Z}.`);if(0!==C.rank&&(1!==C.rank||C.size!==z))throw new Error(`sparseValues has incorrect shape ${C.shape}, should be [] or [${z}]`);if(C.dtype!==U.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(z,Z,w,J),E.BV.runKernel(v.D2d,{sparseIndices:z,sparseValues:Z,defaultValue:J},{outputShape:w})}}),A=(0,d.op)({gatherND_:function y(k,C){const w=(0,f._1)(C,"indices","gatherND","int32"),z={params:(0,f._1)(k,"x","gatherND","string_or_numeric"),indices:w};return E.BV.runKernel(v.q1x,z)}}),Tt=(0,d.op)({dropout_:function st(k,C,w,U){const z=(0,f._1)(k,"x","dropout");if(s.hu("float32"===z.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${z.dtype} tensor instead.`),s.hu(C>=0&&C<1,()=>`rate must be a float in the range [0, 1), but got ${C}.`),0===C)return k instanceof _.es?z.clone():z;const Z=function V(k,C){if(null==C)return k.shape.slice();if(s.cO(k.shape,C))return C;if(k.shape.length===C.length){const w=[];for(let U=0;U<k.shape.length;U++)w.push(null==C[U]&&null!=k.shape[U]?k.shape[U]:C[U]);return w}return C}(z,w),J=1-C,mt=(0,tn.h)((0,qt.G)((0,O.I)(ts(Z,0,1,"float32",U),J)),J);return(0,a.d)(z,mt)}});function Rt(k){return Math.floor(Math.pow(2,Math.ceil(Math.log(k)/Math.log(2))))}function Kt(k,C,w){const U=1-k%2,z=new Float32Array(k);for(let Z=0;Z<k;++Z){const J=2*Math.PI*Z/(k+U-1);z[Z]=C-w*Math.cos(J)}return pe(z,"float32")}function ye(){return(ye=(0,Xr.Z)(function*(k,C,w=1){const U=(0,f._1)(k,"predictions","inTopK"),z=(0,f._1)(C,"targets","inTopK");(0,s.hu)(U.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${U.rank}`),(0,s.hu)(U.rank-1===z.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${U.rank} and targets rank ${z.rank}`),(0,s.k5)(U.shape.slice(0,U.shape.length-1),z.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const Z=U.shape[U.shape.length-1];(0,s.hu)(w>0&&w<=Z,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${Z}), but got ${w}`);const J=yield U.data(),mt=yield z.data(),[Ct,Ut]=[J.length/Z,Z],ee=(0,s.WP)("bool",Ct);for(let ne=0;ne<Ct;ne++){const Ie=ne*Ut,Fe=J.subarray(Ie,Ie+Ut),ln=[];for(let gn=0;gn<Fe.length;gn++)ln.push({value:Fe[gn],index:gn});ln.sort((gn,cn)=>cn.value-gn.value),ee[ne]=0;for(let gn=0;gn<w;gn++)if(ln[gn].index===mt[ne]){ee[ne]=1;break}}return k!==U&&U.dispose(),C!==z&&z.dispose(),(0,Xt.X)(ee,z.shape,"bool")})).apply(this,arguments)}const Jt=function Gt(k,C){return ye.apply(this,arguments)};var le=t(3537),Te=t(3239),Xe=t(443),Ze=t(5743),je=t(6254);const kn=(0,d.op)({fusedConv2d_:function Rn({x:k,filter:C,strides:w,pad:U,dataFormat:z="NHWC",dilations:Z=[1,1],dimRoundingMode:J,bias:mt,activation:Ct="linear",preluActivationWeights:Ut,leakyreluAlpha:ee}){if(!1===(0,je.uy)(E.BV.state.gradientDepth,Ct=Ct||"linear")){s.hu("NHWC"===z,()=>`Error in fused conv2d: got dataFormat of ${z} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let hn=(0,xr.T)(k,C,w,U,z,Z,J);return null!=mt&&(hn=(0,O.I)(hn,mt)),(0,je.QH)(hn,Ct,Ut,ee)}const ne=(0,f._1)(k,"x","conv2d","float32"),Ie=(0,f._1)(C,"filter","conv2d","float32");let Fe=ne,ln=!1;3===ne.rank&&(ln=!0,Fe=(0,N.X)(ne,[1,ne.shape[0],ne.shape[1],ne.shape[2]])),s.hu(4===Fe.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${Fe.rank}.`),s.hu(4===Ie.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${Ie.rank}.`),x.m("fused conv2d",U,J);const gn="NHWC"===z?Fe.shape[3]:Fe.shape[1];s.hu(Ie.shape[2]===gn,()=>`Error in conv2d: depth of input (${gn}) must match input depth for filter ${Ie.shape[2]}.`),s.hu(x.jT(w,Z),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${w} and dilations '${Z}'`);const cn=x.Ix(Fe.shape,Ie.shape,w,Z,U,J);let En,cr;if(null!=mt&&(En=(0,f._1)(mt,"bias","fused conv2d"),[En]=(0,Rs.makeTypesMatch)(En,ne),"NHWC"===z?Te.assertAndGetBroadcastShape(cn.outShape,En.shape):(s.hu(En.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${En.shape.length}.`),s.hu(0===En.shape.length||En.shape[0]===cn.outChannels||1===En.shape[0],()=>`Error in fused conv2d: bias shape (${En.shape}) is not compatible with the number of output channels (${cn.outChannels})`))),null!=Ut){const hn=Ut.shape;if(s.hu(hn.length<=1||3===hn.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${hn.length}.`),1===hn.length)s.hu(1===hn[0]||hn[0]===cn.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${hn}) is not compatible with the number of output channels (${cn.outChannels}).`);else if(3===hn.length)try{Te.assertAndGetBroadcastShape(hn,cn.outShape)}catch{throw Error(`Error in fused conv2d: PReLU activation weights (${hn}) is not compatible with the output shape of the conv2d (${cn.outShape}).`)}cr=(0,f._1)(Ut,"prelu weights","fused conv2d")}const Dr=(hn,Vn)=>{s.hu("NHWC"===z,()=>`Error in gradient of fused conv2D: got dataFormat of ${z} but only NHWC is currently supported.`);const[Ln,Bn,Cn,Wn]=Vn,Yr=(0,je.Fr)(hn,Cn,Ct);s.hu(x.I0(Z),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${Z}'`);const ss=[(0,Ze._)(Bn.shape,Yr,Ln,w,U),(0,Xe.p)(Bn,Yr,Ln.shape,w,U)];if(null!=Wn){const Js=(0,je.pf)(Wn,Yr);ss.push(Js)}return ss},Pr={x:Fe,filter:Ie,bias:En,preluActivationWeights:cr},Zn={strides:w,pad:U,dataFormat:z,dilations:Z,dimRoundingMode:J,activation:Ct,leakyreluAlpha:ee};return null==mt?(0,le.cb)((Vn,Ln,Bn)=>{let Cn=E.BV.runKernel(v._V0,Pr,Zn);return Bn([Ln,Vn,Cn]),ln&&(Cn=(0,N.X)(Cn,[Cn.shape[1],Cn.shape[2],Cn.shape[3]])),{value:Cn,gradFunc:Dr}})(Fe,Ie):(0,le.cb)((Vn,Ln,Bn,Cn)=>{let Wn=E.BV.runKernel(v._V0,Pr,Zn);return Cn([Ln,Vn,Wn,Bn]),ln&&(Wn=(0,N.X)(Wn,[Wn.shape[1],Wn.shape[2],Wn.shape[3]])),{value:Wn,gradFunc:Dr}})(Fe,Ie,En)}});var ys=t(366),Cs=t(519);const Ia=(0,d.op)({fusedDepthwiseConv2d_:function Ys({x:k,filter:C,strides:w,pad:U,dataFormat:z="NHWC",dilations:Z=[1,1],dimRoundingMode:J,bias:mt,activation:Ct="linear",preluActivationWeights:Ut,leakyreluAlpha:ee}){if(!1===(0,je.uy)(E.BV.state.gradientDepth,Ct)){let Zn=(0,$r.B)(k,C,w,U,z,Z,J);return null!=mt&&(Zn=(0,O.I)(Zn,mt)),(0,je.QH)(Zn,Ct,Ut,ee)}const ne=(0,f._1)(k,"x","depthwiseConv2d","float32"),Ie=(0,f._1)(C,"filter","depthwiseConv2d","float32");let Fe=ne,ln=!1;3===ne.rank&&(ln=!0,Fe=(0,N.X)(ne,[1,ne.shape[0],ne.shape[1],ne.shape[2]])),s.hu(4===Fe.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${Fe.rank}.`),s.hu(4===Ie.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${Ie.rank}.`),s.hu(Fe.shape[3]===Ie.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${Fe.shape[3]}) must match the inChannels dimension in filter ${Ie.shape[2]}.`),null==Z&&(Z=[1,1]),s.hu(x.jT(w,Z),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${w} and dilations '${Z}'`),x.m("fused depthwiseConv2d",U,J);const gn=x.Ix(Fe.shape,Ie.shape,w,Z,U,J,!0);let cn,En;null!=mt&&(cn=(0,f._1)(mt,"bias","fused conv2d"),[cn]=(0,Rs.makeTypesMatch)(cn,ne),Te.assertAndGetBroadcastShape(gn.outShape,cn.shape)),null!=Ut&&(En=(0,f._1)(Ut,"prelu weights","fused depthwiseConv2d"));const cr=(Zn,hn)=>{s.hu(x.I0(Z),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${Z}'`);const[Vn,Ln,Bn,Cn]=hn,Wn=(0,je.Fr)(Zn,Bn,Ct),Yr=(0,Cs.v)(Ln.shape,Wn,Vn,w,U,Z,J),Hr=(0,ys.z)(Ln,Wn,Vn.shape,w,U,Z,J);return null!=Cn?[Yr,Hr,(0,je.pf)(cn,Wn)]:[Yr,Hr]},Dr={x:Fe,filter:Ie,bias:cn,preluActivationWeights:En},Pr={strides:w,pad:U,dataFormat:z,dilations:Z,dimRoundingMode:J,activation:Ct,leakyreluAlpha:ee};return null==mt?(0,le.cb)((hn,Vn,Ln)=>{let Bn=E.BV.runKernel(v.luS,Dr,Pr);return Ln([Vn,hn,Bn]),ln&&(Bn=(0,N.X)(Bn,[Bn.shape[1],Bn.shape[2],Bn.shape[3]])),{value:Bn,gradFunc:cr}})(Fe,Ie):(0,le.cb)((hn,Vn,Ln,Bn)=>{let Cn=E.BV.runKernel(v.luS,Dr,Pr);return Bn([Vn,hn,Cn,Ln]),ln&&(Cn=(0,N.X)(Cn,[Cn.shape[1],Cn.shape[2],Cn.shape[3]])),{value:Cn,gradFunc:cr}})(Fe,Ie,cn)}}),La=(0,d.op)({fusedMatMul_:function Ca({a:k,b:C,transposeA:w=!1,transposeB:U=!1,bias:z,activation:Z="linear",preluActivationWeights:J,leakyreluAlpha:mt=.2}){if(!1===(0,je.uy)(E.BV.state.gradientDepth,Z)){let Wn=(0,ut.O)(k,C,w,U);return null!=z&&(Wn=(0,O.I)(Wn,z)),(0,je.QH)(Wn,Z,J,mt)}let Ct=(0,f._1)(k,"a","fused matMul"),Ut=(0,f._1)(C,"b","fused matMul");[Ct,Ut]=(0,Rs.makeTypesMatch)(Ct,Ut);const ee=w?Ct.shape[Ct.rank-2]:Ct.shape[Ct.rank-1],ne=U?Ut.shape[Ut.rank-1]:Ut.shape[Ut.rank-2],Ie=w?Ct.shape[Ct.rank-1]:Ct.shape[Ct.rank-2],Fe=U?Ut.shape[Ut.rank-2]:Ut.shape[Ut.rank-1],ln=Ct.shape.slice(0,-2),gn=Ut.shape.slice(0,-2),cn=s.NA(ln),En=s.NA(gn);s.hu(ee===ne,()=>`Error in fused matMul: inner shapes (${ee}) and (${ne}) of Tensors with shapes ${Ct.shape} and ${Ut.shape} and transposeA=${w} and transposeB=${U} must match.`);const Dr=Te.assertAndGetBroadcastShape(Ct.shape.slice(0,-2),Ut.shape.slice(0,-2)).concat([Ie,Fe]),Pr=(0,N.X)(Ct,w?[cn,ee,Ie]:[cn,Ie,ee]),Zn=(0,N.X)(Ut,U?[En,Fe,ne]:[En,ne,Fe]);let hn,Vn;null!=z&&(hn=(0,f._1)(z,"bias","fused matMul"),[hn]=(0,Rs.makeTypesMatch)(hn,Ct),Te.assertAndGetBroadcastShape(Dr,hn.shape)),null!=J&&(Vn=(0,f._1)(J,"prelu weights","fused matMul"));const Ln=(Wn,Yr)=>{const[Hr,Qr,ss,Js]=Yr,cs=(0,je.Fr)((0,N.X)(Wn,ss.shape),ss,Z);let qs,ta;return w||U?!w&&U?(qs=(0,ut.O)(cs,Qr,!1,!1),ta=(0,ut.O)(cs,Hr,!0,!1)):w&&!U?(qs=(0,ut.O)(Qr,cs,!1,!0),ta=(0,ut.O)(Hr,cs,!1,!1)):(qs=(0,ut.O)(Qr,cs,!0,!0),ta=(0,ut.O)(cs,Hr,!0,!0)):(qs=(0,ut.O)(cs,Qr,!1,!0),ta=(0,ut.O)(Hr,cs,!0,!1)),null!=z?[qs,ta,(0,je.pf)(Js,cs)]:[qs,ta]},Bn={a:Pr,b:Zn,bias:hn,preluActivationWeights:Vn},Cn={transposeA:w,transposeB:U,activation:Z,leakyreluAlpha:mt};return null==z?(0,le.cb)((Yr,Hr,Qr)=>{const ss=E.BV.runKernel(v.usg,Bn,Cn);return Qr([Yr,Hr,ss]),{value:(0,N.X)(ss,Dr),gradFunc:Ln}})(Pr,Zn):(0,le.cb)((Yr,Hr,Qr,ss)=>{const Js=E.BV.runKernel(v.usg,Bn,Cn);return ss([Yr,Hr,Js,Qr]),{value:(0,N.X)(Js,Dr),gradFunc:Ln}})(Pr,Zn,hn)}}),Ua=(0,d.op)({hammingWindow_:function $a(k){return Kt(k,.54,.46)}}),xa=(0,d.op)({hannWindow_:function Wa(k){return Kt(k,.5,.5)}}),wa=(0,d.op)({frame_:function Ka(k,C,w,U=!1,z=0){let Z=0;const J=[];for(;Z+C<=k.size;)J.push((0,q.t)(k,Z,C)),Z+=w;if(U)for(;Z<k.size;){const mt=Z+C-k.size,Ct=(0,H.z)([(0,q.t)(k,Z,C-mt),(0,Yt.h)([mt],z)]);J.push(Ct),Z+=w}return 0===J.length?Be([],[0,C]):(0,N.X)((0,H.z)(J),[J.length,C])}}),ka=(0,d.op)({stft_:function Fa(k,C,w,U,z=xa){null==U&&(U=Rt(C));const Z=wa(k,C,w),J=(0,a.d)(Z,z(C));return(0,ms.Q)(J,U)}}),za=(0,d.op)({cropAndResize_:function Va(k,C,w,U,z="bilinear",Z=0){const J=(0,f._1)(k,"image","cropAndResize"),mt=(0,f._1)(C,"boxes","cropAndResize","float32"),Ct=(0,f._1)(w,"boxInd","cropAndResize","int32"),Ut=mt.shape[0];return s.hu(4===J.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${J.rank}.`),s.hu(2===mt.rank&&4===mt.shape[1],()=>`Error in cropAndResize: boxes must be have size [${Ut},4] but had shape ${mt.shape}.`),s.hu(1===Ct.rank&&Ct.shape[0]===Ut,()=>`Error in cropAndResize: boxInd must be have size [${Ut}] but had shape ${mt.shape}.`),s.hu(2===U.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${U.length}.`),s.hu(U[0]>=1&&U[1]>=1,()=>`cropSize must be atleast [1,1], but was ${U}`),s.hu("bilinear"===z||"nearest"===z,()=>`method must be bilinear or nearest, but was ${z}`),E.BV.runKernel(v.VcC,{image:J,boxes:mt,boxInd:Ct},{method:z,extrapolationValue:Z,cropSize:U})}}),Ga=(0,d.op)({flipLeftRight_:function ja(k){const C=(0,f._1)(k,"image","flipLeftRight","float32");return s.hu(4===C.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${C.rank}.`),E.BV.runKernel(v.Uyb,{image:C},{})}}),Xa=(0,d.op)({grayscaleToRGB_:function Ha(k){const C=(0,f._1)(k,"image","grayscaleToRGB"),w=C.rank-1,U=C.shape[w];s.hu(C.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${C.rank}.`),s.hu(1===U,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${U}.`);const z=new Array(C.rank);return z.fill(1,0,w),z[w]=3,(0,Ht.G)(C,z)}}),Ya=(0,d.op)({rgbToGrayscale_:function Za(k){const C=(0,f._1)(k,"image","RGBToGrayscale"),U=C.shape[C.rank-1];s.hu(C.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${C.rank}.`),s.hu(3===U,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${U}.`);const z=C.dtype,Z=(0,nt.p)(C,"float32"),J=pe([.2989,.587,.114]);let mt;switch(C.rank){case 2:mt=gr("ij,j->i",Z,J);break;case 3:mt=gr("ijk,k->ij",Z,J);break;case 4:mt=gr("ijkl,l->ijk",Z,J);break;case 5:mt=gr("ijklm,m->ijkl",Z,J);break;case 6:mt=gr("ijklmn,n->ijklm",Z,J);break;default:throw new Error("Not a valid tensor rank.")}return mt=(0,Mt.d)(mt,-1),(0,nt.p)(mt,z)}}),Ja=(0,d.op)({rotateWithOffset_:function Qa(k,C,w=0,U=.5){const z=(0,f._1)(k,"image","rotateWithOffset","float32");return s.hu(4===z.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${z.rank}.`),E.BV.runKernel(v.b9H,{image:z},{radians:C,fillValue:w,center:U})}});function Qs(k,C,w,U,z,Z){null==U&&(U=.5),null==z&&(z=Number.NEGATIVE_INFINITY),null==Z&&(Z=0);const J=k.shape[0];return w=Math.min(w,J),s.hu(0<=U&&U<=1,()=>`iouThreshold must be in [0, 1], but was '${U}'`),s.hu(2===k.rank,()=>`boxes must be a 2D tensor, but was of rank '${k.rank}'`),s.hu(4===k.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${k.shape[1]}`),s.hu(1===C.rank,()=>"scores must be a 1D tensor"),s.hu(C.shape[0]===J,()=>`scores has incompatible shape with boxes. Expected ${J}, but was ${C.shape[0]}`),s.hu(0<=Z&&Z<=1,()=>`softNmsSigma must be in [0, 1], but was '${Z}'`),{maxOutputSize:w,iouThreshold:U,scoreThreshold:z,softNmsSigma:Z}}const to=(0,d.op)({nonMaxSuppression_:function qa(k,C,w,U=.5,z=Number.NEGATIVE_INFINITY){const Z=(0,f._1)(k,"boxes","nonMaxSuppression","float32"),J=(0,f._1)(C,"scores","nonMaxSuppression","float32"),mt=Qs(Z,J,w,U,z);return E.BV.runKernel(v.uv1,{boxes:Z,scores:J},{maxOutputSize:w=mt.maxOutputSize,iouThreshold:U=mt.iouThreshold,scoreThreshold:z=mt.scoreThreshold})}});var ba=t(5672);function Sa(){return(Sa=(0,Xr.Z)(function*(k,C,w,U=.5,z=Number.NEGATIVE_INFINITY){const Z=(0,f._1)(k,"boxes","nonMaxSuppressionAsync"),J=(0,f._1)(C,"scores","nonMaxSuppressionAsync"),mt=Qs(Z,J,w,U,z);w=mt.maxOutputSize,U=mt.iouThreshold,z=mt.scoreThreshold;const Ct=yield Promise.all([Z.data(),J.data()]),Ut=Ct[0],ee=Ct[1],{selectedIndices:ne}=(0,ba.GP)(Ut,ee,w,U,z);return Z!==k&&Z.dispose(),J!==C&&J.dispose(),pe(ne,"int32")})).apply(this,arguments)}const so=(0,d.op)({nonMaxSuppressionWithScore_:function ro(k,C,w,U=.5,z=Number.NEGATIVE_INFINITY,Z=0){const J=(0,f._1)(k,"boxes","nonMaxSuppression"),mt=(0,f._1)(C,"scores","nonMaxSuppression"),Ct=Qs(J,mt,w,U,z,Z),ne=E.BV.runKernel(v.W0H,{boxes:J,scores:mt},{maxOutputSize:w=Ct.maxOutputSize,iouThreshold:U=Ct.iouThreshold,scoreThreshold:z=Ct.scoreThreshold,softNmsSigma:Z=Ct.softNmsSigma});return{selectedIndices:ne[0],selectedScores:ne[1]}}});function Na(){return(Na=(0,Xr.Z)(function*(k,C,w,U=.5,z=Number.NEGATIVE_INFINITY,Z=0){const J=(0,f._1)(k,"boxes","nonMaxSuppressionAsync"),mt=(0,f._1)(C,"scores","nonMaxSuppressionAsync"),Ct=Qs(J,mt,w,U,z,Z);w=Ct.maxOutputSize,U=Ct.iouThreshold,z=Ct.scoreThreshold,Z=Ct.softNmsSigma;const Ut=yield Promise.all([J.data(),mt.data()]),ee=Ut[0],ne=Ut[1],{selectedIndices:Ie,selectedScores:Fe}=(0,ba.pA)(ee,ne,w,U,z,Z);return J!==k&&J.dispose(),mt!==C&&mt.dispose(),{selectedIndices:pe(Ie,"int32"),selectedScores:pe(Fe)}})).apply(this,arguments)}const lo=(0,d.op)({nonMaxSuppressionPadded_:function uo(k,C,w,U=.5,z=Number.NEGATIVE_INFINITY,Z=!1){const J=(0,f._1)(k,"boxes","nonMaxSuppression"),mt=(0,f._1)(C,"scores","nonMaxSuppression"),Ct=Qs(J,mt,w,U,z,null),ln=E.BV.runKernel(v.cye,{boxes:J,scores:mt},{maxOutputSize:Ct.maxOutputSize,iouThreshold:Ct.iouThreshold,scoreThreshold:Ct.scoreThreshold,padToMaxOutputSize:Z});return{selectedIndices:ln[0],validOutputs:ln[1]}}});function Ba(){return(Ba=(0,Xr.Z)(function*(k,C,w,U=.5,z=Number.NEGATIVE_INFINITY,Z=!1){const J=(0,f._1)(k,"boxes","nonMaxSuppressionAsync"),mt=(0,f._1)(C,"scores","nonMaxSuppressionAsync"),Ct=Qs(J,mt,w,U,z,null),Ut=Ct.maxOutputSize,ee=Ct.iouThreshold,ne=Ct.scoreThreshold,[Ie,Fe]=yield Promise.all([J.data(),mt.data()]),{selectedIndices:ln,validOutputs:gn}=(0,ba.qP)(Ie,Fe,Ut,ee,ne,Z);return J!==k&&J.dispose(),mt!==C&&mt.dispose(),{selectedIndices:pe(ln,"int32"),validOutputs:(0,In.i)(gn,"int32")}})).apply(this,arguments)}var fo=t(1353),po=t(7373);const yo=(0,d.op)({threshold_:function mo(k,C="binary",w=!1,U=.5){const z=(0,f._1)(k,"image","threshold"),Ct=z.shape[0]*z.shape[1];let ee,ne,Ie,Fe,Ut=(0,a.d)(pe([U]),255);if(s.hu(3===z.rank,()=>`Error in threshold: image must be rank 3,but got rank ${z.rank}.`),s.hu(3===z.shape[2]||1===z.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${z.shape[2]}.`),s.hu("int32"===z.dtype||"float32"===z.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${z.dtype}.`),s.hu("otsu"===C||"binary"===C,()=>`Method must be binary or otsu, but was ${C}`),3===z.shape[2]){[ee,ne,Ie]=(0,gs.V)(z,[1,1,1],-1);const cn=(0,a.d)(ee,.2989),En=(0,a.d)(ne,.587),cr=(0,a.d)(Ie,.114);Fe=(0,O.I)((0,O.I)(cn,En),cr)}else Fe=k;"otsu"===C&&(Ut=function go(k,C){let Z,J,mt,Ct,Ut,ee,w=pe([-1]),U=pe([0]),z=pe([0]);for(let ne=0;ne<k.size-1;ne++){Z=(0,q.t)(k,0,ne+1),J=(0,q.t)(k,ne+1),Ut=(0,tn.h)((0,lt.S)(Z),C),ee=(0,tn.h)((0,lt.S)(J),C);const Ie=(0,lt.S)((0,a.d)(Z,Rr(0,Z.size)));mt=(0,tn.h)(Ie,(0,lt.S)(Z));const Fe=(0,Yt.h)(J.shape,Z.size),ln=(0,O.I)(Rr(0,J.size),Fe),gn=(0,a.d)(J,ln);Ct=(0,tn.h)((0,lt.S)(gn),(0,lt.S)(J));const cn=(0,se.l)(mt,Ct),En=(0,se.l)(mt,Ct),cr=(0,a.d)(Ut,ee);z=(0,a.d)((0,a.d)(cr,cn),En);const Dr=(0,De.p)(z,U);U=(0,Lr.a)(Dr,z,U),w=(0,Lr.a)(Dr,pe([ne]),w)}return w}(_n((0,nt.p)((0,Is.N)(Fe),"int32"),(0,Xt.X)([]),256),Ct));const ln=w?(0,Me.z)(Fe,Ut):(0,De.p)(Fe,Ut);return(0,nt.p)((0,a.d)(ln,255),"int32")}}),_o=(0,d.op)({transform_:function Eo(k,C,w="nearest",U="constant",z=0,Z){const J=(0,f._1)(k,"image","transform","float32"),mt=(0,f._1)(C,"transforms","transform","float32");return s.hu(4===J.rank,()=>`Error in transform: image must be rank 4,but got rank ${J.rank}.`),s.hu(2===mt.rank&&(mt.shape[0]===J.shape[0]||1===mt.shape[0])&&8===mt.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),s.hu(null==Z||2===Z.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${Z}.`),E.BV.runKernel(v.wx7,{image:J,transforms:mt},{interpolation:w,fillMode:U,fillValue:z,outputShape:Z})}}),Oo=(0,d.op)({bandPart_:function vo(k,C,w){const U=(0,f._1)(k,"a","bandPart");(0,s.hu)(U.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${U.rank}.`);const z=U.shape,[Z,J]=U.shape.slice(-2);let mt,Ct;"number"==typeof C?((0,s.hu)(C%1==0,()=>`bandPart(): numLower must be an integer, got ${C}.`),(0,s.hu)(C<=Z,()=>`bandPart(): numLower (${C}) must not be greater than the number of rows (${Z}).`),mt=(0,f._1)(C<0?Z:C,"numLower","bandPart")):((0,s.hu)("int32"===C.dtype,()=>"bandPart(): numLower's dtype must be an int32."),mt=(0,Lr.a)((0,Ae.d)(C,0),Z,(0,It.L)(C,Z))),"number"==typeof w?((0,s.hu)(w%1==0,()=>`bandPart(): numUpper must be an integer, got ${w}.`),(0,s.hu)(w<=J,()=>`bandPart(): numUpper (${w}) must not be greater than the number of columns (${J}).`),Ct=(0,f._1)(w<0?J:w,"numUpper","bandPart")):((0,s.hu)("int32"===w.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),Ct=(0,Lr.a)((0,Ae.d)(w,0),J,(0,It.L)(w,J)));const Ut=(0,N.X)(Rr(0,Z,1,"int32"),[-1,1]),ee=Rr(0,J,1,"int32"),ne=(0,se.l)(Ut,ee),Ie=(0,Fr.H)((0,Me.z)(ne,mt),(0,xe.b)(ne,(0,Ce.W)(Ct))),Fe=(0,Ea.l)([Z,J],U.dtype);return(0,N.X)((0,X.k)((0,jr.H)((0,N.X)(U,[-1,Z,J])).map(ln=>(0,Lr.a)(Ie,ln,Fe))),z)}}),Do=(0,d.op)({gramSchmidt_:function To(k){let C;if(Array.isArray(k)){C=!1,(0,s.hu)(null!=k&&k.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const z=k[0].shape[0];for(let Z=1;Z<k.length;++Z)(0,s.hu)(k[Z].shape[0]===z,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${k[Z].shape[0]} vs. ${z})`)}else C=!0,k=(0,gs.V)(k,k.shape[0],0).map(z=>(0,W.L)(z,[0]));(0,s.hu)(k.length<=k[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${k.length}) exceeds number of dimensions (${k[0].shape[0]}).`);const w=[],U=k;for(let z=0;z<k.length;++z)w.push(E.BV.tidy(()=>{let Z=U[z];if(z>0)for(let J=0;J<z;++J){const mt=(0,a.d)((0,lt.S)((0,a.d)(w[J],Z)),w[J]);Z=(0,se.l)(Z,mt)}return(0,tn.h)(Z,(0,pa.K)(Z,"euclidean"))}));return C?(0,X.k)(w,0):w}});var Po=t(2773);function Ra(k,C=!1){return E.BV.tidy(()=>{(0,s.hu)(2===k.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${k.shape.length}D Tensor.`);const w=k.shape[0],U=k.shape[1];let z=xt(w),Z=(0,rn.d)(k);const J=Be([[1]],[1,1]);let mt=(0,rn.d)(J);const Ct=w>=U?U:w;for(let Ut=0;Ut<Ct;++Ut){const ee=Z,ne=mt,Ie=z;[mt,Z,z]=E.BV.tidy(()=>{const Fe=(0,q.t)(Z,[Ut,Ut],[w-Ut,1]),ln=(0,pa.K)(Fe),gn=(0,q.t)(Z,[Ut,Ut],[1,1]),cn=(0,Lr.a)((0,De.p)(gn,0),Be([[-1]]),Be([[1]])),En=(0,se.l)(gn,(0,a.d)(cn,ln)),cr=(0,tn.h)(Fe,En);mt=1===cr.shape[0]?(0,rn.d)(J):(0,H.z)([J,(0,q.t)(cr,[1,0],[cr.shape[0]-1,cr.shape[1]])],0);const Dr=(0,Ce.W)((0,tn.h)((0,ut.O)(cn,En),ln)),Pr=(0,q.t)(Z,[Ut,0],[w-Ut,U]),Zn=(0,a.d)(Dr,mt),hn=(0,da.p)(mt);if(0===Ut)Z=(0,se.l)(Pr,(0,ut.O)(Zn,(0,ut.O)(hn,Pr)));else{const Bn=(0,se.l)(Pr,(0,ut.O)(Zn,(0,ut.O)(hn,Pr)));Z=(0,H.z)([(0,q.t)(Z,[0,0],[Ut,U]),Bn],0)}const Vn=(0,da.p)(Zn),Ln=(0,q.t)(z,[0,Ut],[w,z.shape[1]-Ut]);if(0===Ut)z=(0,se.l)(Ln,(0,ut.O)((0,ut.O)(Ln,mt),Vn));else{const Bn=(0,se.l)(Ln,(0,ut.O)((0,ut.O)(Ln,mt),Vn));z=(0,H.z)([(0,q.t)(z,[0,0],[w,Ut]),Bn],1)}return[mt,Z,z]}),(0,Po.B9)([ee,ne,Ie])}return!C&&w>U&&(z=(0,q.t)(z,[0,0],[w,U]),Z=(0,q.t)(Z,[0,0],[U,U])),[z,Z]})}const Mo=(0,d.op)({qr_:function Ao(k,C=!1){if((0,s.hu)(k.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${k.rank}`),2===k.rank)return Ra(k,C);{const w=k.shape.slice(0,k.shape.length-2).reduce((Ct,Ut)=>Ct*Ut),U=(0,jr.H)((0,N.X)(k,[w,k.shape[k.shape.length-2],k.shape[k.shape.length-1]]),0),z=[],Z=[];return U.forEach(Ct=>{const[Ut,ee]=Ra(Ct,C);z.push(Ut),Z.push(ee)}),[(0,N.X)((0,X.k)(z,0),k.shape),(0,N.X)((0,X.k)(Z,0),k.shape)]}}});var Gr=t(4839);const ls=(0,d.op)({computeWeightedLoss_:function Io(k,C,w=Gr.I.SUM_BY_NONZERO_WEIGHTS){const U=(0,f._1)(k,"losses","computeWeightedLoss");let z=null;null!=C&&(z=(0,f._1)(C,"weights","computeWeightedLoss"));const Z=null==z?U:(0,a.d)(U,z);if(w===Gr.I.NONE)return Z;if(w===Gr.I.SUM)return(0,lt.S)(Z);if(w===Gr.I.MEAN){if(null==z)return(0,Un.J)(Z);{const J=U.size/z.size,mt=(0,tn.h)((0,lt.S)(Z),(0,lt.S)(z));return J>1?(0,tn.h)(mt,(0,In.i)(J)):mt}}if(w===Gr.I.SUM_BY_NONZERO_WEIGHTS){if(null==z)return(0,tn.h)((0,lt.S)(Z),(0,In.i)(U.size));{const J=(0,a.d)(z,(0,u.i)(U.shape)),mt=(0,nt.p)((0,lt.S)((0,en.Q)(J,(0,In.i)(0))),"float32");return(0,tn.h)((0,lt.S)(Z),mt)}}throw Error(`Unknown reduction: ${w}`)}}),So=(0,d.op)({absoluteDifference_:function bo(k,C,w,U=Gr.I.SUM_BY_NONZERO_WEIGHTS){const z=(0,f._1)(k,"labels","absoluteDifference"),Z=(0,f._1)(C,"predictions","absoluteDifference");let J=null;null!=w&&(J=(0,f._1)(w,"weights","absoluteDifference")),(0,s.k5)(z.shape,Z.shape,"Error in absoluteDifference: ");const mt=(0,B.W)((0,se.l)(z,Z));return ls(mt,J,U)}}),Bo=(0,d.op)({cosineDistance_:function No(k,C,w,U,z=Gr.I.SUM_BY_NONZERO_WEIGHTS){const Z=(0,f._1)(k,"labels","cosineDistance"),J=(0,f._1)(C,"predictions","cosineDistance");let mt=null;null!=U&&(mt=(0,f._1)(U,"weights","cosineDistance")),(0,s.k5)(Z.shape,J.shape,"Error in cosineDistance: ");const Ct=(0,In.i)(1),Ut=(0,se.l)(Ct,(0,lt.S)((0,a.d)(Z,J),w,!0));return ls(Ut,mt,z)}}),wo=(0,d.op)({hingeLoss_:function xo(k,C,w,U=Gr.I.SUM_BY_NONZERO_WEIGHTS){let z=(0,f._1)(k,"labels","hingeLoss");const Z=(0,f._1)(C,"predictions","hingeLoss");let J=null;null!=w&&(J=(0,f._1)(w,"weights","hingeLoss")),(0,s.k5)(z.shape,Z.shape,"Error in hingeLoss: ");const mt=(0,In.i)(1);z=(0,se.l)((0,a.d)((0,In.i)(2),z),mt);const Ct=(0,os.U)((0,se.l)(mt,(0,a.d)(z,Z)));return ls(Ct,J,U)}}),Co=(0,d.op)({huberLoss_:function Ro(k,C,w,U=1,z=Gr.I.SUM_BY_NONZERO_WEIGHTS){const Z=(0,f._1)(k,"labels","huberLoss"),J=(0,f._1)(C,"predictions","huberLoss");let mt=null;null!=w&&(mt=(0,f._1)(w,"weights","huberLoss")),(0,s.k5)(Z.shape,J.shape,"Error in huberLoss: ");const Ct=(0,In.i)(U),Ut=(0,B.W)((0,se.l)(J,Z)),ee=(0,It.L)(Ut,Ct),ne=(0,se.l)(Ut,ee),Ie=(0,O.I)((0,a.d)((0,In.i)(.5),(0,re.h)(ee)),(0,a.d)(Ct,ne));return ls(Ie,mt,z)}}),$o=(0,d.op)({logLoss_:function Lo(k,C,w,U=1e-7,z=Gr.I.SUM_BY_NONZERO_WEIGHTS){const Z=(0,f._1)(k,"labels","logLoss"),J=(0,f._1)(C,"predictions","logLoss");let mt=null;null!=w&&(mt=(0,f._1)(w,"weights","logLoss")),(0,s.k5)(Z.shape,J.shape,"Error in logLoss: ");const Ct=(0,In.i)(1),Ut=(0,In.i)(U),ee=(0,Ce.W)((0,a.d)(Z,(0,Le.c)((0,O.I)(J,Ut)))),ne=(0,a.d)((0,se.l)(Ct,Z),(0,Le.c)((0,O.I)((0,se.l)(Ct,J),Ut))),Ie=(0,se.l)(ee,ne);return ls(Ie,mt,z)}}),Wo=(0,d.op)({meanSquaredError_:function Uo(k,C,w,U=Gr.I.SUM_BY_NONZERO_WEIGHTS){const z=(0,f._1)(k,"labels","meanSquaredError"),Z=(0,f._1)(C,"predictions","meanSquaredError");let J=null;null!=w&&(J=(0,f._1)(w,"weights","meanSquaredError")),(0,s.k5)(z.shape,Z.shape,"Error in meanSquaredError: ");const mt=(0,I.$)(z,Z);return ls(mt,J,U)}}),ko=(0,d.op)({sigmoidCrossEntropy_:function Fo(k,C,w,U=0,z=Gr.I.SUM_BY_NONZERO_WEIGHTS){let Z=(0,f._1)(k,"multiClassLabels","sigmoidCrossEntropy");const J=(0,f._1)(C,"logits","sigmoidCrossEntropy");let mt=null;if(null!=w&&(mt=(0,f._1)(w,"weights","sigmoidCrossEntropy")),(0,s.k5)(Z.shape,J.shape,"Error in sigmoidCrossEntropy: "),U>0){const Ut=(0,In.i)(U),ee=(0,In.i)(1),ne=(0,In.i)(.5);Z=(0,O.I)((0,a.d)(Z,(0,se.l)(ee,Ut)),(0,a.d)(ne,Ut))}const Ct=function Ko(k,C){const w=(0,f._1)(k,"labels","sigmoidCrossEntropyWithLogits"),U=(0,f._1)(C,"logits","sigmoidCrossEntropyWithLogits");(0,s.k5)(w.shape,U.shape,"Error in sigmoidCrossEntropyWithLogits: ");const z=(0,os.U)(U),Z=(0,a.d)(U,w),J=(0,Nn.K)((0,Nt.Q)((0,Ce.W)((0,B.W)(U))));return(0,O.I)((0,se.l)(z,Z),J)}(Z,J);return ls(Ct,mt,z)}}),jo=(0,d.op)({softmaxCrossEntropy_:function zo(k,C,w,U=0,z=Gr.I.SUM_BY_NONZERO_WEIGHTS){let Z=(0,f._1)(k,"onehotLabels","softmaxCrossEntropy");const J=(0,f._1)(C,"logits","softmaxCrossEntropy");let mt=null;if(null!=w&&(mt=(0,f._1)(w,"weights","softmaxCrossEntropy")),(0,s.k5)(Z.shape,J.shape,"Error in softmaxCrossEntropy: "),U>0){const Ut=(0,In.i)(U),ee=(0,In.i)(1),ne=(0,In.i)(Z.shape[1]);Z=(0,O.I)((0,a.d)(Z,(0,se.l)(ee,Ut)),(0,tn.h)(Ut,ne))}const Ct=function Vo(k,C,w=-1){if(-1===w&&(w=C.rank-1),w!==C.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${C.rank} and dim was ${w}`);return(0,le.cb)((z,Z,J)=>{const Ct=(0,Kr.l)(Z,[w],!0),Ut=(0,se.l)((0,nt.p)(Z,"float32"),Ct);J([z,Ut]);const ee=(0,Ce.W)((0,a.d)(Ut,z));return{value:(0,lt.S)(ee,[w]),gradFunc:(Fe,ln)=>{const[gn,cn]=ln,En=(0,Vt.rv)(Fe.shape,[w]);return[(0,a.d)((0,N.X)(Fe,En),(0,se.l)((0,nt.p)(gn,"float32"),(0,Nt.Q)(cn))),(0,a.d)((0,N.X)(Fe,En),(0,se.l)((0,Nt.Q)(cn),(0,nt.p)(gn,"float32")))]}}})(k,C)}(Z,J);return ls(Ct,mt,z)}}),ui={fft:Hs.k,ifft:us.S,rfft:ms.Q,irfft:Xs.w},li={hammingWindow:Ua,hannWindow:xa,frame:wa,stft:ka},ci={flipLeftRight:Ga,grayscaleToRGB:Xa,resizeNearestNeighbor:po.j,resizeBilinear:fo.I,rgbToGrayscale:Ya,rotateWithOffset:Ja,cropAndResize:za,nonMaxSuppression:to,nonMaxSuppressionAsync:function eo(k,C,w){return Sa.apply(this,arguments)},nonMaxSuppressionWithScore:so,nonMaxSuppressionWithScoreAsync:function ao(k,C,w){return Na.apply(this,arguments)},nonMaxSuppressionPadded:lo,nonMaxSuppressionPaddedAsync:function co(k,C,w){return Ba.apply(this,arguments)},threshold:yo,transform:_o},hi={bandPart:Oo,gramSchmidt:Do,qr:Mo},fi={absoluteDifference:So,computeWeightedLoss:ls,cosineDistance:Bo,hingeLoss:wo,huberLoss:Co,logLoss:$o,meanSquaredError:Wo,sigmoidCrossEntropy:ko,softmaxCrossEntropy:jo},di={sparseFillEmptyRows:(0,d.op)({sparseFillEmptyRows_:function Go(k,C,w,U){const z=(0,f._1)(k,"indices","sparseFillEmptyRows","int32"),Z=(0,f._1)(C,"values","sparseFillEmptyRows"),J=(0,f._1)(w,"denseShape","sparseFillEmptyRows","int32"),mt=(0,f._1)(U,"defaultValue","sparseFillEmptyRows",Z.dtype);if(2!==z.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${z.shape}`);if(1!==Z.rank)throw new Error(`Values should be Tensor1D but received shape ${Z.shape}`);if(1!==J.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${J.shape}`);if(0!==mt.rank)throw new Error(`Default value should be a scalar but received shape ${mt.shape}`);const Ut=E.BV.runKernel(v.O3z,{indices:z,values:Z,denseShape:J,defaultValue:mt});return{outputIndices:Ut[0],outputValues:Ut[1],emptyRowIndicator:Ut[2],reverseIndexMap:Ut[3]}}}),sparseReshape:(0,d.op)({sparseReshape_:function Xo(k,C,w){const U=(0,f._1)(k,"inputIndices","sparseReshape","int32"),z=(0,f._1)(C,"inputShape","sparseReshape","int32"),Z=(0,f._1)(w,"newShape","sparseReshape","int32");if(2!==U.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${U.shape}`);if(1!==z.rank)throw new Error(`Input shape should be Tensor1D but received shape ${z.shape}`);if(1!==Z.rank)throw new Error(`New shape should be Tensor1D but received shape ${Z.shape}`);const mt=E.BV.runKernel(v.nhH,{inputIndices:U,inputShape:z,newShape:Z});return{outputIndices:mt[0],outputShape:mt[1]}}}),sparseSegmentMean:(0,d.op)({sparseSegmentMean_:function Yo(k,C,w){const U=(0,f._1)(k,"data","sparseSegmentMean"),z=(0,f._1)(C,"indices","sparseSegmentMean","int32"),Z=(0,f._1)(w,"segmentIds","sparseSegmentMean","int32");if(U.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==z.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${z.shape}`);if(1!==Z.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${Z.shape}`);return E.BV.runKernel(v.w3H,{data:U,indices:z,segmentIds:Z})}}),sparseSegmentSum:(0,d.op)({sparseSegmentSum_:function Jo(k,C,w){const U=(0,f._1)(k,"data","sparseSegmentSum"),z=(0,f._1)(C,"indices","sparseSegmentSum","int32"),Z=(0,f._1)(w,"segmentIds","sparseSegmentSum","int32");if(U.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==z.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${z.shape}`);if(1!==Z.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${Z.shape}`);return E.BV.runKernel(v.ZjV,{data:U,indices:z,segmentIds:Z})}})},pi={stringNGrams:(0,d.op)({stringNGrams_:function ti(k,C,w,U,z,Z,J,mt){const Ct=(0,f._1)(k,"data","stringNGrams","string");if("string"!==Ct.dtype)throw new Error("Data must be of datatype string");if(1!==Ct.shape.length)throw new Error(`Data must be a vector, saw: ${Ct.shape}`);const Ut=(0,f._1)(C,"dataSplits","stringNGrams");if("int32"!==Ut.dtype)throw new Error("Data splits must be of datatype int32");const Ie=E.BV.runKernel(v._JP,{data:Ct,dataSplits:Ut},{separator:w,nGramWidths:U,leftPad:z,rightPad:Z,padWidth:J,preserveShortSequences:mt});return{nGrams:Ie[0],nGramsSplits:Ie[1]}}}),stringSplit:(0,d.op)({stringSplit_:function ni(k,C,w=!0){const U=(0,f._1)(k,"input","stringSplit","string"),z=(0,f._1)(C,"delimiter","stringSplit","string");if(1!==U.rank)throw new Error(`Input should be Tensor1D but received shape ${U.shape}`);if(0!==z.rank)throw new Error(`Delimiter should be a scalar but received shape ${z.shape}`);const mt=E.BV.runKernel(v.s1s,{input:U,delimiter:z},{skipEmpty:w});return{indices:mt[0],values:mt[1],shape:mt[2]}}}),stringToHashBucketFast:(0,d.op)({stringToHashBucketFast_:function si(k,C){const w=(0,f._1)(k,"input","stringToHashBucketFast","string"),U={numBuckets:C};if(C<=0)throw new Error("Number of buckets must be at least 1");return E.BV.runKernel(v.XkS,{input:w},U)}}),staticRegexReplace:(0,d.op)({staticRegexReplace_:function oi(k,C,w,U=!0){const z=(0,f._1)(k,"input","staticRegexReplace","string");return E.BV.runKernel(v.e0R,{x:z},{pattern:C,rewrite:w,replaceGlobal:U})}})}},404:(vt,L,t)=>{"use strict";t.d(L,{v:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({pad_:function O(v,f,s=0){const d=(0,h._1)(v,"x","pad");if(0===d.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return b.BV.runKernel(B.lyA,{x:d},{paddings:f,constantValue:s})}})},1640:(vt,L,t)=>{"use strict";t.d(L,{d:()=>S});var b=t(1257),B=t(5359),h=t(6903),M=t(2782),O=t(5551),E=t(2444),v=t(4195),f=t(5715),s=t(9619);const S=(0,v.op)({pool_:function d(j,$,Y,Q,dt,ht,Wt){null==dt&&(dt=[1,1]),null==ht&&(ht=1),0===Q&&(Q="valid");const G=(0,b._1)(j,"x","maxPool");let et=G,nt=!1;3===G.rank&&(nt=!0,et=(0,f.X)(G,[1,G.shape[0],G.shape[1],G.shape[2]])),B.hu(O.jT(ht,dt),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${ht} and dilations '${dt}'`);const x=O.Xw(et.shape,$,ht,dt,Q),N=[x.dilationHeight,x.dilationWidth];let c;c="same"===Q?function g(j,$){const Q=j.map((Wt,G)=>Wt+(Wt-1)*($[G]-1)).map(Wt=>Wt-1),dt=Q.map(Wt=>Math.floor(Wt/2)),ht=Q.map((Wt,G)=>Wt-dt[G]);return Q.map((Wt,G)=>[dt[G],ht[G]])}([x.filterHeight,x.filterWidth],N):[[0,0],[0,0]];const R=1===N[0]&&1===N[1],[H,ut]=function m(j,$,Y){const Q=Y.map(x=>x[0]),dt=Y.map(x=>x[1]),ht=j.concat(Q,dt),Wt=$.map((x,N)=>(x-ht[N]%x)%x),G=dt.map((x,N)=>x+Wt[N]),et=$.map((x,N)=>[Q[N],G[N]]),nt=$.map((x,N)=>[0,Wt[N]]);return[et,nt]}([x.inHeight,x.inWidth],N,c),a=R?Q:"valid",bt=R?et:(0,s.f)(et,N,H),it=("avg"===Y?()=>(0,h.w)(bt,$,ht,a,Wt):()=>(0,E._)(bt,$,ht,a,Wt))(),Dt=R?it:(0,M.E)(it,N,ut);return nt?(0,f.X)(Dt,[Dt.shape[1],Dt.shape[2],Dt.shape[3]]):Dt}})},2962:(vt,L,t)=>{"use strict";t.d(L,{s:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({pow_:function E(f,s){let d=(0,M._1)(f,"base","pow"),m=(0,M._1)(s,"exp","pow");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.pe_,{a:d,b:m})}})},1584:(vt,L,t)=>{"use strict";t.d(L,{A:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({prelu_:function O(v,f){const s=(0,h._1)(v,"x","prelu"),d=(0,h._1)(f,"alpha","prelu");return b.BV.runKernel(B.o0g,{x:s,alpha:d})}})},3006:(vt,L,t)=>{"use strict";function b(B,h=!1){console.log(B.toString(h))}t.d(L,{S:()=>b})},794:(vt,L,t)=>{"use strict";t.d(L,{W:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(3062);const v=(0,t(4195).op)({prod_:function E(f,s=null,d=!1){let m=(0,h._1)(f,"x","prod");return"bool"===m.dtype&&(m=(0,M.p)(m,"int32")),b.BV.runKernel(B.DlI,{x:m},{axis:s,keepDims:d})}})},6027:(vt,L,t)=>{"use strict";t.d(L,{k:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({real_:function O(v){const s={input:(0,h._1)(v,"input","real")};return b.BV.runKernel(B.xJR,s)}})},4831:(vt,L,t)=>{"use strict";t.d(L,{M:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({reciprocal_:function O(v){const s={x:(0,h._1)(v,"x","reciprocal")};return b.BV.runKernel(B.$HU,s)}})},8586:(vt,L,t)=>{"use strict";t.d(L,{U:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({relu_:function O(v){const s={x:(0,h._1)(v,"x","relu")};return b.BV.runKernel(B.qkr,s)}})},4917:(vt,L,t)=>{"use strict";t.d(L,{b:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({relu6_:function O(v){const s={x:(0,h._1)(v,"x","relu6")};return b.BV.runKernel(B.SbG,s)}})},5715:(vt,L,t)=>{"use strict";t.d(L,{X:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({reshape_:function O(v,f){const d={x:(0,h._1)(v,"x","reshape","string_or_numeric")};return b.BV.runKernel(B.HZH,d,{shape:f})}})},6825:(vt,L,t)=>{"use strict";t.d(L,{G:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({reverse_:function O(v,f){const d={x:(0,h._1)(v,"x","reverse")};return b.BV.runKernel(B.mKl,d,{dims:f})}})},1974:(vt,L,t)=>{"use strict";t.d(L,{N:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({round_:function O(v){const s={x:(0,h._1)(v,"x","round")};return b.BV.runKernel(B.e07,s)}})},8893:(vt,L,t)=>{"use strict";t.d(L,{b:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({rsqrt_:function O(v){const s={x:(0,h._1)(v,"x","rsqrt","float32")};return b.BV.runKernel(B.bV0,s)}})},8661:(vt,L,t)=>{"use strict";t.d(L,{i:()=>h});var b=t(1153),B=t(7431);function h(M,O){if(((0,b.isTypedArray)(M)&&"string"!==O||Array.isArray(M))&&"complex64"!==O)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===O&&(0,b.isTypedArray)(M)&&!(M instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,B.H)(M,[],[],O)}},1876:(vt,L,t)=>{"use strict";t.r(L),t.d(L,{calculateShapes:()=>M,validateInput:()=>h,validateUpdateShape:()=>B});var b=t(5359);function B(O,E,v){const f=E.rank>1?E.shape[E.rank-1]:1,s=E.rank>1?E.rank-1:1,d=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${v.shape}, indices.shape: ${E.shape}, shape: ${O}, sliceDim: ${f}, and batchDim: ${s}.`;if(v.rank<s)throw new Error(d+` update.rank < ${s}. `);if(O.length<f+(v.rank-s))throw new Error(d+` Output shape length < ${f+(v.rank-s)}`);if(v.rank!==s+O.length-f)throw new Error(d+" update.rank != "+(s+O.length-f));for(let m=0;m<s;++m)if(v.shape[m]!==E.shape[m])throw new Error(d+` updates.shape[${m}] (${v.shape[m]}) != indices.shape[${m}] (${E.shape[m]}).`);for(let m=0;m<v.rank-s;++m)if(v.shape[m+s]!==O[m+f])throw new Error(d+` updates.shape[${m+s}] (${v.shape[m+s]}) != shape[${m+s}] (${O[m+s]})`)}function h(O,E,v){if(E.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${E.rank}.`);if(O.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${O.rank}.`);if("int32"!==E.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${E.dtype}`);if(v.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${v}`);if(0===v.length){if(0===E.size)throw new Error(`Indices specified for empty output. indices shape: ${E.shape}`);if(0===O.size)throw new Error(`Updates specified for empty output. updates shape: ${O.shape}`)}B(v,E,O)}function M(O,E,v){const f=E.shape.length,s=f>1?E.shape[f-1]:1,d=v.length;let m=1;for(let Y=s;Y<d;++Y)m*=v[Y];const g=s<1?1:s;return{sliceRank:s,numUpdates:(0,b.NA)(E.shape)/g,sliceSize:m,strides:[...(0,b.e3)(v.slice(0,s)),1],outputSize:(0,b.NA)(v)}}},9614:(vt,L,t)=>{"use strict";t.d(L,{U:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({selu_:function O(v){const s={x:(0,h._1)(v,"x","selu")};return b.BV.runKernel(B.oFR,s)}})},2152:(vt,L,t)=>{"use strict";t.d(L,{$:()=>B,y:()=>b});const b=1.7580993408473768,B=1.0507009873554805},6762:(vt,L,t)=>{"use strict";t.d(L,{U:()=>f});var b=t(1257),B=t(5359),h=t(4451),M=t(1172),O=t(4195),E=t(5715);const f=(0,O.op)({separableConv2d_:function v(s,d,m,g,S,j=[1,1],$="NHWC"){const Y=(0,b._1)(s,"x","separableConv2d"),Q=(0,b._1)(d,"depthwiseFilter","separableConv2d"),dt=(0,b._1)(m,"pointwiseFilter","separableConv2d");let ht=Y,Wt=!1;if(3===Y.rank&&(Wt=!0,ht=(0,E.X)(Y,[1,Y.shape[0],Y.shape[1],Y.shape[2]])),"NCHW"===$)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");B.hu(4===ht.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${ht.rank}.`),B.hu(4===Q.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${Q.rank}.`),B.hu(4===dt.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${Q.rank}.`),B.hu(1===dt.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${dt.shape[0]}.`),B.hu(1===dt.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${dt.shape[1]}.`);const G=Q.shape[2],et=Q.shape[3];B.hu(dt.shape[2]===G*et,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${G*et}, but got ${dt.shape[2]}.`);const nt=(0,M.B)(ht,Q,g,S,$,j),N=(0,h.T)(nt,dt,1,"valid",$);return Wt?(0,E.X)(N,[N.shape[1],N.shape[2],N.shape[3]]):N}})},6139:(vt,L,t)=>{"use strict";t.d(L,{X:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({sigmoid_:function O(v){const s={x:(0,h._1)(v,"x","sigmoid","float32")};return b.BV.runKernel(B.a5O,s)}})},4058:(vt,L,t)=>{"use strict";t.d(L,{X:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({sign_:function O(v){const s={x:(0,h._1)(v,"x","sign")};return b.BV.runKernel(B.i5y,s)}})},2438:(vt,L,t)=>{"use strict";t.d(L,{O:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({sin_:function O(v){const s={x:(0,h._1)(v,"x","sin","float32")};return b.BV.runKernel(B.RQH,s)}})},319:(vt,L,t)=>{"use strict";t.d(L,{R:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({sinh_:function O(v){const s={x:(0,h._1)(v,"x","sinh")};return b.BV.runKernel(B.wYB,s)}})},8317:(vt,L,t)=>{"use strict";t.d(L,{t:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({slice_:function O(v,f,s){const d=(0,h._1)(v,"x","slice","string_or_numeric");if(0===d.rank)throw new Error("Slicing scalar is not possible");return b.BV.runKernel(B.p2w,{x:d},{begin:f,size:s})}})},2320:(vt,L,t)=>{"use strict";t.r(L),t.d(L,{assertParamsValid:()=>M,computeFlatOffset:()=>Q,computeOutShape:()=>E,getNormalizedAxes:()=>d,isSliceContinous:()=>Y,maskToAxes:()=>O,parseSliceParams:()=>dt,sliceInfo:()=>ht,startForAxis:()=>j,startIndicesWithElidedDims:()=>m,stopForAxis:()=>$,stopIndicesWithElidedDims:()=>g,stridesForAxis:()=>S,stridesWithElidedDims:()=>v});var b=t(5359);const B=-2,h=-1;function M(et,nt,x){const N=et.shape.length;b.hu(N===nt.length,()=>`Error in slice${N}D: Length of begin ${nt} must match the rank of the array (${N}).`),b.hu(N===x.length,()=>`Error in slice${N}D: Length of size ${x} must match the rank of the array (${N}).`);for(let c=0;c<N;++c)b.hu(nt[c]+x[c]<=et.shape[c],()=>`Error in slice${N}D: begin[${c}] + size[${c}] (${nt[c]+x[c]}) would overflow input.shape[${c}] (${et.shape[c]})`)}function O(et){const nt=[];let x=0;for(;et>0;)1&et&&nt.push(x),et/=2,x++;return nt}function E(et,nt,x){const N=[];for(let c=0;c<et.length;c++)N[c]=Math.ceil((nt[c]-et[c])/x[c]);return N}function v(et,nt,x,N){const c=[...et];for(let R=c.length;R<N.length;R++)c.push(1);for(let R=0;R<x;R++)0===R?c[nt]=1:(c.splice(nt,0,1),c.pop());return c}function f(et,nt,x){return x<=et?x:x-(nt-1)}function s(et,nt){const x=[];for(let N=0;N<et;N++)x.push(nt+N);return x}function d(et,nt,x,N,c,R,H,ut,a){const bt=et.length;let q=new Array(bt),it=new Array(bt),Dt=new Array(bt);if(nt.length&&x>0){const At=nt[0],kt=x+1;q=m(H,At,kt,N,et),it=g(ut,At,kt,c,et),Dt=v(R,At,kt,et)}else for(let At=0;At<bt;At++)q[At]=j(H,N,R,et,At,a),it[At]=$(ut,c,R,et,At,a),Dt[At]=S(R,At,a);return{begin:q,end:it,strides:Dt}}function m(et,nt,x,N,c){const R=[...c],H=s(x,nt);for(let ut=0;ut<R.length;ut++)if(H.indexOf(ut)>-1)R[ut]=0;else{const a=f(nt,x,ut);let bt=N[a];et&1<<a&&(bt=0),R[ut]=bt}return R}function g(et,nt,x,N,c){const R=[...c],H=s(x,nt);for(let ut=0;ut<R.length;ut++)if(H.indexOf(ut)>-1)R[ut]=Number.MAX_SAFE_INTEGER;else{const a=f(nt,x,ut);let bt=N[a];et&1<<a&&(bt=Number.MAX_SAFE_INTEGER),R[ut]=bt}for(let ut=0;ut<R.length;ut++)R[ut]<0&&(R[ut]+=c[ut]),R[ut]=b.uZ(0,R[ut],c[ut]);return R}function S(et,nt,x){let N=et[nt];return(x&1<<nt||null==N)&&(N=1),N}function j(et,nt,x,N,c,R){let H=nt[c];(et&1<<c||R&1<<c||null==H)&&(H=(x[c]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const a=N[c];return H<0&&(H+=a),H=b.uZ(0,H,a-1),H}function $(et,nt,x,N,c,R){let H=nt[c];const ut=x[c]||1;(et&1<<c||R&1<<c||null==H)&&(H=ut>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const a=N[c];return H<0&&(H+=a),H=ut>0?b.uZ(0,H,a):b.uZ(-1,H,a-1),H}function Y(et,nt,x){let N=x.length;for(let c=0;c<x.length;c++)if(x[c]>1){N=c;break}for(let c=N+1;c<x.length;c++)if(nt[c]>0||x[c]!==et[c])return!1;return!0}function Q(et,nt){let x=et.length>0?et[et.length-1]:1;for(let N=0;N<et.length-1;N++)x+=et[N]*nt[N];return x}function dt(et,nt,x){let N;const c=et.shape.length;let R;return N="number"==typeof nt?[nt,...new Array(c-1).fill(0)]:nt.length<c?nt.concat(new Array(c-nt.length).fill(0)):nt.slice(),N.forEach(H=>{b.hu(-1!==H,()=>"slice() does not support negative begin indexing.")}),R=null==x?new Array(c).fill(-1):"number"==typeof x?[x,...new Array(c-1).fill(-1)]:x.length<c?x.concat(new Array(c-x.length).fill(-1)):x,R=R.map((H,ut)=>H>=0?H:(b.hu(-1===H,()=>`Negative size values should be exactly -1 but got ${H} for the slice() size at index ${ut}.`),et.shape[ut]-N[ut])),[N,R]}function ht(et,nt,x,N,c,R,H,ut,a){let bt;if(null==N?(bt=new Array(nt.length),bt.fill(1)):bt=N,null!=H&&H&H-1)throw new Error("Multiple ellipses in slice is not allowed.");let q=!1;const it={dims:bt.length,numAddAxisAfterEllipsis:0,begin:nt.slice(),end:x.slice(),strides:bt.slice(),beginMask:c,endMask:R,ellipsisMask:H,newAxisMask:ut,shrinkAxisMask:a};for(let ae=0;ae<it.dims;ae++)q&&1<<ae&ut&&it.numAddAxisAfterEllipsis++,1<<ae&H&&(q=!0);q||(it.ellipsisMask|=1<<it.dims,it.dims++);const Dt={dims:et.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function Wt(et,nt){nt.beginMask=0,nt.endMask=0,nt.shrinkAxisMask=0;let x=0;nt.beginValid=null!=et.begin,nt.endValid=null!=et.end,nt.begin=new Array(nt.dims),nt.end=new Array(nt.dims),nt.strides=new Array(nt.dims),nt.finalShapeGatherIndices=[],nt.finalShapeGatherIndicesSparse=[],nt.inputShapeGatherIndicesSparse=new Array(nt.dims);for(let N=0;N<et.dims;N++)if(1<<N&et.ellipsisMask){const c=Math.min(nt.dims-(et.dims-N)+1+et.numAddAxisAfterEllipsis,nt.dims);for(;x<c;x++)nt.begin[x]=0,nt.end[x]=0,nt.strides[x]=1,nt.beginMask|=1<<x,nt.endMask|=1<<x,nt.finalShapeGatherIndices.push(x),nt.finalShapeGatherIndicesSparse.push(-1),nt.inputShapeGatherIndicesSparse[x]=N}else if(1<<N&et.newAxisMask)nt.finalShapeGatherIndices.push(B),nt.finalShapeGatherIndicesSparse.push(-1);else{if(x===nt.begin.length)throw Error(`Index out of range using input dim ${x}; input has only ${nt.dims} dims, ${nt.begin.length}.`);null!=et.begin&&(nt.begin[x]=et.begin[N]),null!=et.end&&(nt.end[x]=et.end[N]),nt.strides[x]=et.strides[N],et.beginMask&1<<N&&(nt.beginMask|=1<<x),et.endMask&1<<N&&(nt.endMask|=1<<x),et.shrinkAxisMask&1<<N?(nt.finalShapeGatherIndices.push(h),nt.finalShapeGatherIndicesSparse.push(-1),nt.shrinkAxisMask|=1<<x):(nt.finalShapeGatherIndices.push(x),nt.finalShapeGatherIndicesSparse.push(N)),nt.inputShapeGatherIndicesSparse[x]=N,x++}}(it,Dt);let At=!0,kt=!0,Qt=!0;const ce=[],ie=[];for(let ae=0;ae<et.length;++ae){if(0===Dt.strides[ae])throw Error(`strides[${ae}] must be non-zero`);const ke=!!(Dt.shrinkAxisMask&1<<ae),Se=et[ae];if(-1===Se){ce.push(ke?1:-1);continue}const on=[Dt.beginMask&1<<ae,Dt.endMask&1<<ae],_n=[Dt.strides[ae]>0?0:-1,Dt.strides[ae]>0?Se:Se-1];if(ke&&Dt.strides[ae]<=0)throw Error("only stride 1 allowed on non-range indexing.");Qt=Qt&&1===Dt.strides[ae];const vn=!!(Dt.beginMask&1<<ae&&Dt.endMask&1<<ae);if(Dt.beginValid&&Dt.endValid){if(ke){const Bt=Dt.begin[ae]<0?Se+Dt.begin[ae]:Dt.begin[ae];if(Dt.begin[ae]=Bt,Dt.end[ae]=Dt.begin[ae]+1,Bt<0||Bt>=Se)throw Error(`slice index ${Dt.begin[ae]} of dimension ${ae} out of bounds.`)}else Dt.begin[ae]=G(Dt.begin[ae],0,Dt.strides[ae],Se,on,_n),Dt.end[ae]=G(Dt.end[ae],1,Dt.strides[ae],Se,on,_n);const ct=1===Dt.strides[ae]&&0===Dt.begin[ae]&&Dt.end[ae]===Se;At=At&&ct,kt=kt&&(0===ae&&1===Dt.strides[ae]||ct)}else At=At&&1===Dt.strides[ae]&&vn,kt=kt&&(0===ae&&1===Dt.strides[ae]||vn);let An,Je=!1;if(Dt.beginValid&&Dt.endValid?(An=Dt.end[ae]-Dt.begin[ae],Je=!0):ke?(An=1,Je=!0):vn&&Se>=0&&(An=Dt.strides[ae]<0?-Se:Se,Je=!0),Je){let ct;ct=0===An||An<0!=Dt.strides[ae]<0?0:Math.trunc(An/Dt.strides[ae])+(An%Dt.strides[ae]!=0?1:0),ce.push(ct)}else ce.push(-1)}for(let ae=0;ae<Dt.finalShapeGatherIndices.length;++ae){const ke=Dt.finalShapeGatherIndices[ae];ke>=0?ie.push(ce[ke]):ke===B&&ie.push(1)}return{finalShapeSparse:ie.filter((ae,ke)=>Dt.finalShapeGatherIndices[ke]!==B),finalShape:ie,isIdentity:At,sliceDim0:kt,isSimpleSlice:Qt,begin:Dt.begin,end:Dt.end,strides:Dt.strides}}function G(et,nt,x,N,c,R){if(c[nt])return x>0?R[nt]:R[nt+1&1];{const H=et<0?N+et:et;return H<R[0]?R[0]:H>R[1]?R[1]:H}}},8683:(vt,L,t)=>{"use strict";t.d(L,{X:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({softmax_:function O(v,f=-1){const s=(0,h._1)(v,"logits","softmax","float32");if(-1===f&&(f=s.rank-1),f!==s.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s.rank} and dim was ${f}`);return b.BV.runKernel(B.Gcp,{logits:s},{dim:f})}})},4487:(vt,L,t)=>{"use strict";t.d(L,{W:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({softplus_:function O(v){const s={x:(0,h._1)(v,"x","softplus")};return b.BV.runKernel(B.MRv,s)}})},9619:(vt,L,t)=>{"use strict";t.d(L,{f:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({spaceToBatchND_:function E(f,s,d){const m=(0,h._1)(f,"x","spaceToBatchND");return M.hu(m.rank>=1+s.length,()=>`input rank ${m.rank} should be > than [blockShape] ${s.length}`),M.hu(d.length===s.length,()=>`paddings.shape[0] ${d.length} must be equal to [blockShape] ${s.length}`),M.hu(m.shape.reduce((j,$,Y)=>Y>0&&Y<=s.length?j&&($+d[Y-1][0]+d[Y-1][1])%s[Y-1]==0:j,!0),()=>`input spatial dimensions ${m.shape.slice(1)} with paddings ${d.toString()} must be divisible by blockShapes ${s.toString()}`),b.BV.runKernel(B.TQc,{x:m},{blockShape:s,paddings:d})}})},9738:(vt,L,t)=>{"use strict";t.d(L,{k:()=>E});var b=t(687),B=t(4251),h=t(5359);const E=(0,t(4195).op)({fft_:function O(v){return(0,h.hu)("complex64"===v.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${v.dtype}.`),b.BV.runKernel(B.vwp,{input:v})}})},527:(vt,L,t)=>{"use strict";t.d(L,{S:()=>E});var b=t(687),B=t(4251),h=t(5359);const E=(0,t(4195).op)({ifft_:function O(v){return(0,h.hu)("complex64"===v.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${v.dtype}.`),b.BV.runKernel(B.Qg5,{input:v})}})},6065:(vt,L,t)=>{"use strict";t.d(L,{w:()=>S});var b=t(3037),B=t(4111),h=t(1844),M=t(8737),O=t(4195),E=t(6027),v=t(5715),f=t(6825),s=t(8661),d=t(8317),m=t(527);const S=(0,O.op)({irfft_:function g(j){const $=j.shape[j.shape.length-1],Y=j.size/$;let Q;if($<=2){const dt=(0,v.X)(j,[Y,$]);Q=(0,m.S)(dt)}else{const dt=[Y,2*($-1)],ht=(0,v.X)((0,E.k)(j),[Y,$]),Wt=(0,v.X)((0,h.a)(j),[Y,$]),G=(0,f.G)((0,d.t)(ht,[0,1],[Y,$-2]),1),et=(0,M.d)((0,f.G)((0,d.t)(Wt,[0,1],[Y,$-2]),1),(0,s.i)(-1)),nt=(0,B.z)([ht,G],1),x=(0,B.z)([Wt,et],1),N=(0,v.X)((0,b.P)(nt,x),[dt[0],dt[1]]);Q=(0,m.S)(N)}if(Q=(0,E.k)(Q),3===j.rank&&0!==j.shape[0]){const dt=Q,ht=j.shape[0];Q=(0,v.X)(Q,[ht,Q.shape[0]/ht,Q.shape[1]]),dt.dispose()}return Q}})},1638:(vt,L,t)=>{"use strict";t.d(L,{Q:()=>j});var b=t(5359),B=t(3037),h=t(4111),M=t(1844),O=t(4195),E=t(6027),v=t(5715),f=t(8317),s=t(8874),d=t(6467),m=t(3143),g=t(9738);const j=(0,O.op)({rfft_:function S($,Y){(0,b.hu)("float32"===$.dtype,()=>`The dtype for rfft() must be real value but got ${$.dtype}`);let Q=$.shape[$.shape.length-1];const dt=$.size/Q;let ht;if(null!=Y&&Y<Q){const ut=$.shape.map(bt=>0),a=$.shape.map(bt=>bt);a[$.shape.length-1]=Y,ht=(0,f.t)($,ut,a),Q=Y}else if(null!=Y&&Y>Q){const ut=$.shape.map(a=>a);ut[$.shape.length-1]=Y-Q,ht=(0,h.z)([$,(0,d.l)(ut)],$.shape.length-1),Q=Y}else ht=$;const Wt=(0,m.P)(ht),G=(0,v.X)((0,B.P)(ht,Wt),[dt,Q]),et=(0,g.k)(G),nt=Math.floor(Q/2)+1,x=(0,E.k)(et),N=(0,M.a)(et),c=(0,s.V)(x,[nt,Q-nt],x.shape.length-1),R=(0,s.V)(N,[nt,Q-nt],N.shape.length-1),H=ht.shape.slice();return H[ht.shape.length-1]=nt,(0,v.X)((0,B.P)(c[0],R[0]),H)}})},8874:(vt,L,t)=>{"use strict";t.d(L,{V:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({split_:function O(v,f,s=0){const m={x:(0,h._1)(v,"x","split")};return b.BV.runKernel(B.L8s,m,{numOrSizeSplits:f,axis:s})}})},930:(vt,L,t)=>{"use strict";t.d(L,{_:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({sqrt_:function O(v){const s={x:(0,h._1)(v,"x","sqrt","float32")};return b.BV.runKernel(B.FKq,s)}})},7527:(vt,L,t)=>{"use strict";t.d(L,{h:()=>O});var b=t(687),B=t(1257);const O=(0,t(4195).op)({square_:function M(E){const v=(0,B._1)(E,"x","square");return b.BV.runKernel("Square",{x:v},{})}})},9539:(vt,L,t)=>{"use strict";t.d(L,{$:()=>f});var b=t(687),B=t(4251),h=t(7664),M=t(1257),O=t(3239);const f=(0,t(4195).op)({squaredDifference_:function v(s,d){let m=(0,M._1)(s,"a","squaredDifference"),g=(0,M._1)(d,"b","squaredDifference");return[m,g]=(0,h.makeTypesMatch)(m,g),(0,O.assertAndGetBroadcastShape)(m.shape,g.shape),b.BV.runKernel(B._tC,{a:m,b:g},{})}})},2494:(vt,L,t)=>{"use strict";t.d(L,{L:()=>E});var b=t(1257),B=t(5359),h=t(4195),M=t(5715);const E=(0,h.op)({squeeze_:function O(v,f){const s=(0,b._1)(v,"x","squeeze","string_or_numeric");return(0,M.X)(s,(0,B.bp)(s.shape,f).newShape)}})},7958:(vt,L,t)=>{"use strict";t.d(L,{k:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({stack_:function E(f,s=0){const d=(0,h.sI)(f,"tensors","stack","string_or_numeric");return M.hu(d.length>=1,()=>"Pass at least one tensor to tf.stack"),d.length>0&&M.hu(s<=d[0].rank,()=>"Axis must be <= rank of the tensor"),b.BV.runKernel(B.QiL,d,{axis:s})}})},6034:(vt,L,t)=>{"use strict";t.d(L,{N:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({step_:function O(v,f=0){const d={x:(0,h._1)(v,"x","step")};return b.BV.runKernel(B.h8e,d,{alpha:f})}})},5367:(vt,L,t)=>{"use strict";t.d(L,{N:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({stridedSlice_:function O(v,f,s,d,m=0,g=0,S=0,j=0,$=0){const Q={x:(0,h._1)(v,"x","stridedSlice","string_or_numeric")};return b.BV.runKernel(B.jQk,Q,{begin:f,end:s,strides:d,beginMask:m,endMask:g,ellipsisMask:S,newAxisMask:j,shrinkAxisMask:$})}})},1191:(vt,L,t)=>{"use strict";t.d(L,{l:()=>v});var b=t(687),B=t(4251),h=t(7664),M=t(1257);const v=(0,t(4195).op)({sub_:function E(f,s){let d=(0,M._1)(f,"a","sub"),m=(0,M._1)(s,"b","sub");return[d,m]=(0,h.makeTypesMatch)(d,m),b.BV.runKernel(B.Tr8,{a:d,b:m})}})},9929:(vt,L,t)=>{"use strict";t.d(L,{S:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(3062);const v=(0,t(4195).op)({sum_:function E(f,s=null,d=!1){let m=(0,h._1)(f,"x","sum");return"bool"===m.dtype&&(m=(0,M.p)(m,"int32")),b.BV.runKernel(B.GBy,{x:m},{axis:s,keepDims:d})}})},2500:(vt,L,t)=>{"use strict";t.d(L,{O:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({tan_:function O(v){const s={x:(0,h._1)(v,"x","tan","float32")};return b.BV.runKernel(B.sEM,s)}})},5987:(vt,L,t)=>{"use strict";t.d(L,{A:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({tanh_:function O(v){const s={x:(0,h._1)(v,"x","tanh","float32")};return b.BV.runKernel(B.MIZ,s)}})},3905:(vt,L,t)=>{"use strict";t.d(L,{X:()=>h});var b=t(1257),B=t(7431);function h(M,O,E){const v=(0,b.C)(M,E);return(0,B.H)(M,O,v,E)}},2786:(vt,L,t)=>{"use strict";t.d(L,{w:()=>M});var b=t(1257),B=t(5359),h=t(7431);function M(O,E,v){if((0,B.Cq)(O),null!=E&&3!==E.length)throw new Error("tensor3d() requires shape to have three numbers");const f=(0,b.C)(O,v);if(3!==f.length&&1!==f.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===f.length&&null==E)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,h.H)(O,E,f,v)}},7431:(vt,L,t)=>{"use strict";t.d(L,{H:()=>O});var b=t(687),B=t(1216),h=t(5359),M=t(1153);function O(E,v,f,s){if(null==s)s=(0,h.D2)(E);else if("complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if((0,B.$F)(E)||(0,B.Oq)(E)){if("float32"!==s&&"int32"!==s)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${s}.`);return b.BV.backend.createTensorFromGPUData(E,v||f,s)}if(!(0,M.isTypedArray)(E)&&!Array.isArray(E)&&"number"!=typeof E&&"boolean"!=typeof E&&"string"!=typeof E)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=v){(0,h.Mu)(v);const d=(0,h.NA)(v),m=(0,h.NA)(f);(0,h.hu)(d===m,()=>`Based on the provided shape, [${v}], the tensor should have ${d} values but has ${m}`);for(let g=0;g<f.length;++g){const j=g!==f.length-1||f[g]!==(0,h.NA)(v.slice(g));(0,h.hu)(f[g]===v[g]||!j,()=>`Error creating a new Tensor. Inferred shape (${f}) does not match the provided shape (${v}). `)}}return!(0,M.isTypedArray)(E)&&!Array.isArray(E)&&(E=[E]),v=v||f,E="string"!==s?(0,M.toTypedArray)(E,s):(0,M.flatten)(E,[],!0),b.BV.makeTensor(E,v,s)}},2005:(vt,L,t)=>{"use strict";t.d(L,{G:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({tile_:function E(f,s){const d=(0,h._1)(f,"x","tile","string_or_numeric");return M.hu(d.rank===s.length,()=>`Error in transpose: rank of input ${d.rank} must match length of reps ${s}.`),b.BV.runKernel(B.n9L,{x:d},{reps:s})}})},4927:(vt,L,t)=>{"use strict";t.d(L,{h:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({topk_:function O(v,f=1,s=!0){const d=(0,h._1)(v,"x","topk");if(0===d.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const m=d.shape[d.shape.length-1];if(f<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${f}`);if(f>m)throw new Error(`'k' passed to topk() must be <= the last dimension (${m}) but got ${f}`);const g={x:d},S={k:f,sorted:s},[j,$]=b.BV.runKernel(B.cWu,g,S);return{values:j,indices:$}}})},9194:(vt,L,t)=>{"use strict";t.d(L,{p:()=>g});var b=t(687),B=t(2773),h=t(4251),M=t(1257),O=t(5359),E=t(3037),v=t(1844),f=t(5048),s=t(4195),d=t(6027);const g=(0,s.op)({transpose_:function m(S,j,$){const Y=(0,M._1)(S,"x","transpose");if(null==j&&(j=Y.shape.map((ht,Wt)=>Wt).reverse()),O.hu(Y.rank===j.length,()=>`Error in transpose: rank of input ${Y.rank} must match length of perm ${j}.`),j.forEach(ht=>{O.hu(ht>=0&&ht<Y.rank,()=>`All entries in 'perm' must be between 0 and ${Y.rank-1} but got ${j}`)}),Y.rank<=1)return Y.clone();const Q={x:Y},dt={perm:j};return"complex64"===Y.dtype?(0,B.lu)(()=>{let ht=(0,d.k)(Y),Wt=(0,v.a)(Y);return ht=b.BV.runKernel(h.G3Y,{x:ht},dt),Wt=b.BV.runKernel(h.G3Y,{x:Wt},dt),$&&(Wt=(0,f.W)(Wt)),(0,E.P)(ht,Wt)}):b.BV.runKernel(h.G3Y,Q,dt)}})},8130:(vt,L,t)=>{"use strict";t.d(L,{T:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({unique_:function E(f,s=0){const d=(0,h._1)(f,"x","unique","string_or_numeric");(0,M.hu)(d.rank>0,()=>"The input tensor must be at least 1D");const m={x:d},g={axis:s},[S,j]=b.BV.runKernel(B.kpP,m,g);return{values:S,indices:j}}})},9059:(vt,L,t)=>{"use strict";t.d(L,{p:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({unsortedSegmentSum_:function E(f,s,d){const m=(0,h._1)(f,"x","unsortedSegmentSum"),g=(0,h._1)(s,"segmentIds","unsortedSegmentSum","int32");return(0,M.hu)((0,M.GN)(d),()=>"numSegments must be of dtype int"),b.BV.runKernel(B.Qvg,{x:m,segmentIds:g},{numSegments:d})}})},2219:(vt,L,t)=>{"use strict";t.d(L,{H:()=>v});var b=t(687),B=t(4251),h=t(1257),M=t(5359);const v=(0,t(4195).op)({unstack_:function E(f,s=0){const d=(0,h._1)(f,"x","unstack","string_or_numeric");return M.hu(s>=-d.shape.length&&s<d.shape.length,()=>`Axis = ${s} is not in [-${d.shape.length}, ${d.shape.length})`),b.BV.runKernel(B.ToN,{value:d},{axis:s})}})},2190:(vt,L,t)=>{"use strict";t.d(L,{a:()=>f});var b=t(687),B=t(4251),h=t(1257),M=t(983),O=t(3239);const f=(0,t(4195).op)({where_:function v(s,d,m){const g=(0,h._1)(d,"a","where"),S=(0,h._1)(m,"b","where"),j=(0,h._1)(s,"condition","where","bool"),$=(0,O.assertAndGetBroadcastShape)((0,O.assertAndGetBroadcastShape)(j.shape,g.shape),S.shape),Y=(0,M.U)(j,$),Q=(0,M.U)(g,$),dt=(0,M.U)(S,$);return b.BV.runKernel(B.PhF,{condition:Y,t:Q,e:dt})}})},6467:(vt,L,t)=>{"use strict";t.d(L,{l:()=>M});var b=t(687),B=t(5359),h=t(3037);function M(O,E="float32"){if((0,B.Mu)(O),"complex64"===E){const f=M(O,"float32"),s=M(O,"float32");return(0,h.P)(f,s)}const v=(0,B.wT)((0,B.NA)(O),E);return b.BV.makeTensor(v,O,E)}},3143:(vt,L,t)=>{"use strict";t.d(L,{P:()=>E});var b=t(687),B=t(4251),h=t(1257);const E=(0,t(4195).op)({zerosLike_:function O(v){const s={x:(0,h._1)(v,"x","zerosLike")};return b.BV.runKernel(B.RuY,s)}})},4705:(vt,L,t)=>{"use strict";function b(B){return B instanceof Float32Array||B instanceof Int32Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray}t.d(L,{j:()=>b})},4945:(vt,L,t)=>{"use strict";t.d(L,{es:()=>G,YD:()=>j,_w:()=>nt,t3:()=>et,FZ:()=>Wt,Vp:()=>ht,Vi:()=>dt});var b=t(5861),B=t(2918),h=t(5359);const M=20,O=3,E=7;function v(x,N,c,R){const H=(0,h.e3)(N),ut=function f(x,N,c,R){const H=(0,h.NA)(N),ut=R[R.length-1],a=new Array(ut).fill(0),bt=N.length,q="complex64"===c?g(x):x;if(bt>1)for(let it=0;it<H/ut;it++){const Dt=it*ut;for(let At=0;At<ut;At++)a[At]=Math.max(a[At],s(q[Dt+At],0,c).length)}return a}(x,N,c,H),a=N.length,bt=m(x,N,c,H,ut),q=["Tensor"];return R&&(q.push(`  dtype: ${c}`),q.push(`  rank: ${a}`),q.push(`  shape: [${N}]`),q.push("  values:")),q.push(bt.map(it=>"    "+it).join("\n")),q.join("\n")}function s(x,N,c){let R;return R=Array.isArray(x)?`${parseFloat(x[0].toFixed(E))} + ${parseFloat(x[1].toFixed(E))}j`:(0,h.HD)(x)?`'${x}'`:"bool"===c?d(x):parseFloat(x.toFixed(E)).toString(),(0,h.oj)(R,N)}function d(x){return 0===x?"false":"true"}function m(x,N,c,R,H,ut=!0){const a="complex64"===c?2:1,bt=N[0],q=N.length;if(0===q)return"complex64"===c?[s(g(x)[0],0,c)]:"bool"===c?[d(x[0])]:[x[0].toString()];if(1===q){if(bt>M){let ae=Array.from(x.slice(0,O*a)),ke=Array.from(x.slice((bt-O)*a,bt*a));return"complex64"===c&&(ae=g(ae),ke=g(ke)),["["+ae.map((Se,on)=>s(Se,H[on],c)).join(", ")+", ..., "+ke.map((Se,on)=>s(Se,H[bt-O+on],c)).join(", ")+"]"]}return["["+("complex64"===c?g(x):Array.from(x)).map((Pe,ae)=>s(Pe,H[ae],c)).join(", ")+"]"]}const it=N.slice(1),Dt=R.slice(1),At=R[0]*a,kt=[];if(bt>M){for(let ie=0;ie<O;ie++){const Pe=ie*At;kt.push(...m(x.slice(Pe,Pe+At),it,c,Dt,H,!1))}kt.push("...");for(let ie=bt-O;ie<bt;ie++){const Pe=ie*At;kt.push(...m(x.slice(Pe,Pe+At),it,c,Dt,H,ie===bt-1))}}else for(let ie=0;ie<bt;ie++){const Pe=ie*At;kt.push(...m(x.slice(Pe,Pe+At),it,c,Dt,H,ie===bt-1))}const Qt=2===q?",":"";kt[0]="["+(bt>0?kt[0]+Qt:"");for(let ie=1;ie<kt.length-1;ie++)kt[ie]=" "+kt[ie]+Qt;let ce=",\n";for(let ie=2;ie<q;ie++)ce+="\n";return kt[kt.length-1]=" "+kt[kt.length-1]+"]"+(ut?"":ce),kt}function g(x){const N=[];for(let c=0;c<x.length;c+=2)N.push([x[c],x[c+1]]);return N}var S=t(1153);class j{constructor(N,c,R){if(this.dtype=c,this.shape=N.slice(),this.size=h.NA(N),null!=R){const H=R.length;h.hu(H===this.size,()=>`Length of values '${H}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===c)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=R||h.rQ(c,this.size),this.strides=(0,h.e3)(N)}set(N,...c){0===c.length&&(c=[0]),h.hu(c.length===this.rank,()=>`The number of provided coordinates (${c.length}) must match the rank (${this.rank})`);const R=this.locToIndex(c);this.values[R]=N}get(...N){0===N.length&&(N=[0]);let c=0;for(const H of N){if(H<0||H>=this.shape[c])throw new Error(`Requested out of range element at ${N}.   Buffer shape=${this.shape}`);c++}let R=N[N.length-1];for(let H=0;H<N.length-1;++H)R+=this.strides[H]*N[H];return this.values[R]}locToIndex(N){if(0===this.rank)return 0;if(1===this.rank)return N[0];let c=N[N.length-1];for(let R=0;R<N.length-1;++R)c+=this.strides[R]*N[R];return c}indexToLoc(N){if(0===this.rank)return[];if(1===this.rank)return[N];const c=new Array(this.shape.length);for(let R=0;R<c.length-1;++R)c[R]=Math.floor(N/this.strides[R]),N-=c[R]*this.strides[R];return c[c.length-1]=N,c}get rank(){return this.shape.length}toTensor(){return $().makeTensor(this.values,this.shape,this.dtype)}}let $=null,Y=null,Q=null;function dt(x){$=x}function ht(x){Y=x}function Wt(x){Q=x}class G{constructor(N,c,R,H){this.kept=!1,this.isDisposedInternal=!1,this.shape=N.slice(),this.dtype=c||"float32",this.size=h.NA(N),this.strides=(0,h.e3)(N),this.dataId=R,this.id=H,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){var N=this;return(0,b.Z)(function*(){const c=yield N.data();return Y.buffer(N.shape,N.dtype,c)})()}bufferSync(){return Y.buffer(this.shape,this.dtype,this.dataSync())}array(){var N=this;return(0,b.Z)(function*(){const c=yield N.data();return(0,h.GX)(N.shape,c,"complex64"===N.dtype)})()}arraySync(){return(0,h.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}data(){var N=this;return(0,b.Z)(function*(){N.throwIfDisposed();const c=$().read(N.dataId);if("string"===N.dtype){const R=yield c;try{return R.map(H=>S.decodeString(H))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return c})()}dataToGPU(N){return this.throwIfDisposed(),$().readToGPU(this.dataId,N)}dataSync(){this.throwIfDisposed();const N=$().readSync(this.dataId);if("string"===this.dtype)try{return N.map(c=>S.decodeString(c))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return N}bytes(){var N=this;return(0,b.Z)(function*(){N.throwIfDisposed();const c=yield $().read(N.dataId);return"string"===N.dtype?c:new Uint8Array(c.buffer)})()}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),$().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(N=!1){return Y.print(this,N)}clone(){return this.throwIfDisposed(),Y.clone(this)}toString(N=!1){return v(this.dataSync(),this.shape,this.dtype,N)}cast(N){return this.throwIfDisposed(),Y.cast(this,N)}variable(N=!0,c,R){return this.throwIfDisposed(),$().makeVariable(this,N,c,R)}}function et(){return(0,B.R)("Tensor",()=>G)}Object.defineProperty(G,Symbol.hasInstance,{value:x=>!!x&&null!=x.data&&null!=x.dataSync&&null!=x.throwIfDisposed}),et();class nt extends G{constructor(N,c,R,H){super(N.shape,N.dtype,N.dataId,H),this.trainable=c,this.name=R}assign(N){if(N.dtype!==this.dtype)throw new Error(`dtype of the new value (${N.dtype}) and previous value (${this.dtype}) must match`);if(!h.cO(N.shape,this.shape))throw new Error(`shape of the new value (${N.shape}) and previous value (${this.shape}) must match`);$().disposeTensor(this),this.dataId=N.dataId,$().incRef(this,null)}dispose(){$().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(nt,Symbol.hasInstance,{value:x=>x instanceof G&&null!=x.assign&&x.assign instanceof Function})},7664:(vt,L,t)=>{"use strict";t.r(L),t.d(L,{assertTypesMatch:()=>O,getTensorsInContainer:()=>v,isTensorInList:()=>E,makeTypesMatch:()=>M});var b=t(4945),B=t(1216),h=t(5359);function M(d,m){if(d.dtype===m.dtype)return[d,m];const g=(0,B.x8)(d.dtype,m.dtype);return[d.cast(g),m.cast(g)]}function O(d,m){(0,h.hu)(d.dtype===m.dtype,()=>`The dtypes of the first(${d.dtype}) and second(${m.dtype}) input must match`)}function E(d,m){return m.some(g=>g.id===d.id)}function v(d){const m=[];return f(d,m,new Set),m}function f(d,m,g){if(null==d)return;if(d instanceof b.es)return void m.push(d);if(!function s(d){return Array.isArray(d)||"object"==typeof d}(d))return;const S=d;for(const j in S){const $=S[j];g.has($)||(g.add($),f($,m,g))}}},1257:(vt,L,t)=>{"use strict";t.d(L,{C:()=>v,_1:()=>d,sI:()=>m});var b=t(687),B=t(5527),h=t(4945),M=t(1216),O=t(1153),E=t(5359);function v(g,S){let j=g;if((0,O.isTypedArray)(g))return"string"===S?[]:[g.length];if((0,M.Oq)(g))return[g.height,g.width*(g.channels||"RGBA").length];if((0,M.$F)(g))return[g.buffer.size/(null==S?4:(0,E.bT)(S))];if(!Array.isArray(g))return[];const $=[];for(;Array.isArray(j)||(0,O.isTypedArray)(j)&&"string"!==S;)$.push(j.length),j=j[0];return Array.isArray(g)&&(0,B.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&f(g,$,[]),$}function f(g,S,j){if(j=j||[],!Array.isArray(g)&&!(0,O.isTypedArray)(g))return void(0,E.hu)(0===S.length,()=>`Element arr[${j.join("][")}] is a primitive, but should be an array/TypedArray of ${S[0]} elements`);(0,E.hu)(S.length>0,()=>`Element arr[${j.join("][")}] should be a primitive, but is an array of ${g.length} elements`),(0,E.hu)(g.length===S[0],()=>`Element arr[${j.join("][")}] should have ${S[0]} elements, but has ${g.length} elements`);const $=S.slice(1);for(let Y=0;Y<g.length;++Y)f(g[Y],$,j.concat(Y))}function s(g,S,j,$){if("string_or_numeric"!==g){if(null==g)throw new Error("Expected dtype cannot be null.");if("numeric"!==g&&g!==S||"numeric"===g&&"string"===S)throw new Error(`Argument '${j}' passed to '${$}' must be ${g} tensor, but got ${S} tensor`)}}function d(g,S,j,$="numeric"){if(g instanceof h.es)return s($,g.dtype,S,j),g;let Y=(0,E.D2)(g);if("string"!==Y&&["bool","int32","float32"].indexOf($)>=0&&(Y=$),s($,Y,S,j),null==g||!(0,O.isTypedArray)(g)&&!Array.isArray(g)&&"number"!=typeof g&&"boolean"!=typeof g&&"string"!=typeof g)throw new Error(`Argument '${S}' passed to '${j}' must be a Tensor or TensorLike, but got '${null==g?"null":g.constructor.name}'`);const Q=v(g,Y);!(0,O.isTypedArray)(g)&&!Array.isArray(g)&&(g=[g]);const ht="string"!==Y?(0,O.toTypedArray)(g,Y):(0,O.flatten)(g,[],!0);return b.BV.makeTensor(ht,Q,Y)}function m(g,S,j,$="numeric"){if(!Array.isArray(g))throw new Error(`Argument ${S} passed to ${j} must be a \`Tensor[]\` or \`TensorLike[]\``);return g.map((Q,dt)=>d(Q,`${S}[${dt}]`,j,$))}},1216:(vt,L,t)=>{"use strict";t.d(L,{$F:()=>d,Oq:()=>s,x8:()=>v,yw:()=>b,z4:()=>f});var b=function(m){return m.R0="R0",m.R1="R1",m.R2="R2",m.R3="R3",m.R4="R4",m.R5="R5",m.R6="R6",m}(b||{}),B=function(m){return m.float32="float32",m.int32="int32",m.bool="int32",m.complex64="complex64",m}(B||{}),h=function(m){return m.float32="float32",m.int32="int32",m.bool="bool",m.complex64="complex64",m}(h||{}),M=function(m){return m.float32="float32",m.int32="float32",m.bool="float32",m.complex64="complex64",m}(M||{}),O=function(m){return m.float32="complex64",m.int32="complex64",m.bool="complex64",m.complex64="complex64",m}(O||{});const E={float32:M,int32:B,bool:h,complex64:O};function v(m,g){if("string"===m||"string"===g){if("string"===m&&"string"===g)return"string";throw new Error(`Can not upcast ${m} with ${g}`)}return E[m][g]}function f(m){return v(m,"int32")}function s(m){return null!=m&&"object"==typeof m&&"texture"in m&&m.texture instanceof WebGLTexture}function d(m){return typeof GPUBuffer<"u"&&null!=m&&"object"==typeof m&&"buffer"in m&&m.buffer instanceof GPUBuffer}},1153:(vt,L,t)=>{"use strict";t.r(L),t.d(L,{arraysEqual:()=>h.cO,arraysEqualWithNull:()=>h.DK,assert:()=>h.hu,assertNonNegativeIntegerDimensions:()=>h.Mu,assertNonNull:()=>h.Cq,assertShapesMatch:()=>h.k5,bytesFromStringArray:()=>h.Ub,bytesPerElement:()=>h.bT,checkConversionForErrors:()=>h.D5,clamp:()=>h.uZ,computeStrides:()=>h.e3,convertBackendValuesAndArrayBuffer:()=>h.KS,createScalarValue:()=>nt,createShuffledIndices:()=>h.U$,decodeString:()=>ut,distSquared:()=>h.E7,encodeString:()=>H,fetch:()=>R,fingerPrint64:()=>et,flatten:()=>bt,getArrayFromDType:()=>h.rQ,getTypedArrayFromDType:()=>h.WP,hasEncodingLoss:()=>h.QB,hexToLong:()=>v,indexToLoc:()=>h.NE,inferDtype:()=>h.D2,inferFromImplicitShape:()=>h.JZ,isBoolean:()=>h.jn,isFunction:()=>h.mf,isInt:()=>h.GN,isNumber:()=>h.hj,isPromise:()=>h.tI,isScalarShape:()=>h.xH,isString:()=>h.HD,isTypedArray:()=>a,isValidDtype:()=>h.LP,locToIndex:()=>h.qy,makeOnesTypedArray:()=>h.p8,makeZerosNestedTypedArray:()=>h.l6,makeZerosTypedArray:()=>h.wT,nearestDivisor:()=>h.jP,nearestLargerEven:()=>h.nY,now:()=>c,parseAxisParam:()=>h.EC,randUniform:()=>h.bj,repeatedTry:()=>h.WD,rightPad:()=>h.oj,shuffle:()=>h.TV,shuffleCombo:()=>h.d7,sizeFromShape:()=>h.NA,sizeToSquarishShape:()=>h.YP,squeezeShape:()=>h.bp,sum:()=>h.Sm,swap:()=>h.LF,tanh:()=>h.AE,toNestedArray:()=>h.GX,toTypedArray:()=>N});var b=t(5527),B=t(4705),h=t(5359),M=t(186);const E=t.n(M)()||M;function v(q){return E.fromString(q,!0,16)}const f=v("c3a5c85c97cb3127"),s=v("b492b66fbe98f273"),d=v("9ae16a3b2f90404f");function m(q){return q.xor(q.shru(47))}function g(q,it,Dt){const At=q.slice(it,it+Dt);return E.fromBytes(Array.from(At),!0,!0)}function S(q,it){return g(q,it,8)}function j(q,it){return g(q,it,4)}function $(q,it){return 0===it?q:q.shru(it).or(q.shl(64-it))}function Y(q,it,Dt=v("9ddfea08eb382d69")){let At=q.xor(it).mul(Dt);At=At.xor(At.shru(47));let kt=it.xor(At).mul(Dt);return kt=kt.xor(kt.shru(47)),kt=kt.mul(Dt),kt}function dt(q,it,Dt,At){return function Q(q,it,Dt,At,kt,Qt){kt=kt.add(q),Qt=$(Qt.add(kt).add(At),21);const ce=kt;return kt=(kt=kt.add(it)).add(Dt),Qt=Qt.add($(kt,44)),[kt.add(At),Qt.add(ce)]}(S(q,it),S(q,it+8),S(q,it+16),S(q,it+24),Dt,At)}function et(q,it=q.length){const Dt=E.fromNumber(81,!0);if(it<=32)return it<=16?function ht(q,it=q.length){if(it>=8){const Dt=d.add(2*it),At=S(q,0).add(d),kt=S(q,it-8);return Y($(kt,37).mul(Dt).add(At),$(At,25).add(kt).mul(Dt),Dt)}if(it>=4){const Dt=d.add(2*it);return Y(j(q,0).shl(3).add(it),j(q,it-4),Dt)}if(it>0){const ce=it+(q[it-1]<<2);return m(d.mul(q[0]+(q[it>>1]<<8)).xor(f.mul(ce))).mul(d)}return d}(q,it):function Wt(q,it=q.length){const Dt=d.add(2*it),At=S(q,0).mul(s),kt=S(q,8),Qt=S(q,it-8).mul(Dt),ce=S(q,it-16).mul(d);return Y($(At.add(kt),43).add($(Qt,30)).add(ce),At.add($(kt.add(d),18)).add(Qt),Dt)}(q,it);if(it<=64)return function G(q,it=q.length){const Dt=d.add(2*it),At=S(q,0).mul(d),kt=S(q,8),Qt=S(q,it-8).mul(Dt),ce=S(q,it-16).mul(d),ie=$(At.add(kt),43).add($(Qt,30)).add(ce),Pe=Y(ie,At.add($(kt.add(d),18)).add(Qt),Dt),ae=S(q,16).mul(Dt),ke=S(q,24),Se=ie.add(S(q,it-32)).mul(Dt),on=Pe.add(S(q,it-24)).mul(Dt);return Y($(ae.add(ke),43).add($(Se,30)).add(on),ae.add($(ke.add(At),18)).add(Se),Dt)}(q,it);let At=Dt,kt=Dt.mul(s).add(113),Qt=m(kt.mul(d).add(113)).mul(d),ce=[E.UZERO,E.UZERO],ie=[E.UZERO,E.UZERO];At=At.mul(d).add(S(q,0));let Pe=0;const ae=64*(it-1>>6),ke=ae+(it-1&63)-63;do{At=$(At.add(kt).add(ce[0]).add(S(q,Pe+8)),37).mul(s),kt=$(kt.add(ce[1]).add(S(q,Pe+48)),42).mul(s),At=At.xor(ie[1]),kt=kt.add(ce[0]).add(S(q,Pe+40)),Qt=$(Qt.add(ie[0]),33).mul(s),ce=dt(q,Pe,ce[1].mul(s),At.add(ie[0])),ie=dt(q,Pe+32,Qt.add(ie[1]),kt.add(S(q,Pe+16))),[Qt,At]=[At,Qt],Pe+=64}while(Pe!==ae);const Se=s.add(Qt.and(255).shl(1));return Pe=ke,ie[0]=ie[0].add(it-1&63),ce[0]=ce[0].add(ie[0]),ie[0]=ie[0].add(ce[0]),At=$(At.add(kt).add(ce[0]).add(S(q,Pe+8)),37).mul(Se),kt=$(kt.add(ce[1]).add(S(q,Pe+48)),42).mul(Se),At=At.xor(ie[1].mul(9)),kt=kt.add(ce[0].mul(9).add(S(q,Pe+40))),Qt=$(Qt.add(ie[0]),33).mul(Se),ce=dt(q,Pe,ce[1].mul(Se),At.add(ie[0])),ie=dt(q,Pe+32,Qt.add(ie[1]),kt.add(S(q,Pe+16))),[Qt,At]=[At,Qt],Y(Y(ce[0],ie[0],Se).add(m(kt).mul(f)).add(Qt),Y(ce[1],ie[1],Se).add(At),Se)}function nt(q,it){return"string"===it?H(q):N([q],it)}function N(q,it){if("string"===it)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(q)&&(q=bt(q)),(0,b.OB)().getBool("DEBUG")&&h.D5(q,it),function x(q,it){return q instanceof Float32Array&&"float32"===it||q instanceof Int32Array&&"int32"===it||q instanceof Uint8Array&&"bool"===it}(q,it))return q;if(null==it||"float32"===it||"complex64"===it)return new Float32Array(q);if("int32"===it)return new Int32Array(q);if("bool"===it){const Dt=new Uint8Array(q.length);for(let At=0;At<Dt.length;++At)0!==Math.round(q[At])&&(Dt[At]=1);return Dt}throw new Error(`Unknown data type ${it}`)}function c(){return(0,b.OB)().platform.now()}function R(q,it){return(0,b.OB)().platform.fetch(q,it)}function H(q,it="utf-8"){return it=it||"utf-8",(0,b.OB)().platform.encode(q,it)}function ut(q,it="utf-8"){return it=it||"utf-8",(0,b.OB)().platform.decode(q,it)}function a(q){return null!=(0,b.OB)().platform.isTypedArray?(0,b.OB)().platform.isTypedArray(q):(0,B.j)(q)}function bt(q,it=[],Dt=!1){if(null==it&&(it=[]),"boolean"==typeof q||"number"==typeof q||"string"==typeof q||h.tI(q)||null==q||a(q)&&Dt)it.push(q);else if(Array.isArray(q)||a(q))for(let At=0;At<q.length;++At)bt(q[At],it,Dt);else{let At=-1;for(const kt of Object.keys(q))/^([1-9]+[0-9]*|0)$/.test(kt)&&(At=Math.max(At,Number(kt)));for(let kt=0;kt<=At;kt++)bt(q[kt],it,Dt)}return it}},5359:(vt,L,t)=>{"use strict";function b(ct){let Bt=ct.length,zt=0;for(;Bt>0;)zt=Math.random()*Bt|0,Bt--,O(ct,Bt,zt)}function B(ct,Bt){if(ct.length!==Bt.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${ct.length}Second array length was ${Bt.length}`);let zt=ct.length,de=0;for(;zt>0;)de=Math.random()*zt|0,zt--,O(ct,zt,de),O(Bt,zt,de)}function h(ct,Bt,zt){return Math.max(ct,Math.min(Bt,zt))}function M(ct){return ct%2==0?ct:ct+1}function O(ct,Bt,zt){const de=ct[Bt];ct[Bt]=ct[zt],ct[zt]=de}function E(ct){let Bt=0;for(let zt=0;zt<ct.length;zt++)Bt+=ct[zt];return Bt}function v(ct,Bt){const zt=Math.random();return Bt*zt+(1-zt)*ct}function f(ct,Bt){let zt=0;for(let de=0;de<ct.length;de++){const Ve=Number(ct[de])-Number(Bt[de]);zt+=Ve*Ve}return zt}function s(ct,Bt){if(!ct)throw new Error("string"==typeof Bt?Bt:Bt())}function d(ct,Bt,zt=""){s($(ct,Bt),()=>zt+` Shapes ${ct} and ${Bt} must match`)}function m(ct){s(null!=ct,()=>"The input to the tensor constructor must be a non-null value.")}function g(ct){if(0===ct.length)return 1;let Bt=ct[0];for(let zt=1;zt<ct.length;zt++)Bt*=ct[zt];return Bt}function S(ct){return 0===ct.length}function j(ct,Bt){if(ct===Bt)return!0;if(null==ct||null==Bt||ct.length!==Bt.length)return!1;for(let zt=0;zt<ct.length;zt++)if(null!==ct[zt]&&null!==Bt[zt]&&ct[zt]!==Bt[zt])return!1;return!0}function $(ct,Bt){if(ct===Bt)return!0;if(null==ct||null==Bt||ct.length!==Bt.length)return!1;for(let zt=0;zt<ct.length;zt++)if(ct[zt]!==Bt[zt])return!1;return!0}function Y(ct){return ct%1==0}function Q(ct){if(null!=Math.tanh)return Math.tanh(ct);if(ct===1/0)return 1;if(ct===-1/0)return-1;{const Bt=Math.exp(2*ct);return(Bt-1)/(Bt+1)}}function dt(ct){const Bt=Math.ceil(Math.sqrt(ct));return[Bt,Math.ceil(ct/Bt)]}function ht(ct){const Bt=new Uint32Array(ct);for(let zt=0;zt<ct;++zt)Bt[zt]=zt;return b(Bt),Bt}function Wt(ct,Bt){return Bt<=ct.length?ct:ct+" ".repeat(Bt-ct.length)}function G(ct,Bt=(Ve=>0),zt,de){return new Promise((Ve,rn)=>{let qe=0;const un=()=>{if(ct())return void Ve();qe++;const Kn=Bt(qe);null!=zt&&qe>=zt?rn():null!=de?de(un,Kn):setTimeout(un,Kn)};un()})}function et(ct,Bt){let zt=1,de=-1;for(let rn=0;rn<ct.length;++rn)if(ct[rn]>=0)zt*=ct[rn];else if(-1===ct[rn]){if(-1!==de)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${de} and dim ${rn}`);de=rn}else if(ct[rn]<0)throw Error(`Shapes can not be < 0. Found ${ct[rn]} at dim ${rn}`);if(-1===de){if(Bt>0&&Bt!==zt)throw Error(`Size(${Bt}) must match the product of shape ${ct}`);return ct}if(0===zt)throw Error(`Cannot infer the missing size in [${ct}] when there are 0 elements`);if(Bt%zt!=0)throw Error(`The implicit shape can't be a fractional number. Got ${Bt} / ${zt}`);const Ve=ct.slice();return Ve[de]=Bt/zt,Ve}function nt(ct,Bt){const zt=Bt.length;return s((ct=null==ct?Bt.map((de,Ve)=>Ve):[].concat(ct)).every(de=>de>=-zt&&de<zt),()=>`All values in axis param must be in range [-${zt}, ${zt}) but got axis ${ct}`),s(ct.every(de=>Y(de)),()=>`All values in axis param must be integers but got axis ${ct}`),ct.map(de=>de<0?zt+de:de)}function x(ct,Bt){const zt=[],de=[],Ve=null!=Bt&&Array.isArray(Bt)&&0===Bt.length,rn=null==Bt||Ve?null:nt(Bt,ct).sort();let qe=0;for(let un=0;un<ct.length;++un){if(null!=rn){if(rn[qe]===un&&1!==ct[un])throw new Error(`Can't squeeze axis ${un} since its dim '${ct[un]}' is not 1`);(null==rn[qe]||rn[qe]>un)&&1===ct[un]&&(zt.push(ct[un]),de.push(un)),rn[qe]<=un&&qe++}1!==ct[un]&&(zt.push(ct[un]),de.push(un))}return{newShape:zt,keptDims:de}}function N(ct,Bt){return c(ct,Bt)}function c(ct,Bt){let zt=null;if(null==ct||"float32"===ct)zt=new Float32Array(Bt);else if("int32"===ct)zt=new Int32Array(Bt);else if("bool"===ct)zt=new Uint8Array(Bt);else{if("string"!==ct)throw new Error(`Unknown data type ${ct}`);zt=new Array(Bt)}return zt}function R(ct,Bt){for(let zt=0;zt<ct.length;zt++){const de=ct[zt];if(isNaN(de)||!isFinite(de))throw Error(`A tensor of type ${Bt} being uploaded contains ${de}.`)}}function H(ct){return"bool"===ct||"complex64"===ct||"float32"===ct||"int32"===ct||"string"===ct}function ut(ct,Bt){return!("complex64"===Bt||"float32"===Bt&&"complex64"!==ct||"int32"===Bt&&"float32"!==ct&&"complex64"!==ct||"bool"===Bt&&"bool"===ct)}function a(ct){if("float32"===ct||"int32"===ct)return 4;if("complex64"===ct)return 8;if("bool"===ct)return 1;throw new Error(`Unknown dtype ${ct}`)}function bt(ct){if(null==ct)return 0;let Bt=0;return ct.forEach(zt=>Bt+=zt.length),Bt}function q(ct){return"string"==typeof ct||ct instanceof String}function it(ct){return"boolean"==typeof ct}function Dt(ct){return"number"==typeof ct}function At(ct){return Array.isArray(ct)?At(ct[0]):ct instanceof Float32Array?"float32":ct instanceof Int32Array||ct instanceof Uint8Array||ct instanceof Uint8ClampedArray?"int32":Dt(ct)?"float32":q(ct)?"string":it(ct)?"bool":"float32"}function kt(ct){return!!(ct&&ct.constructor&&ct.call&&ct.apply)}function Qt(ct,Bt){for(let zt=Bt;zt<ct;++zt)if(ct%zt==0)return zt;return ct}function ce(ct){const Bt=ct.length;if(Bt<2)return[];const zt=new Array(Bt-1);zt[Bt-2]=ct[Bt-1];for(let de=Bt-3;de>=0;--de)zt[de]=zt[de+1]*ct[de+1];return zt}function ie(ct,Bt,zt,de=!1){const Ve=new Array;if(1===Bt.length){const rn=Bt[0]*(de?2:1);for(let qe=0;qe<rn;qe++)Ve[qe]=zt[ct+qe]}else{const rn=Bt[0],qe=Bt.slice(1),un=qe.reduce((Kn,tr)=>Kn*tr)*(de?2:1);for(let Kn=0;Kn<rn;Kn++)Ve[Kn]=ie(ct+Kn*un,qe,zt,de)}return Ve}function Pe(ct,Bt,zt=!1){if(0===ct.length)return Bt[0];const de=ct.reduce((Ve,rn)=>Ve*rn)*(zt?2:1);if(0===de)return[];if(de!==Bt.length)throw new Error(`[${ct}] does not match the input size ${Bt.length}${zt?" for a complex tensor":""}.`);return ie(0,ct,Bt,zt)}function ae(ct,Bt){if(Array.isArray(ct))return ct;if("float32"===Bt)return ct instanceof Float32Array?ct:new Float32Array(ct);if("int32"===Bt)return ct instanceof Int32Array?ct:new Int32Array(ct);if("bool"===Bt||"string"===Bt)return Uint8Array.from(new Int32Array(ct));throw new Error(`Unknown dtype ${Bt}`)}function ke(ct,Bt){const zt=Se(ct,Bt);for(let de=0;de<zt.length;de++)zt[de]=1;return zt}function Se(ct,Bt){if(null==Bt||"float32"===Bt||"complex64"===Bt)return new Float32Array(ct);if("int32"===Bt)return new Int32Array(ct);if("bool"===Bt)return new Uint8Array(ct);throw new Error(`Unknown data type ${Bt}`)}function on(ct,Bt){const zt=ct.reduce((de,Ve)=>de*Ve,1);if(null==Bt||"float32"===Bt)return Pe(ct,new Float32Array(zt));if("int32"===Bt)return Pe(ct,new Int32Array(zt));if("bool"===Bt)return Pe(ct,new Uint8Array(zt));throw new Error(`Unknown data type ${Bt}`)}function _n(ct){ct.forEach(Bt=>{s(Number.isInteger(Bt)&&Bt>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${ct}].`)})}function vn(ct,Bt,zt){if(0===Bt)return 0;if(1===Bt)return ct[0];let de=ct[ct.length-1];for(let Ve=0;Ve<ct.length-1;++Ve)de+=zt[Ve]*ct[Ve];return de}function An(ct,Bt,zt){if(0===Bt)return[];if(1===Bt)return[ct];const de=new Array(Bt);for(let Ve=0;Ve<de.length-1;++Ve)de[Ve]=Math.floor(ct/zt[Ve]),ct-=de[Ve]*zt[Ve];return de[de.length-1]=ct,de}function Je(ct){return ct&&ct.then&&"function"==typeof ct.then}t.d(L,{AE:()=>Q,Cq:()=>m,D2:()=>At,D5:()=>R,DK:()=>j,E7:()=>f,EC:()=>nt,GN:()=>Y,GX:()=>Pe,HD:()=>q,JZ:()=>et,KS:()=>ae,LF:()=>O,LP:()=>H,Mu:()=>_n,NA:()=>g,NE:()=>An,QB:()=>ut,Sm:()=>E,TV:()=>b,U$:()=>ht,Ub:()=>bt,WD:()=>G,WP:()=>N,YP:()=>dt,bT:()=>a,bj:()=>v,bp:()=>x,cO:()=>$,d7:()=>B,e3:()=>ce,hj:()=>Dt,hu:()=>s,jP:()=>Qt,jn:()=>it,k5:()=>d,l6:()=>on,mf:()=>kt,nY:()=>M,oj:()=>Wt,p8:()=>ke,qy:()=>vn,rQ:()=>c,tI:()=>Je,uZ:()=>h,wT:()=>Se,xH:()=>S})},186:vt=>{vt.exports=t;var L=null;try{L=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(N,c,R){this.low=0|N,this.high=0|c,this.unsigned=!!R}function b(N){return!0===(N&&N.__isLong__)}Object.defineProperty(t.prototype,"__isLong__",{value:!0}),t.isLong=b;var B={},h={};function M(N,c){var R,H,ut;return c?(ut=0<=(N>>>=0)&&N<256)&&(H=h[N])?H:(R=E(N,(0|N)<0?-1:0,!0),ut&&(h[N]=R),R):(ut=-128<=(N|=0)&&N<128)&&(H=B[N])?H:(R=E(N,N<0?-1:0,!1),ut&&(B[N]=R),R)}function O(N,c){if(isNaN(N))return c?Q:Y;if(c){if(N<0)return Q;if(N>=S)return et}else{if(N<=-j)return nt;if(N+1>=j)return G}return N<0?O(-N,c).neg():E(N%g|0,N/g|0,c)}function E(N,c,R){return new t(N,c,R)}t.fromInt=M,t.fromNumber=O,t.fromBits=E;var v=Math.pow;function f(N,c,R){if(0===N.length)throw Error("empty string");if("NaN"===N||"Infinity"===N||"+Infinity"===N||"-Infinity"===N)return Y;if("number"==typeof c?(R=c,c=!1):c=!!c,(R=R||10)<2||36<R)throw RangeError("radix");var H;if((H=N.indexOf("-"))>0)throw Error("interior hyphen");if(0===H)return f(N.substring(1),c,R).neg();for(var ut=O(v(R,8)),a=Y,bt=0;bt<N.length;bt+=8){var q=Math.min(8,N.length-bt),it=parseInt(N.substring(bt,bt+q),R);if(q<8){var Dt=O(v(R,q));a=a.mul(Dt).add(O(it))}else a=(a=a.mul(ut)).add(O(it))}return a.unsigned=c,a}function s(N,c){return"number"==typeof N?O(N,c):"string"==typeof N?f(N,c):E(N.low,N.high,"boolean"==typeof c?c:N.unsigned)}t.fromString=f,t.fromValue=s;var g=4294967296,S=g*g,j=S/2,$=M(1<<24),Y=M(0);t.ZERO=Y;var Q=M(0,!0);t.UZERO=Q;var dt=M(1);t.ONE=dt;var ht=M(1,!0);t.UONE=ht;var Wt=M(-1);t.NEG_ONE=Wt;var G=E(-1,2147483647,!1);t.MAX_VALUE=G;var et=E(-1,-1,!0);t.MAX_UNSIGNED_VALUE=et;var nt=E(0,-2147483648,!1);t.MIN_VALUE=nt;var x=t.prototype;x.toInt=function(){return this.unsigned?this.low>>>0:this.low},x.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},x.toString=function(c){if((c=c||10)<2||36<c)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(nt)){var R=O(c),H=this.div(R),ut=H.mul(R).sub(this);return H.toString(c)+ut.toInt().toString(c)}return"-"+this.neg().toString(c)}for(var a=O(v(c,6),this.unsigned),bt=this,q="";;){var it=bt.div(a),At=(bt.sub(it.mul(a)).toInt()>>>0).toString(c);if((bt=it).isZero())return At+q;for(;At.length<6;)At="0"+At;q=""+At+q}},x.getHighBits=function(){return this.high},x.getHighBitsUnsigned=function(){return this.high>>>0},x.getLowBits=function(){return this.low},x.getLowBitsUnsigned=function(){return this.low>>>0},x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nt)?64:this.neg().getNumBitsAbs();for(var c=0!=this.high?this.high:this.low,R=31;R>0&&!(c&1<<R);R--);return 0!=this.high?R+33:R+1},x.isZero=function(){return 0===this.high&&0===this.low},x.eqz=x.isZero,x.isNegative=function(){return!this.unsigned&&this.high<0},x.isPositive=function(){return this.unsigned||this.high>=0},x.isOdd=function(){return 1==(1&this.low)},x.isEven=function(){return 0==(1&this.low)},x.equals=function(c){return b(c)||(c=s(c)),(this.unsigned===c.unsigned||this.high>>>31!=1||c.high>>>31!=1)&&this.high===c.high&&this.low===c.low},x.eq=x.equals,x.notEquals=function(c){return!this.eq(c)},x.neq=x.notEquals,x.ne=x.notEquals,x.lessThan=function(c){return this.comp(c)<0},x.lt=x.lessThan,x.lessThanOrEqual=function(c){return this.comp(c)<=0},x.lte=x.lessThanOrEqual,x.le=x.lessThanOrEqual,x.greaterThan=function(c){return this.comp(c)>0},x.gt=x.greaterThan,x.greaterThanOrEqual=function(c){return this.comp(c)>=0},x.gte=x.greaterThanOrEqual,x.ge=x.greaterThanOrEqual,x.compare=function(c){if(b(c)||(c=s(c)),this.eq(c))return 0;var R=this.isNegative(),H=c.isNegative();return R&&!H?-1:!R&&H?1:this.unsigned?c.high>>>0>this.high>>>0||c.high===this.high&&c.low>>>0>this.low>>>0?-1:1:this.sub(c).isNegative()?-1:1},x.comp=x.compare,x.negate=function(){return!this.unsigned&&this.eq(nt)?nt:this.not().add(dt)},x.neg=x.negate,x.add=function(c){b(c)||(c=s(c));var At=0,kt=0,Qt=0,ce=0;return Qt+=(ce+=(65535&this.low)+(65535&c.low))>>>16,kt+=(Qt+=(this.low>>>16)+(c.low>>>16))>>>16,At+=(kt+=(65535&this.high)+(65535&c.high))>>>16,At+=(this.high>>>16)+(c.high>>>16),E((Qt&=65535)<<16|(ce&=65535),(At&=65535)<<16|(kt&=65535),this.unsigned)},x.subtract=function(c){return b(c)||(c=s(c)),this.add(c.neg())},x.sub=x.subtract,x.multiply=function(c){if(this.isZero())return Y;if(b(c)||(c=s(c)),L)return E(L.mul(this.low,this.high,c.low,c.high),L.get_high(),this.unsigned);if(c.isZero())return Y;if(this.eq(nt))return c.isOdd()?nt:Y;if(c.eq(nt))return this.isOdd()?nt:Y;if(this.isNegative())return c.isNegative()?this.neg().mul(c.neg()):this.neg().mul(c).neg();if(c.isNegative())return this.mul(c.neg()).neg();if(this.lt($)&&c.lt($))return O(this.toNumber()*c.toNumber(),this.unsigned);var ut=65535&this.high,a=this.low>>>16,bt=65535&this.low,it=65535&c.high,Dt=c.low>>>16,At=65535&c.low,kt=0,Qt=0,ce=0,ie=0;return ce+=(ie+=bt*At)>>>16,Qt+=(ce+=a*At)>>>16,ce&=65535,Qt+=(ce+=bt*Dt)>>>16,kt+=(Qt+=ut*At)>>>16,Qt&=65535,kt+=(Qt+=a*Dt)>>>16,Qt&=65535,kt+=(Qt+=bt*it)>>>16,kt+=(this.high>>>16)*At+ut*Dt+a*it+bt*(c.high>>>16),E((ce&=65535)<<16|(ie&=65535),(kt&=65535)<<16|(Qt&=65535),this.unsigned)},x.mul=x.multiply,x.divide=function(c){if(b(c)||(c=s(c)),c.isZero())throw Error("division by zero");var H,ut,a;if(L)return this.unsigned||-2147483648!==this.high||-1!==c.low||-1!==c.high?E((this.unsigned?L.div_u:L.div_s)(this.low,this.high,c.low,c.high),L.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Q:Y;if(this.unsigned){if(c.unsigned||(c=c.toUnsigned()),c.gt(this))return Q;if(c.gt(this.shru(1)))return ht;a=Q}else{if(this.eq(nt))return c.eq(dt)||c.eq(Wt)?nt:c.eq(nt)?dt:(H=this.shr(1).div(c).shl(1)).eq(Y)?c.isNegative()?dt:Wt:(ut=this.sub(c.mul(H)),a=H.add(ut.div(c)));if(c.eq(nt))return this.unsigned?Q:Y;if(this.isNegative())return c.isNegative()?this.neg().div(c.neg()):this.neg().div(c).neg();if(c.isNegative())return this.div(c.neg()).neg();a=Y}for(ut=this;ut.gte(c);){H=Math.max(1,Math.floor(ut.toNumber()/c.toNumber()));for(var q=Math.ceil(Math.log(H)/Math.LN2),it=q<=48?1:v(2,q-48),Dt=O(H),At=Dt.mul(c);At.isNegative()||At.gt(ut);)At=(Dt=O(H-=it,this.unsigned)).mul(c);Dt.isZero()&&(Dt=dt),a=a.add(Dt),ut=ut.sub(At)}return a},x.div=x.divide,x.modulo=function(c){return b(c)||(c=s(c)),L?E((this.unsigned?L.rem_u:L.rem_s)(this.low,this.high,c.low,c.high),L.get_high(),this.unsigned):this.sub(this.div(c).mul(c))},x.mod=x.modulo,x.rem=x.modulo,x.not=function(){return E(~this.low,~this.high,this.unsigned)},x.and=function(c){return b(c)||(c=s(c)),E(this.low&c.low,this.high&c.high,this.unsigned)},x.or=function(c){return b(c)||(c=s(c)),E(this.low|c.low,this.high|c.high,this.unsigned)},x.xor=function(c){return b(c)||(c=s(c)),E(this.low^c.low,this.high^c.high,this.unsigned)},x.shiftLeft=function(c){return b(c)&&(c=c.toInt()),0==(c&=63)?this:c<32?E(this.low<<c,this.high<<c|this.low>>>32-c,this.unsigned):E(0,this.low<<c-32,this.unsigned)},x.shl=x.shiftLeft,x.shiftRight=function(c){return b(c)&&(c=c.toInt()),0==(c&=63)?this:c<32?E(this.low>>>c|this.high<<32-c,this.high>>c,this.unsigned):E(this.high>>c-32,this.high>=0?0:-1,this.unsigned)},x.shr=x.shiftRight,x.shiftRightUnsigned=function(c){if(b(c)&&(c=c.toInt()),0==(c&=63))return this;var R=this.high;return c<32?E(this.low>>>c|R<<32-c,R>>>c,this.unsigned):E(32===c?R:R>>>c-32,0,this.unsigned)},x.shru=x.shiftRightUnsigned,x.shr_u=x.shiftRightUnsigned,x.toSigned=function(){return this.unsigned?E(this.low,this.high,!1):this},x.toUnsigned=function(){return this.unsigned?this:E(this.low,this.high,!0)},x.toBytes=function(c){return c?this.toBytesLE():this.toBytesBE()},x.toBytesLE=function(){var c=this.high,R=this.low;return[255&R,R>>>8&255,R>>>16&255,R>>>24,255&c,c>>>8&255,c>>>16&255,c>>>24]},x.toBytesBE=function(){var c=this.high,R=this.low;return[c>>>24,c>>>16&255,c>>>8&255,255&c,R>>>24,R>>>16&255,R>>>8&255,255&R]},t.fromBytes=function(c,R,H){return H?t.fromBytesLE(c,R):t.fromBytesBE(c,R)},t.fromBytesLE=function(c,R){return new t(c[0]|c[1]<<8|c[2]<<16|c[3]<<24,c[4]|c[5]<<8|c[6]<<16|c[7]<<24,R)},t.fromBytesBE=function(c,R){return new t(c[4]<<24|c[5]<<16|c[6]<<8|c[7],c[0]<<24|c[1]<<16|c[2]<<8|c[3],R)}},9128:(vt,L,t)=>{var b=t(9864),B=t(3919),h=t(3263),M=t(5353),O=t(3358),E=t(3789),v=t(2508);v.alea=b,v.xor128=B,v.xorwow=h,v.xorshift7=M,v.xor4096=O,v.tychei=E,vt.exports=v},9864:function(vt,L,t){var b;!function(B,h,M){function O(s){var d=this,m=function f(){var s=4022871197;return function(m){m=String(m);for(var g=0;g<m.length;g++){var S=.02519603282416938*(s+=m.charCodeAt(g));S-=s=S>>>0,s=(S*=s)>>>0,s+=4294967296*(S-=s)}return 2.3283064365386963e-10*(s>>>0)}}();d.next=function(){var g=2091639*d.s0+2.3283064365386963e-10*d.c;return d.s0=d.s1,d.s1=d.s2,d.s2=g-(d.c=0|g)},d.c=1,d.s0=m(" "),d.s1=m(" "),d.s2=m(" "),d.s0-=m(s),d.s0<0&&(d.s0+=1),d.s1-=m(s),d.s1<0&&(d.s1+=1),d.s2-=m(s),d.s2<0&&(d.s2+=1),m=null}function E(s,d){return d.c=s.c,d.s0=s.s0,d.s1=s.s1,d.s2=s.s2,d}function v(s,d){var m=new O(s),g=d&&d.state,S=m.next;return S.int32=function(){return 4294967296*m.next()|0},S.double=function(){return S()+11102230246251565e-32*(2097152*S()|0)},S.quick=S,g&&("object"==typeof g&&E(g,m),S.state=function(){return E(m,{})}),S}h&&h.exports?h.exports=v:t.amdD&&t.amdO?void 0!==(b=function(){return v}.call(L,t,L,h))&&(h.exports=b):this.alea=v}(0,vt=t.nmd(vt))},3789:function(vt,L,t){var b;!function(B,h,M){function O(f){var s=this,d="";s.next=function(){var g=s.b,S=s.c,j=s.d,$=s.a;return g=g<<25^g>>>7^S,S=S-j|0,j=j<<24^j>>>8^$,$=$-g|0,s.b=g=g<<20^g>>>12^S,s.c=S=S-j|0,s.d=j<<16^S>>>16^$,s.a=$-g|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,f===Math.floor(f)?(s.a=f/4294967296|0,s.b=0|f):d+=f;for(var m=0;m<d.length+20;m++)s.b^=0|d.charCodeAt(m),s.next()}function E(f,s){return s.a=f.a,s.b=f.b,s.c=f.c,s.d=f.d,s}function v(f,s){var d=new O(f),m=s&&s.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do{var $=((d.next()>>>11)+(d.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},g.int32=d.next,g.quick=g,m&&("object"==typeof m&&E(m,d),g.state=function(){return E(d,{})}),g}h&&h.exports?h.exports=v:t.amdD&&t.amdO?void 0!==(b=function(){return v}.call(L,t,L,h))&&(h.exports=b):this.tychei=v}(0,vt=t.nmd(vt))},3919:function(vt,L,t){var b;!function(B,h,M){function O(f){var s=this,d="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var g=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^g^g>>>8},f===(0|f)?s.x=f:d+=f;for(var m=0;m<d.length+64;m++)s.x^=0|d.charCodeAt(m),s.next()}function E(f,s){return s.x=f.x,s.y=f.y,s.z=f.z,s.w=f.w,s}function v(f,s){var d=new O(f),m=s&&s.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do{var $=((d.next()>>>11)+(d.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},g.int32=d.next,g.quick=g,m&&("object"==typeof m&&E(m,d),g.state=function(){return E(d,{})}),g}h&&h.exports?h.exports=v:t.amdD&&t.amdO?void 0!==(b=function(){return v}.call(L,t,L,h))&&(h.exports=b):this.xor128=v}(0,vt=t.nmd(vt))},3358:function(vt,L,t){var b;!function(B,h,M){function O(f){var s=this;s.next=function(){var j,$,m=s.w,g=s.X,S=s.i;return s.w=m=m+1640531527|0,$=g[S+34&127],j=g[S=S+1&127],$^=$<<13,j^=j<<17,$=g[S]=($^=$>>>15)^(j^=j>>>12),s.i=S,$+(m^m>>>16)|0},function d(m,g){var S,j,$,Y,Q,dt=[],ht=128;for(g===(0|g)?(j=g,g=null):(g+="\0",j=0,ht=Math.max(ht,g.length)),$=0,Y=-32;Y<ht;++Y)g&&(j^=g.charCodeAt((Y+32)%g.length)),0===Y&&(Q=j),j^=j<<10,j^=j>>>15,j^=j<<4,j^=j>>>13,Y>=0&&($=0==(S=dt[127&Y]^=j+(Q=Q+1640531527|0))?$+1:0);for($>=128&&(dt[127&(g&&g.length||0)]=-1),$=127,Y=512;Y>0;--Y)j=dt[$+34&127],S=dt[$=$+1&127],j^=j<<13,S^=S<<17,dt[$]=(j^=j>>>15)^(S^=S>>>12);m.w=Q,m.X=dt,m.i=$}(s,f)}function E(f,s){return s.i=f.i,s.w=f.w,s.X=f.X.slice(),s}function v(f,s){null==f&&(f=+new Date);var d=new O(f),m=s&&s.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do{var $=((d.next()>>>11)+(d.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},g.int32=d.next,g.quick=g,m&&(m.X&&E(m,d),g.state=function(){return E(d,{})}),g}h&&h.exports?h.exports=v:t.amdD&&t.amdO?void 0!==(b=function(){return v}.call(L,t,L,h))&&(h.exports=b):this.xor4096=v}(0,vt=t.nmd(vt))},5353:function(vt,L,t){var b;!function(B,h,M){function O(f){var s=this;s.next=function(){var S,j,m=s.x,g=s.i;return S=m[g],j=(S^=S>>>7)^S<<24,j^=(S=m[g+1&7])^S>>>10,j^=(S=m[g+3&7])^S>>>3,j^=(S=m[g+4&7])^S<<7,S=m[g+7&7],m[g]=j^=(S^=S<<13)^S<<9,s.i=g+1&7,j},function d(m,g){var S,$=[];if(g===(0|g))$[0]=g;else for(g=""+g,S=0;S<g.length;++S)$[7&S]=$[7&S]<<15^g.charCodeAt(S)+$[S+1&7]<<13;for(;$.length<8;)$.push(0);for(S=0;S<8&&0===$[S];++S);for(8==S&&($[7]=-1),m.x=$,m.i=0,S=256;S>0;--S)m.next()}(s,f)}function E(f,s){return s.x=f.x.slice(),s.i=f.i,s}function v(f,s){null==f&&(f=+new Date);var d=new O(f),m=s&&s.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do{var $=((d.next()>>>11)+(d.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},g.int32=d.next,g.quick=g,m&&(m.x&&E(m,d),g.state=function(){return E(d,{})}),g}h&&h.exports?h.exports=v:t.amdD&&t.amdO?void 0!==(b=function(){return v}.call(L,t,L,h))&&(h.exports=b):this.xorshift7=v}(0,vt=t.nmd(vt))},3263:function(vt,L,t){var b;!function(B,h,M){function O(f){var s=this,d="";s.next=function(){var g=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^g^g<<1)|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,f===(0|f)?s.x=f:d+=f;for(var m=0;m<d.length+64;m++)s.x^=0|d.charCodeAt(m),m==d.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function E(f,s){return s.x=f.x,s.y=f.y,s.z=f.z,s.w=f.w,s.v=f.v,s.d=f.d,s}function v(f,s){var d=new O(f),m=s&&s.state,g=function(){return(d.next()>>>0)/4294967296};return g.double=function(){do{var $=((d.next()>>>11)+(d.next()>>>0)/4294967296)/(1<<21)}while(0===$);return $},g.int32=d.next,g.quick=g,m&&("object"==typeof m&&E(m,d),g.state=function(){return E(d,{})}),g}h&&h.exports?h.exports=v:t.amdD&&t.amdO?void 0!==(b=function(){return v}.call(L,t,L,h))&&(h.exports=b):this.xorwow=v}(0,vt=t.nmd(vt))},2508:function(vt,L,t){var b;!function(B,h,M){var S,O=256,s=M.pow(O,6),d=M.pow(2,52),m=2*d,g=O-1;function j(G,et,nt){var x=[],N=dt(Q((et=1==et?{entropy:!0}:et||{}).entropy?[G,Wt(h)]:null==G?function ht(){try{var G;return S&&(G=S.randomBytes)?G=G(O):(G=new Uint8Array(O),(B.crypto||B.msCrypto).getRandomValues(G)),Wt(G)}catch{var et=B.navigator,nt=et&&et.plugins;return[+new Date,B,nt,B.screen,Wt(h)]}}():G,3),x),c=new $(x),R=function(){for(var H=c.g(6),ut=s,a=0;H<d;)H=(H+a)*O,ut*=O,a=c.g(1);for(;H>=m;)H/=2,ut/=2,a>>>=1;return(H+a)/ut};return R.int32=function(){return 0|c.g(4)},R.quick=function(){return c.g(4)/4294967296},R.double=R,dt(Wt(c.S),h),(et.pass||nt||function(H,ut,a,bt){return bt&&(bt.S&&Y(bt,c),H.state=function(){return Y(c,{})}),a?(M.random=H,ut):H})(R,N,"global"in et?et.global:this==M,et.state)}function $(G){var et,nt=G.length,x=this,N=0,c=x.i=x.j=0,R=x.S=[];for(nt||(G=[nt++]);N<O;)R[N]=N++;for(N=0;N<O;N++)R[N]=R[c=g&c+G[N%nt]+(et=R[N])],R[c]=et;(x.g=function(H){for(var ut,a=0,bt=x.i,q=x.j,it=x.S;H--;)ut=it[bt=g&bt+1],a=a*O+it[g&(it[bt]=it[q=g&q+ut])+(it[q]=ut)];return x.i=bt,x.j=q,a})(O)}function Y(G,et){return et.i=G.i,et.j=G.j,et.S=G.S.slice(),et}function Q(G,et){var N,nt=[],x=typeof G;if(et&&"object"==x)for(N in G)try{nt.push(Q(G[N],et-1))}catch{}return nt.length?nt:"string"==x?G:G+"\0"}function dt(G,et){for(var x,nt=G+"",N=0;N<nt.length;)et[g&N]=g&(x^=19*et[g&N])+nt.charCodeAt(N++);return Wt(et)}function Wt(G){return String.fromCharCode.apply(0,G)}if(dt(M.random(),h),vt.exports){vt.exports=j;try{S=t(5042)}catch{}}else void 0!==(b=function(){return j}.call(L,t,L,vt))&&(vt.exports=b)}(typeof self<"u"?self:this,[],Math)},5410:()=>{},8628:()=>{},5042:()=>{}}]);